local a={}local b;local cloneref=cloneref or function(...)return...end;local function c(d)Main=d.Main;Lib=d.Lib;Apps=d.Apps;Settings=d.Settings;API=d.API;RMD=d.RMD;env=d.env;service=d.service;plr=d.plr;create=d.create;createSimple=d.createSimple end;local function e()Explorer=Apps.Explorer;Properties=Apps.Properties;ScriptViewer=Apps.ScriptViewer;Notebook=Apps.Notebook end;local function f()local Explorer={}local g,h,i,j,k={},{},{},{},{}local l;local m,o,p,q,r,s;local t=game.FindFirstAncestorWhichIsA;local u=game.GetDescendants;local v=service.TextService.GetTextSize;local w,x=false,false;local y={Obj=Instance.new("Folder")}local z=0;local A,B,C;local D,E,F;local G,H;local table,math=table,math;local I,J={},{}local K=game.DescendantAdded.Connect;local L,M,N=nil,nil,nil;L=function(O)if a[O]then return end;local P=false;local Q=t(O,"Instance")local R=a[Q]if not R then if I[O]then J[O]=J[O]or{K(O.ChildAdded,L),K(O.AncestryChanged,N)}R=y;P=true else return end elseif I[Q]or R==y then I[O]=true;J[O]=J[O]or{K(O.ChildAdded,L),K(O.AncestryChanged,N)}P=true end;local S={Obj=O,Parent=R}a[O]=S;if G and l[R]and R.Sorted then local T,U=1,#R;local V=math.floor;local W=Explorer.NodeSorter;local pos=U==0 and 1;if not pos then while true do if T>=U then if W(S,R[T])then pos=T else pos=T+1 end;break end;local X=V((T+U)/2)if W(S,R[X])then U=X-1 else T=X+1 end end end;table.insert(R,pos,S)else R[#R+1]=S;R.Sorted=nil end;local Y=u(O)for Z=1,#Y do local a0=Y[Z]if not a[a0]then local R=a[t(a0,"Instance")]if R then local S={Obj=a0,Parent=R}a[a0]=S;R[#R+1]=S;if P then I[a0]=true;J[a0]=J[a0]or{K(a0.ChildAdded,L),K(a0.AncestryChanged,N)}end end end end;if F and H then F({S})end;if not w and Explorer.IsNodeVisible(R)then if l[R]then Explorer.PerformUpdate()elseif not x then Explorer.PerformRefresh()end end end;M=function(O)local a1=a[O]if not a1 then return end;if I[a1.Obj]then N(a1.Obj)return end;local R=a1.Parent;if R then R.HasDel=true end;local function a2(O)for Z=1,#O do local a1=O[Z]if not a1.Del then a[a1.Obj]=nil;if#a1>0 then a2(a1)end end end end;a2(a1)a1.Del=true;a[O]=nil;if R and not w and Explorer.IsNodeVisible(R)then if l[R]then Explorer.PerformUpdate()elseif not x then Explorer.PerformRefresh()end end end;N=function(a0)local a1=a[a0]if not a1 then return end;local a3=a1.Parent;local a4=a[t(a0,"Instance")]if a3==a4 then return end;if not a4 then if I[a0]then a4=y else return end elseif I[a4.Obj]or a4==y then I[a0]=true;J[a0]=J[a0]or{K(a0.ChildAdded,L),K(a0.AncestryChanged,N)}end;if a3 then local a5=table.find(a3,a1)if a5 then table.remove(a3,a5)end end;a1.Id=nil;a1.Parent=a4;if G and l[a4]and a4.Sorted then local T,U=1,#a4;local V=math.floor;local W=Explorer.NodeSorter;local pos=U==0 and 1;if not pos then while true do if T>=U then if W(a1,a4[T])then pos=T else pos=T+1 end;break end;local X=V((T+U)/2)if W(a1,a4[X])then U=X-1 else T=X+1 end end end;table.insert(a4,pos,a1)else a4[#a4+1]=a1;a4.Sorted=nil end;if F and j[a1]then local a6=a1.Parent;while a6 and(not j[a6]or l[a6]==0)do l[a6]=true;j[a6]=true;a6=a6.Parent end end;if not w and(Explorer.IsNodeVisible(a4)or Explorer.IsNodeVisible(a3))then if l[a4]or l[a3]then Explorer.PerformUpdate()elseif not x then Explorer.PerformRefresh()end end end;Explorer.ViewWidth=0;Explorer.Index=0;Explorer.EntryIndent=20;Explorer.FreeWidth=32;Explorer.GuiElems={}Explorer.InitRenameBox=function()D=create({{1,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderMode=2,ClearTextOnFocus=false,Font=3,Name="RenameBox",PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,26,0,2),Size=UDim2.new(0,200,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,Visible=false,ZIndex=2}}})D.Parent=Explorer.Window.GuiElems.Content.List;D.FocusLost:Connect(function()if not E then return end;pcall(function()E.Obj.Name=D.Text end)E=nil;Explorer.Refresh()end)D.Focused:Connect(function()D.SelectionStart=1;D.CursorPosition=#D.Text+1 end)end;Explorer.SetRenamingNode=function(a1)E=a1;D.Text=tostring(a1.Obj)D:CaptureFocus()Explorer.Refresh()end;Explorer.SetSortingEnabled=function(a7)G=a7;Settings.Explorer.Sorting=a7 end;Explorer.UpdateView=function()local a8=math.ceil(o.AbsoluteSize.Y/20)local a9=o.AbsoluteSize.X;local aa=Explorer.ViewWidth+Explorer.FreeWidth;A.VisibleSpace=a8;A.TotalSpace=#g+1;B.VisibleSpace=a9;B.TotalSpace=aa;A.Gui.Visible=#g+1>a8;B.Gui.Visible=aa>a9;local ab=o.Size;o.Size=UDim2.new(1,A.Gui.Visible and-16 or 0,1,B.Gui.Visible and-39 or-23)if ab~=o.Size then Explorer.UpdateView()else A:Update()B:Update()D.Size=UDim2.new(0,a9-100,0,16)if A.Gui.Visible and B.Gui.Visible then A.Gui.Size=UDim2.new(0,16,1,-39)B.Gui.Size=UDim2.new(1,-16,0,16)Explorer.Window.GuiElems.Content.ScrollCorner.Visible=true else A.Gui.Size=UDim2.new(0,16,1,-23)B.Gui.Size=UDim2.new(1,0,0,16)Explorer.Window.GuiElems.Content.ScrollCorner.Visible=false end;Explorer.Index=A.Index end end;Explorer.NodeSorter=function(ac,ad)if ac.Del or ad.Del then return false end;local ae=ac.Class;local af=ad.Class;if not ae then ae=ac.Obj.ClassName;ac.Class=ae end;if not af then af=ad.Obj.ClassName;ad.Class=af end;local ag=i[ae]local ah=i[af]if not ag then ag=RMD.Classes[ae]and tonumber(RMD.Classes[ae].ExplorerOrder)or 9999;i[ae]=ag end;if not ah then ah=RMD.Classes[af]and tonumber(RMD.Classes[af].ExplorerOrder)or 9999;i[af]=ah end;if ag~=ah then return ag<ah else local ai,aj=tostring(ac.Obj),tostring(ad.Obj)if ai~=aj then return ai<aj elseif ae~=af then return ae<af else local ak=ac.Id;if not ak then ak=z;z=(z+0.001)%999999999;ac.Id=ak end;local al=ad.Id;if not al then al=z;z=(z+0.001)%999999999;ad.Id=al end;return ak<al end end end;Explorer.Update=function()table.clear(g)local am,an,ao=0,1,1;local ap={}local aq=Enum.Font.SourceSans;local ar=Vector2.new(math.huge,20)local as=Settings.Explorer.UseNameWidth;local at=table.sort;local au=Explorer.NodeSorter;local av=l==Explorer.SearchExpanded;local aw=service.TextService;local function a2(O,depth)if depth>an then an=depth end;depth=depth+1;if G and not O.Sorted then at(O,au)O.Sorted=true end;for Z=1,#O do local n=O[Z]if not(av and not j[n])and not n.Del then if as then local nameWidth=n.NameWidth;if not nameWidth then local ax=tostring(n.Obj)nameWidth=ap[ax]if not nameWidth then nameWidth=v(aw,ax,14,aq,ar).X;ap[ax]=nameWidth end end end end end end;n.NameWidth=nameWidth;if nameWidth>am then am=nameWidth end;g[ao]=n;ao=ao+1;if l[n]and#n>0 then a2(n,depth)end;a2(a[game],1)if env.getnilinstances then if not(av and not j[y])then g[ao]=y;ao=ao+1;if l[y]then a2(y,2)end end end;Explorer.MaxNameWidth=am;Explorer.MaxDepth=an;Explorer.ViewWidth=as and Explorer.EntryIndent*an+am+26 or Explorer.EntryIndent*an+226;Explorer.UpdateView()end;Explorer.StartDrag=function(ay,az)if Explorer.Dragging then return end;Explorer.Dragging=true;local aA=o:Clone()aA:ClearAllChildren()for Z,aB in pairs(h)do local a1=g[Z+Explorer.Index]if a1 and b.Map[a1]then local aC=aB:Clone()aC.Active=false;aC.Indent.Expand.Visible=false;aC.Parent=aA end end;local aD=Instance.new("ScreenGui")aD.DisplayOrder=Main.DisplayOrders.Menu;aA.Parent=aD;Lib.ShowGui(aD)local aE=create({{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="DragSelect",Size=UDim2.new(1,0,1,0)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(1,0,0,1),ZIndex=2}},{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(0,0,1,-1),Size=UDim2.new(1,0,0,1),ZIndex=2}},{4,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Size=UDim2.new(0,1,1,0),ZIndex=2}},{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Line",Parent={1},Position=UDim2.new(1,-1,0,0),Size=UDim2.new(0,1,1,0),ZIndex=2}}})aE.Parent=o;local aF=Main.Mouse or service.Players.LocalPlayer:GetMouse()local function aG()local aH=aF.X-ay;local aI=aF.Y-az;aA.Position=UDim2.new(0,aH,0,aI)for Z=1,#h do local aJ=h[Z]if Lib.CheckMouseInGui(aJ)then aE.Position=UDim2.new(0,aJ.Indent.Position.X.Offset-B.Index,0,aJ.Position.Y.Offset)aE.Size=UDim2.new(0,aJ.Size.X.Offset-aJ.Indent.Position.X.Offset,0,20)aE.Visible=true;return end end;aE.Visible=false end;aG()local aK=service.UserInputService;local aL,aM;aL=aK.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then aG()end end)aM=aK.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()aD:Destroy()aE:Destroy()Explorer.Dragging=false;for Z,aJ in ipairs(h)do if Lib.CheckMouseInGui(aJ)then local a1=g[Z+Explorer.Index]if a1 and not b.Map[a1]then local a4=a1.Obj;for _,n in ipairs(b.List)do pcall(function()n.Obj.Parent=a4 end)end;Explorer.ViewNode(b.List[1])break end end end end end)Explorer.NewListEntry=function(aN)local aO=m:Clone()aO.Position=UDim2.new(0,0,0,20*(aN-1))local aP=false;aO.InputBegan:Connect(function(aK)local a1=g[aN+Explorer.Index]if a1 and not b.Map[a1]and aK.UserInputType==Enum.UserInputType.MouseMovement then aO.Indent.BackgroundColor3=Settings.Theme.Button;aO.Indent.BorderSizePixel=0;aO.Indent.BackgroundTransparency=0 end end)aO.InputEnded:Connect(function(aK)local a1=g[aN+Explorer.Index]if a1 and not b.Map[a1]and aK.UserInputType==Enum.UserInputType.MouseMovement then aO.Indent.BackgroundTransparency=1 end end)aO.MouseButton1Down:Connect(function()local aF=Main.Mouse or plr:GetMouse()local aQ,aR=aF.X,aF.Y;local aS=aQ-o.AbsolutePosition.X;local aT=aR-o.AbsolutePosition.Y;aM=aK.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()end end)aL=aK.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local aU,aV=aF.X-aQ,aF.Y-aR;if math.sqrt(aU^2+aV^2)>5 then aM:Disconnect()aL:Disconnect()aP=false;Explorer.StartDrag(aS,aT)end end end)end)aO.Parent=o;return aO end;Explorer.Refresh=function()local a8=math.max(math.ceil(o.AbsoluteSize.Y/20),0)local aW=false;local aX=game.IsA;for Z=1,a8 do local aJ=h[Z]if not h[Z]then aJ=Explorer.NewListEntry(Z)h[Z]=aJ;Explorer.ClickSystem:Add(aJ)end;local a1=g[Z+Explorer.Index]if a1 then local a0=a1.Obj;local depth=Explorer.EntryIndent*Explorer.NodeDepth(a1)aJ.Visible=true;aJ.Position=UDim2.new(0,-B.Index,0,aJ.Position.Y.Offset)aJ.Size=UDim2.new(0,Explorer.ViewWidth,0,20)aJ.Indent.EntryName.Text=tostring(a1.Obj)aJ.Indent.Position=UDim2.new(0,depth,0,0)aJ.Indent.Size=UDim2.new(1,-depth,1,0)aJ.Indent.EntryName.TextTruncate=Settings.Explorer.UseNameWidth and Enum.TextTruncate.None or Enum.TextTruncate.AtEnd;if(aX(a0,"LocalScript")or aX(a0,"Script"))and a0.Disabled then Explorer.MiscIcons:DisplayByKey(aJ.Indent.Icon,aX(a0,"LocalScript")and"LocalScript_Disabled"or"Script_Disabled")else local aY=RMD.Classes[a0.ClassName]Explorer.ClassIcons:Display(aJ.Indent.Icon,aY and aY.ExplorerImageIndex or 0)end;if b.Map[a1]then aJ.Indent.BackgroundColor3=Settings.Theme.ListSelection;aJ.Indent.BorderSizePixel=0;aJ.Indent.BackgroundTransparency=0 else if Lib.CheckMouseInGui(aJ)then aJ.Indent.BackgroundColor3=Settings.Theme.Button else aJ.Indent.BackgroundTransparency=1 end end;if a1==E then aW=true;D.Position=UDim2.new(0,depth+25-B.Index,0,aJ.Position.Y.Offset+2)D.Visible=true end;if#a1>0 and l[a1]~=0 then if Lib.CheckMouseInGui(aJ.Indent.Expand)then Explorer.MiscIcons:DisplayByKey(aJ.Indent.Expand.Icon,l[a1]and"Collapse_Over"or"Expand_Over")else Explorer.MiscIcons:DisplayByKey(aJ.Indent.Expand.Icon,l[a1]and"Collapse"or"Expand")end;aJ.Indent.Expand.Visible=true else aJ.Indent.Expand.Visible=false end else aJ.Visible=false end end;if not aW then D.Visible=false end;for Z=a8+1,#h do Explorer.ClickSystem:Remove(h[Z])h[Z]:Destroy()h[Z]=nil end end;Explorer.PerformUpdate=function(aZ)w=true;Lib.FastWait(not aZ and 0.1)if not w then return end;w=false;if not Explorer.Window:IsVisible()then return end;Explorer.Update()Explorer.Refresh()end;Explorer.ForceUpdate=function(a_)w=false;Explorer.Update()if not a_ then Explorer.Refresh()end end;Explorer.PerformRefresh=function()x=true;Lib.FastWait(0.1)x=false;if w or not Explorer.Window:IsVisible()then return end;Explorer.Refresh()end;Explorer.IsNodeVisible=function(a1)if not a1 then return end;local b0=a1.Parent;while b0 do if not l[b0]then return false end;b0=b0.Parent end;return true end;Explorer.NodeDepth=function(a1)local depth=0;if a1==y then return 1 end;local b0=a1.Parent;while b0 do if b0==y then depth=depth+1 end;b0=b0.Parent;depth=depth+1 end;return depth end;Explorer.SetupConnections=function()if q then q:Disconnect()end;if r then r:Disconnect()end;if s then s:Disconnect()end;if Main.Elevated then q=game.DescendantAdded:Connect(L)r=game.DescendantRemoving:Connect(M)else q=game.DescendantAdded:Connect(function(a0)pcall(L,a0)end)r=game.DescendantRemoving:Connect(function(a0)pcall(M,a0)end)end;if Settings.Explorer.UseNameWidth then s=game.ItemChanged:Connect(function(a0,b1)if b1=="Parent"and a[a0]then N(a0)elseif b1=="Name"and a[a0]then a[a0].NameWidth=nil end end)else s=game.ItemChanged:Connect(function(a0,b1)if b1=="Parent"and a[a0]then N(a0)end end)end end;Explorer.ViewNode=function(a1)if not a1 then return end;Explorer.MakeNodeVisible(a1)Explorer.ForceUpdate(true)local b2=A.VisibleSpace;for Z,aB in next,g do if aB==a1 then local b3=Z-1;if Explorer.Index>b3 then A.Index=b3 elseif Explorer.Index+b2-1<=b3 then A.Index=b3-b2+2 end end end;A:Update()Explorer.Index=A.Index;Explorer.Refresh()end;Explorer.ViewObj=function(a0)Explorer.ViewNode(a[a0])end;Explorer.MakeNodeVisible=function(a1,b4)if not a1 then return end;local b5=false;if b4 and not l[a1]then l[a1]=true;b5=true end;local a6=a1.Parent;while a6 do b5=true;l[a6]=true;a6=a6.Parent end;if b5 and not w then coroutine.wrap(Explorer.PerformUpdate)(true)end end;Explorer.ShowRightClick=function()local b6=Explorer.RightClickContext;b6:Clear()local b7=b.List;local b8=b.Map;local b9=#C==0;local ba={}local bb=API.Classes;for Z=1,#b7 do local a1=b7[Z]local bc=a1.Class;if not bc then bc=a1.Obj.ClassName;a1.Class=bc end;local bd=bb[bc]while bd and not ba[bd.Name]do ba[bd.Name]=true;bd=bd.Superclass end end;b6:AddRegistered("CUT")b6:AddRegistered("COPY")b6:AddRegistered("PASTE",b9)b6:AddRegistered("DUPLICATE")b6:AddRegistered("DELETE")b6:AddRegistered("RENAME",#b7~=1)b6:AddDivider()b6:AddRegistered("GROUP")b6:AddRegistered("UNGROUP")b6:AddRegistered("SELECT_CHILDREN")b6:AddRegistered("JUMP_TO_PARENT")b6:AddRegistered("EXPAND_ALL")b6:AddRegistered("COLLAPSE_ALL")b6:AddDivider()if l==Explorer.SearchExpanded then b6:AddRegistered("CLEAR_SEARCH_AND_JUMP_TO")end;if env.setclipboard then b6:AddRegistered("COPY_PATH")end;b6:AddRegistered("INSERT_OBJECT")b6:AddRegistered("SAVE_INST")b6:AddRegistered("CALL_FUNCTION")b6:AddRegistered("VIEW_CONNECTIONS")b6:AddRegistered("GET_REFERENCES")b6:AddRegistered("VIEW_API")b6:QueueDivider()if ba["BasePart"]or ba["Model"]then b6:AddRegistered("TELEPORT_TO")b6:AddRegistered("VIEW_OBJECT")end;if ba["TouchTransmitter"]then b6:AddRegistered("FIRE_TOUCHTRANSMITTER",firetouchinterest==nil)end;if ba["ClickDetector"]then b6:AddRegistered("FIRE_CLICKDETECTOR",fireclickdetector==nil)end;if ba["ProximityPrompt"]then b6:AddRegistered("FIRE_PROXIMITYPROMPT",fireproximityprompt==nil)end;if ba["Player"]then b6:AddRegistered("SELECT_CHARACTER")end;if ba["Players"]then b6:AddRegistered("SELECT_LOCAL_PLAYER")end;if ba["LuaSourceContainer"]then b6:AddRegistered("VIEW_SCRIPT")end;if b8[y]then b6:AddRegistered("REFRESH_NIL")b6:AddRegistered("HIDE_NIL")end;Explorer.LastRightClickX,Explorer.LastRightClickY=Main.Mouse.X,Main.Mouse.Y;b6:Show()end;Explorer.InitRightClick=function()local b6=Lib.ContextMenu.new()b6:Register("CUT",{Name="Cut",IconMap=Explorer.MiscIcons,Icon="Cut",DisabledIcon="Cut_Disabled",Shortcut="Ctrl+Z",OnClick=function()local be,aC=game.Destroy,game.Clone;local b7,bf=b.List,{}local ao=1;for Z=1,#b7 do local bg=b7[Z].Obj;local bh,bi=pcall(aC,bg)if bh and bi then bf[ao]=bi;ao=ao+1 end;pcall(be,bg)end;C=bf;b:Clear()end})b6:Register("COPY",{Name="Copy",IconMap=Explorer.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+C",OnClick=function()local aC=game.Clone;local b7,bf=b.List,{}local ao=1;for Z=1,#b7 do local bg=b7[Z].Obj;local bh,bi=pcall(aC,bg)if bh and bi then bf[ao]=bi;ao=ao+1 end end;C=bf end})b6:Register("PASTE",{Name="Paste Into",IconMap=Explorer.MiscIcons,Icon="Paste",DisabledIcon="Paste_Disabled",Shortcut="Ctrl+Shift+V",OnClick=function()local b7=b.List;local bj={}local ao=1;for Z=1,#b7 do local a1=b7[Z]local bg=a1.Obj;Explorer.MakeNodeVisible(a1,true)for bk=1,#C do local bi=C[bk]:Clone()if bi then bi.Parent=bg;local bl=a[bi]if bl then bj[ao]=bl;ao=ao+1 end end end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])end end})b6:Register("DUPLICATE",{Name="Duplicate",IconMap=Explorer.MiscIcons,Icon="Copy",DisabledIcon="Copy_Disabled",Shortcut="Ctrl+D",OnClick=function()local aC=game.Clone;local b7=b.List;local bj={}local ao=1;for Z=1,#b7 do local a1=b7[Z]local bg=a1.Obj;local bm=a1.Parent and a1.Parent.Obj;Explorer.MakeNodeVisible(a1)local bh,bi=pcall(aC,bg)if bh and bi then bi.Parent=bm;local bl=a[bi]if bl then bj[ao]=bl;ao=ao+1 end end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])end end})b6:Register("DELETE",{Name="Delete",IconMap=Explorer.MiscIcons,Icon="Delete",DisabledIcon="Delete_Disabled",Shortcut="Del",OnClick=function()local be=game.Destroy;local b7=b.List;for Z=1,#b7 do pcall(be,b7[Z].Obj)end;b:Clear()end})b6:Register("RENAME",{Name="Rename",IconMap=Explorer.MiscIcons,Icon="Rename",DisabledIcon="Rename_Disabled",Shortcut="F2",OnClick=function()local b7=b.List;if b7[1]then Explorer.SetRenamingNode(b7[1])end end})b6:Register("GROUP",{Name="Group",IconMap=Explorer.MiscIcons,Icon="Group",DisabledIcon="Group_Disabled",Shortcut="Ctrl+G",OnClick=function()local b7=b.List;if#b7==0 then return end;local bn=Instance.new("Model",b7[#b7].Obj.Parent)for Z=1,#b7 do pcall(function()b7[Z].Obj.Parent=bn end)end;if a[bn]then b:Set(a[bn])Explorer.ViewNode(a[bn])end end})b6:Register("UNGROUP",{Name="Ungroup",IconMap=Explorer.MiscIcons,Icon="Ungroup",DisabledIcon="Ungroup_Disabled",Shortcut="Ctrl+U",OnClick=function()local bj={}local ao=1;local aX=game.IsA;local function bo(a1)local R=a1.Parent.Obj;local bp={}local bq=1;for Z=1,#a1 do local n=a1[Z]bj[ao]=n;bp[bq]=n;ao=ao+1;bq=bq+1 end;for Z=1,#bp do pcall(function()bp[Z].Obj.Parent=R end)end;a1.Obj:Destroy()end;for Z,aB in next,b.List do if aX(aB.Obj,"Model")then bo(aB)end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])end end})b6:Register("SELECT_CHILDREN",{Name="Select Children",IconMap=Explorer.MiscIcons,Icon="SelectChildren",DisabledIcon="SelectChildren_Disabled",OnClick=function()local bj={}local ao=1;local b7=b.List;for Z=1,#b7 do local a1=b7[Z]for br=1,#a1 do local bs=a1[br]if br==1 then Explorer.MakeNodeVisible(bs)end;bj[ao]=bs;ao=ao+1 end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])else Explorer.Refresh()end end})b6:Register("JUMP_TO_PARENT",{Name="Jump to Parent",IconMap=Explorer.MiscIcons,Icon="JumpToParent",OnClick=function()local bj={}local ao=1;local b7=b.List;for Z=1,#b7 do local a1=b7[Z]if a1.Parent then bj[ao]=a1.Parent;ao=ao+1 end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])else Explorer.Refresh()end end})b6:Register("TELEPORT_TO",{Name="Teleport To",IconMap=Explorer.MiscIcons,Icon="TeleportTo",OnClick=function()local b7=b.List;local aX=game.IsA;local bt=plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")if not bt then return end;for Z=1,#b7 do local a1=b7[Z]if aX(a1.Obj,"BasePart")then bt.CFrame=a1.Obj.CFrame+Settings.Explorer.TeleportToOffset;break elseif aX(a1.Obj,"Model")then if a1.Obj.PrimaryPart then bt.CFrame=a1.Obj.PrimaryPart.CFrame+Settings.Explorer.TeleportToOffset;break else local bu=a1.Obj:FindFirstChildWhichIsA("BasePart",true)if bu and a[bu]then bt.CFrame=a[bu].Obj.CFrame+Settings.Explorer.TeleportToOffset end end end end end})b6:Register("EXPAND_ALL",{Name="Expand All",OnClick=function()local b7=b.List;local function bv(a1)l[a1]=true;for Z=1,#a1 do if#a1[Z]>0 then bv(a1[Z])end end end;for Z=1,#b7 do bv(b7[Z])end;Explorer.ForceUpdate()end})b6:Register("COLLAPSE_ALL",{Name="Collapse All",OnClick=function()local b7=b.List;local function bv(a1)l[a1]=nil;for Z=1,#a1 do if#a1[Z]>0 then bv(a1[Z])end end end;for Z=1,#b7 do bv(b7[Z])end;Explorer.ForceUpdate()end})b6:Register("CLEAR_SEARCH_AND_JUMP_TO",{Name="Clear Search and Jump to",OnClick=function()local bj={}local ao=1;local b7=b.List;for Z=1,#b7 do bj[ao]=b7[Z]ao=ao+1 end;b:SetTable(bj)Explorer.ClearSearch()if#bj>0 then Explorer.ViewNode(bj[1])end end})local bw=function(bx)if bx:sub(1,28)=="game:GetService(\"Workspace\")"then bx=bx:gsub("game:GetService%(\"Workspace\"%)","workspace",1)end;if bx:sub(1,27+#plr.Name)=="game:GetService(\"Players\")."..plr.Name then bx=bx:gsub("game:GetService%(\"Players\"%)."..plr.Name,"game:GetService(\"Players\").LocalPlayer",1)end;return bx end;b6:Register("COPY_PATH",{Name="Copy Path",OnClick=function()local b7=b.List;if#b7==1 then env.setclipboard(bw(Explorer.GetInstancePath(b7[1].Obj)))elseif#b7>1 then local by={"{"}local ao=2;for Z=1,#b7 do local bz="\t"..bw(Explorer.GetInstancePath(b7[Z].Obj))..","if#bz>0 then by[ao]=bz;ao=ao+1 end end;by[ao]="}"env.setclipboard(table.concat(by,"\n"))end end})b6:Register("INSERT_OBJECT",{Name="Insert Object",IconMap=Explorer.MiscIcons,Icon="InsertObject",OnClick=function()local aF=Main.Mouse;local bA,bB=Explorer.LastRightClickX or aF.X,Explorer.LastRightClickY or aF.Y;Explorer.InsertObjectContext:Show(bA,bB)end})b6:Register("CALL_FUNCTION",{Name="Call Function",IconMap=Explorer.ClassIcons,Icon=66,OnClick=function()end})b6:Register("GET_REFERENCES",{Name="Get Lua References",IconMap=Explorer.ClassIcons,Icon=34,OnClick=function()end})b6:Register("SAVE_INST",{Name="Save to File",IconMap=Explorer.MiscIcons,Icon="Save",OnClick=function()end})b6:Register("VIEW_CONNECTIONS",{Name="View Connections",OnClick=function()end})b6:Register("VIEW_API",{Name="View API Page",IconMap=Explorer.MiscIcons,Icon="Reference",OnClick=function()end})b6:Register("VIEW_OBJECT",{Name="View Object (Right click to reset)",IconMap=Explorer.ClassIcons,Icon=5,OnClick=function()local b7=b.List;local aX=game.IsA;for Z=1,#b7 do local a1=b7[Z]if aX(a1.Obj,"BasePart")or aX(a1.Obj,"Model")then workspace.CurrentCamera.CameraSubject=a1.Obj;break end end end,OnRightClick=function()workspace.CurrentCamera.CameraSubject=plr.Character end})b6:Register("FIRE_TOUCHTRANSMITTER",{Name="Fire TouchTransmitter",IconMap=Explorer.ClassIcons,Icon=37,OnClick=function()local bt=plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")if not bt then return end;for _,aB in ipairs(b.List)do if aB.Obj and aB.Obj:IsA("TouchTransmitter")then firetouchinterest(bt,aB.Obj.Parent,0)end end end})b6:Register("FIRE_CLICKDETECTOR",{Name="Fire ClickDetector",IconMap=Explorer.ClassIcons,Icon=41,OnClick=function()local bt=plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")if not bt then return end;for _,aB in ipairs(b.List)do if aB.Obj and aB.Obj:IsA("ClickDetector")then fireclickdetector(aB.Obj)end end end})b6:Register("FIRE_PROXIMITYPROMPT",{Name="Fire ProximityPrompt",IconMap=Explorer.ClassIcons,Icon=124,OnClick=function()local bt=plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")if not bt then return end;for _,aB in ipairs(b.List)do if aB.Obj and aB.Obj:IsA("ProximityPrompt")then fireproximityprompt(aB.Obj)end end end})b6:Register("VIEW_SCRIPT",{Name="View Script",IconMap=Explorer.MiscIcons,Icon="ViewScript",OnClick=function()local bC=b.List[1]and b.List[1].Obj;if bC then ScriptViewer.ViewScript(bC)end end})b6:Register("SELECT_CHARACTER",{Name="Select Character",IconMap=Explorer.ClassIcons,Icon=9,OnClick=function()local bj={}local ao=1;local b7=b.List;local aX=game.IsA;for Z=1,#b7 do local a1=b7[Z]if aX(a1.Obj,"Player")and a[a1.Obj.Character]then bj[ao]=a[a1.Obj.Character]ao=ao+1 end end;b:SetTable(bj)if#bj>0 then Explorer.ViewNode(bj[1])else Explorer.Refresh()end end})b6:Register("SELECT_LOCAL_PLAYER",{Name="Select Local Player",IconMap=Explorer.ClassIcons,Icon=9,OnClick=function()pcall(function()if a[plr]then b:Set(a[plr])Explorer.ViewNode(a[plr])end end)end})b6:Register("REFRESH_NIL",{Name="Refresh Nil Instances",OnClick=function()Explorer.RefreshNilInstances()end})b6:Register("HIDE_NIL",{Name="Hide Nil Instances",OnClick=function()Explorer.HideNilInstances()end})Explorer.RightClickContext=b6 end;Explorer.HideNilInstances=function()table.clear(I)local bD=Instance.new("Folder").ChildAdded:Connect(function()end).Disconnect;for Z,aB in next,J do bD(aB[1])bD(aB[2])end;table.clear(J)for Z=1,#y do coroutine.wrap(M)(y[Z].Obj)end;Explorer.Update()Explorer.Refresh()end;Explorer.RefreshNilInstances=function()if not env.getnilinstances then return end;local bE=env.getnilinstances()local game=game;local bF=game.GetDescendants;for Z=1,#bE do local a0=bE[Z]if a0~=game then I[a0]=true;local bG=bF(a0)for bH=1,#bG do I[bG[bH]]=true end end end;for Z=1,#bE do local a0=bE[Z]local a1=a[a0]if not a1 then coroutine.wrap(L)(a0)end end;Explorer.Update()Explorer.Refresh()end;Explorer.GetInstancePath=function(a0)local bI=game.FindFirstChild;local bJ=game.GetChildren;local bz=""local bK=a0;local bL=tostring;local bM=string.match;local bN=string.gsub;local bO=table.find;local bP=Settings.Explorer.CopyPathUseGetChildren;local bQ=Lib.FormatLuaString;while bK do if bK==game then bz="game"..bz;break end;local bR=bK.ClassName;local bS=bL(bK)local bT;if bM(bS,"^[%a_][%w_]*$")then bT="."..bS else local bU=bQ(bS)bT='["'..bU..'"]'end;local bV=bK.Parent;if bV then local bW=bI(bV,bS)if bP and bW and bW~=bK then local bX=bJ(bV)local bY=bO(bX,bK)bT=":GetChildren()["..bY.."]"elseif bV==game and API.Classes[bR]and API.Classes[bR].Tags.Service then bT=':GetService("'..bR..'")'end elseif bV==nil then local bZ="local getNil = function(name, class) for _, v in next, getnilinstances() do if v.ClassName == class and v.Name == name then return v end end end"local b_="\n\ngetNil(\"%s\", \"%s\")"bT=bZ..b_:format(bK.Name,bR)end;bz=bT..bz;bK=bV end;return bz end;Explorer.InitInsertObject=function()local b6=Lib.ContextMenu.new()b6.SearchEnabled=true;b6.MaxHeight=400;b6:ApplyTheme({ContentColor=Settings.Theme.Main2,OutlineColor=Settings.Theme.Outline1,DividerColor=Settings.Theme.Outline1,TextColor=Settings.Theme.Text,HighlightColor=Settings.Theme.ButtonHover})local c0={}for Z,bc in next,API.Classes do local c1=bc.Tags;if not c1.NotCreatable and not c1.Service then local aY=RMD.Classes[bc.Name]c0[#c0+1]={bc,aY and aY.ClassCategory or"Uncategorized"}end end;table.sort(c0,function(ac,ad)if ac[2]~=ad[2]then return ac[2]<ad[2]else return ac[1].Name<ad[1].Name end end)local function c2(bR)local b7=b.List;local c3=Instance.new;for Z=1,#b7 do local a1=b7[Z]local a0=a1.Obj;Explorer.MakeNodeVisible(a1,true)pcall(c3,bR,a0)end end;local c4=""for Z=1,#c0 do local bc=c0[Z][1]local aY=RMD.Classes[bc.Name]local c5=aY and tonumber(aY.ExplorerImageIndex)or 0;local c6=c0[Z][2]if c4~=c6 then b6:AddDivider(c6)c4=c6 end;b6:Add({Name=bc.Name,IconMap=Explorer.ClassIcons,Icon=c5,OnClick=c2})end;Explorer.InsertObjectContext=b6 end;Explorer.SearchFilters={Comparison={["isa"]=function(c7)local c8=string.lower;local c9=string.find;local ca=string.split(c7)[1]if not ca then return end;ca=c8(ca)local bR;for bc,_ in pairs(API.Classes)do local cb=c8(bc)if cb==ca then bR=bc;break elseif c9(cb,ca,1,true)then bR=bc end end;if not bR then return end;return{Headers={"local isa = game.IsA"},Predicate="isa(obj,'"..bR.."')"}end,["remotes"]=function(c7)return{Headers={"local isa = game.IsA"},Predicate="isa(obj,'RemoteEvent') or isa(obj,'RemoteFunction')"}end,["bindables"]=function(c7)return{Headers={"local isa = game.IsA"},Predicate="isa(obj,'BindableEvent') or isa(obj,'BindableFunction')"}end,["rad"]=function(c7)local cc=tonumber(c7)if not cc then return end;if not service.Players.LocalPlayer.Character or not service.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")or not service.Players.LocalPlayer.Character.HumanoidRootPart:IsA("BasePart")then return end;return{Headers={"local isa = game.IsA","local hrp = service.Players.LocalPlayer.Character.HumanoidRootPart"},Setups={"local hrpPos = hrp.Position"},ObjectDefs={"local isBasePart = isa(obj,'BasePart')"},Predicate="(isBasePart and (obj.Position-hrpPos).Magnitude <= "..cc..")"}end},Specific={["players"]=function()return function()return service.Players:GetPlayers()end end,["loadedmodules"]=function()return env.getloadedmodules end},Default=function(c7,cd)local ce=c7:gsub("\"","\\\""):gsub("\n","\\n")if cd then return{Headers={"local find = string.find"},ObjectDefs={"local objName = tostring(obj)"},Predicate="find(objName,\""..ce.."\",1,true)"}else return{Headers={"local lower = string.lower","local find = string.find","local tostring = tostring"},ObjectDefs={"local lowerName = lower(tostring(obj))"},Predicate="find(lowerName,\""..ce:lower().."\",1,true)"}end end,SpecificDefault=function(n)return{Headers={},ObjectDefs={"local isSpec"..n.." = specResults["..n.."][node]"},Predicate="isSpec"..n}end}Explorer.BuildSearchFunc=function(cf)local cg,ch={},{}local ci=""local cj=string.rep;local ck=cf:gsub("\\.","  "):gsub('".-"',function(bx)return cj(" ",#bx)end)local cl={}local cm={}local cn={}local c9=string.find;local co=string.sub;local c8=string.lower;local bM=string.match;local cp={["("]="(",[")"]=")",["||"]=" or ",["&&"]=" and "}local cq=0;local cr=Explorer.SearchFilters.Comparison;local cs=Explorer.SearchFilters.Specific;local ct=1;local cu=nil;local function cv(cw)if cw.Headers then local cx=cw.Headers;for Z=1,#cx do cl[cx[Z]]=true end end;if cw.ObjectDefs then local cx=cw.ObjectDefs;for Z=1,#cx do cm[cx[Z]]=true end end;if cw.Setups then local cx=cw.Setups;for Z=1,#cx do cn[cx[Z]]=true end end;ci=ci..cw.Predicate end;local cy={}local cz={}local c9=string.find;local co=string.sub;local function cA(bx,cB)local ao=#cy+1;local ct=1;local cC=#cB;local bA,bB,cD=c9(bx,cB,ct,true)while bA do cy[ao]=bA;cz[bA]={cC,cB}ao=ao+1;ct=bB+1;bA,bB,cD=c9(bx,cB,ct,true)end end;local cE=tick()cA(ck,'&&')cA(ck,"||")cA(ck,"(")cA(ck,")")table.sort(cy)table.insert(cy,#ck+1)local function cF(bx)local cG=#bx;if co(bx,1,1)=='"'and co(bx,cG,cG)=='"'then return co(bx,2,cG-1)end end;for Z=1,#cy do local cH=cy[Z]local cI=cz[cH]or{1}local cJ=cp[cI[2]]local cK=co(cf,ct,cH-1)cK=bM(cK,"^%s*(.-)%s*$")or""if#cK>0 then if co(cK,1,1)=="!"then cK=co(cK,2)ci=ci.."not "end;local cL=cF(cK)if cL then cv(Explorer.SearchFilters.Default(cL,true))else local bA,bB=c9(cK,"%S+")if bA then local cM=co(cK,bA,bB)local cN=co(cM,1,1)=="/"and c8(co(cM,2))local cO=cN and cr[cN]local cP=cN and cs[cN]if cO then local cQ=co(cK,bB+2)local cR=cO(cF(cQ)or cQ)if cR then cv(cR)else ci=ci.."false"end elseif cP then local cQ=co(cK,bB+2)local cR=cP(cF(cQ)or cQ)if cR then if not ch[cK]then cg[#cg+1]=cR;ch[cK]=#cg end;cv(Explorer.SearchFilters.SpecificDefault(ch[cK]))else ci=ci.."false"end else cv(Explorer.SearchFilters.Default(cK))end end end end;if cJ then ci=ci..cJ;if cJ=="("and(#cK>0 or cu==")")then return else cu=cJ end end;ct=cH+cI[1]end;local cS=""local cT=""local cU=""for cV,_ in next,cn do cS=cS..cV.."\n"end;for cW,_ in next,cl do cT=cT..cW.."\n"end;for cX,_ in next,cm do cU=cU..cX.."\n"end;local cY=[==[
local searchResults = searchResults
local nodes = nodes
local expandTable = Explorer.SearchExpanded
local specResults = specResults
local service = service

%s
local function search(root)	
%s
	
	local expandedpar = false
	for i = 1,#root do
		local node = root[i]
		local obj = node.Obj
		
%s
		
		if %s then
			expandTable[node] = 0
			searchResults[node] = true
			if not expandedpar then
				local parnode = node.Parent
				while parnode and (not searchResults[parnode] or expandTable[parnode] == 0) do
					expandTable[parnode] = true
					searchResults[parnode] = true
					parnode = parnode.Parent
				end
				expandedpar = true
			end
		end
		
		if #node > 0 then search(node) end
	end
end
return search]==]local cZ=cY:format(cT,cS,cU,ci)local bh,c_=pcall(loadstring,cZ)if not bh or not c_ then return nil,cg end;local env=setmetatable({["searchResults"]=j,["nodes"]=a,["Explorer"]=Explorer,["specResults"]=k,["service"]=service},{__index=getfenv()})setfenv(c_,env)return c_(),cg end;Explorer.DoSearch=function(cf)table.clear(Explorer.SearchExpanded)table.clear(j)l=#cf==0 and Explorer.Expanded or Explorer.SearchExpanded;F=nil;if#cf>0 then local d0=Explorer.SearchExpanded;local cs;local c8=string.lower;local c9=string.find;local tostring=tostring;local d1=c8(cf)local function d2(O)local d3=false;for Z=1,#O do local a1=O[Z]local a0=a1.Obj;if c9(c8(tostring(a0)),d1,1,true)then d0[a1]=0;j[a1]=true;if not d3 then local d4=a1.Parent;while d4 and(not j[d4]or d0[d4]==0)do l[d4]=true;j[d4]=true;d4=d4.Parent end;d3=true end end;if#a1>0 then d2(a1)end end end;if Main.Elevated then local cE=tick()F,cs=Explorer.BuildSearchFunc(cf)else F=d2 end;if cs then table.clear(k)for Z=1,#cs do local d5={}k[Z]=d5;local d6=cs[Z]()for bk=1,#d6 do local a1=a[d6[bk]]if a1 then d5[a1]=true end end end end;if F then local cE=tick()F(a[game])F(y)end end;Explorer.ForceUpdate()end;Explorer.ClearSearch=function()Explorer.GuiElems.SearchBar.Text=""l=Explorer.Expanded;F=nil end;Explorer.InitSearch=function()local d7=Explorer.GuiElems.ToolBar.SearchFrame.SearchBox;Explorer.GuiElems.SearchBar=d7;Lib.ViewportTextBox.convert(d7)d7.FocusLost:Connect(function()Explorer.DoSearch(d7.Text)end)end;Explorer.InitEntryTemplate=function()m=create({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=1,BorderColor3=Color3.new(0,0,0),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,20),Text="",TextSize=14}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Indent",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-20,1,0)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="EntryName",Parent={2},Position=UDim2.new(0,26,0,0),Size=UDim2.new(1,-26,1,0),Text="Workspace",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,0),Size=UDim2.new(0,20,0,20),Text="",TextSize=14}},{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{6,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxasset://textures/ClassImages.png",ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={2},Position=UDim2.new(0,4,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}}})local d8=Lib.ClickSystem.new()d8.AllowedButtons={1,2}d8.OnDown:Connect(function(d9,da,db)local br=table.find(h,d9)if not br then return end;local a1=g[br+Explorer.Index]if not a1 then return end;local aJ=h[br]if db==1 then if da==2 then if a1.Obj:IsA("LuaSourceContainer")then ScriptViewer.ViewScript(a1.Obj)elseif#a1>0 and l[a1]~=0 then l[a1]=not l[a1]Explorer.Update()end end;if Properties.SelectObject(a1.Obj)then d8.IsRenaming=false;return end;d8.IsRenaming=b.Map[a1]if Lib.IsShiftDown()then if not b.Piviot then return end;local dc=table.find(g,b.Piviot)local dd=table.find(g,a1)if not dc or not dd then return end;dc,dd=math.min(dc,dd),math.max(dc,dd)local b7=b.List;for Z=#b7,1,-1 do local de=b7[Z]if b.ShiftSet[de]then b.Map[de]=nil;table.remove(b7,Z)end end;b.ShiftSet={}for Z=dc,dd do local de=g[Z]if not b.Map[de]then b.ShiftSet[de]=true;b.Map[de]=true;b7[#b7+1]=de end end;b.Changed:Fire()elseif Lib.IsCtrlDown()then b.ShiftSet={}if b.Map[a1]then b:Remove(a1)else b:Add(a1)end;b.Piviot=a1;d8.IsRenaming=false elseif not b.Map[a1]then b.ShiftSet={}b:Set(a1)b.Piviot=a1 end elseif db==2 then if Properties.SelectObject(a1.Obj)then return end;if not Lib.IsCtrlDown()and not b.Map[a1]then b.ShiftSet={}b:Set(a1)b.Piviot=a1;Explorer.Refresh()end end;Explorer.Refresh()end)d8.OnRelease:Connect(function(d9,da,db)local br=table.find(h,d9)if not br then return end;local a1=g[br+Explorer.Index]if not a1 then return end;if db==1 then if b.Map[a1]and not Lib.IsShiftDown()and not Lib.IsCtrlDown()then b.ShiftSet={}b:Set(a1)b.Piviot=a1;Explorer.Refresh()end;local df=d8.ClickId;Lib.FastWait(d8.ComboTime)if da==1 and df==d8.ClickId and d8.IsRenaming and b.Map[a1]then Explorer.SetRenamingNode(a1)end elseif db==2 then Explorer.ShowRightClick()end end)Explorer.ClickSystem=d8 end;Explorer.InitDelCleaner=function()coroutine.wrap(function()local dg=Lib.FastWait;while true do local dh=false;local bk=0;for _,a1 in next,a do if a1.HasDel then local di;for Z=1,#a1 do if a1[Z].Del then di=Z;break end end;if di then for Z=di+1,#a1 do local dj=a1[Z]if not dj.Del then a1[di]=dj;di=di+1 end end;for Z=di,#a1 do a1[Z]=nil end end;a1.HasDel=false;dh=true;dg()end;bk=bk+1;if bk>10000 then bk=0;dg()end end;if dh and not x then Explorer.PerformRefresh()end;dg(0.5)end end)()end;Explorer.UpdateSelectionVisuals=function()local dk=Explorer.SelectionVisualsHolder;local aX=game.IsA;local aC=game.Clone;if not dk then dk=Instance.new("ScreenGui")dk.Name="ExplorerSelections"dk.DisplayOrder=Main.DisplayOrders.Core;Lib.ShowGui(dk)Explorer.SelectionVisualsHolder=dk;Explorer.SelectionVisualCons={}local dl=create({{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Size=UDim2.new(0,100,0,100)}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,-1),Size=UDim2.new(1,2,0,1)}},{3,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,1,0),Size=UDim2.new(1,2,0,1)}},{4,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0)}},{5,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BorderSizePixel=0,Parent={1},Position=UDim2.new(1,0,0,0),Size=UDim2.new(0,1,1,0)}}})Explorer.SelectionVisualGui=dl;local dm=Instance.new("SelectionBox")dm.LineThickness=0.03;dm.Color3=Color3.fromRGB(0,170,255)Explorer.SelectionVisualBox=dm end;dk:ClearAllChildren()for Z,aB in pairs(Explorer.SelectionVisualGui:GetChildren())do aB.BackgroundColor3=Color3.fromRGB(0,170,255)end;local dn=Explorer.SelectionVisualCons;for Z=1,#dn do dn[Z].Destroy()end;table.clear(dn)local dp=Settings.Explorer.PartSelectionBox;local dq=Settings.Explorer.GuiSelectionBox;if not dp and not dq then return end;local dr=Explorer.SelectionVisualGui;local ds=Explorer.SelectionVisualBox;local dt=Lib.AttachTo;local b7=b.List;local ao=1;local du=0;local dv=a[workspace]for Z=1,#b7 do if du>1000 then break end;local a1=b7[Z]local a0=a1.Obj;if a1~=dv then if aX(a0,"GuiObject")and dq then local dw=aC(dr)dn[ao]=dt(dw,{Target=a0,Resize=true})ao=ao+1;dw.Parent=dk;du=du+1 elseif aX(a0,"PVInstance")and dp then local dx=aC(ds)dx.Adornee=a0;dx.Parent=dk;du=du+1 end end end end;Explorer.Init=function()Explorer.ClassIcons=Lib.IconMap.newLinear("rbxasset://textures/ClassImages.png",16,16)Explorer.MiscIcons=Main.MiscIcons;C={}b=Lib.Set.new()b.ShiftSet={}b.Changed:Connect(Properties.ShowExplorerProps)Explorer.Selection=b;Explorer.InitRightClick()Explorer.InitInsertObject()Explorer.SetSortingEnabled(Settings.Explorer.Sorting)Explorer.Expanded=setmetatable({},{__mode="k"})Explorer.SearchExpanded=setmetatable({},{__mode="k"})l=Explorer.Expanded;y.Obj.Name="Nil Instances"y.Locked=true;local dy=create({{1,"Folder",{Name="ExplorerItems"}},{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22)}},{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18)}},{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search workspace",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}},{6,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{7,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={6},Size=UDim2.new(0,16,0,16)}},{8,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{9,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={8},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12)}},{10,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}},{11,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23)}}})p=dy.ToolBar;o=dy.List;Explorer.GuiElems.ToolBar=p;Explorer.GuiElems.TreeFrame=o;A=Lib.ScrollBar.new()A.WheelIncrement=3;A.Gui.Position=UDim2.new(1,-16,0,23)A:SetScrollFrame(o)A.Scrolled:Connect(function()Explorer.Index=A.Index;Explorer.Refresh()end)B=Lib.ScrollBar.new(true)B.Increment=5;B.WheelIncrement=Explorer.EntryIndent;B.Gui.Position=UDim2.new(0,0,1,-16)B.Scrolled:Connect(function()Explorer.Refresh()end)local dz=Lib.Window.new()Explorer.Window=dz;dz:SetTitle("Explorer")dz.GuiElems.Line.Position=UDim2.new(0,0,0,22)Explorer.InitEntryTemplate()p.Parent=dz.GuiElems.Content;o.Parent=dz.GuiElems.Content;dy.ScrollCorner.Parent=dz.GuiElems.Content;A.Gui.Parent=dz.GuiElems.Content;B.Gui.Parent=dz.GuiElems.Content;Explorer.InitRenameBox()Explorer.InitSearch()Explorer.InitDelCleaner()b.Changed:Connect(Explorer.UpdateSelectionVisuals)dz.GuiElems.Main:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()if Explorer.Active then Explorer.UpdateView()Explorer.Refresh()end end)dz.OnActivate:Connect(function()Explorer.Active=true;Explorer.UpdateView()Explorer.Update()Explorer.Refresh()end)dz.OnRestore:Connect(function()Explorer.Active=true;Explorer.UpdateView()Explorer.Update()Explorer.Refresh()end)dz.OnDeactivate:Connect(function()Explorer.Active=false end)dz.OnMinimize:Connect(function()Explorer.Active=false end)H=Settings.Explorer.AutoUpdateSearch;a[game]={Obj=game}l[a[game]]=true;if env.getnilinstances then a[y.Obj]=y end;Explorer.SetupConnections()local Y=u(game)if Main.Elevated then for Z=1,#Y do local a0=Y[Z]local R=a[t(a0,"Instance")]if R then local S={Obj=a0,Parent=R}a[a0]=S;R[#R+1]=S end end else for Z=1,#Y do local a0=Y[Z]local bh,bV=pcall(t,a0,"Instance")local R=a[bV]if R then local S={Obj=a0,Parent=R}a[a0]=S;R[#R+1]=S end end end;return Explorer end;local function dA()local c={}local e=false;local f=function()print("Main function executed")end;return{InitDeps=c,InitAfterMain=e,Main=f}end;Properties=function()local Main,Lib,Apps,Settings;local Explorer,Properties,ScriptViewer,Notebook;local API,RMD,env,service,plr,create,createSimple;local function c(d)Main=d.Main;Lib=d.Lib;Apps=d.Apps;Settings=d.Settings;API=d.API;RMD=d.RMD;env=d.env;service=d.service;plr=d.plr;create=d.create;createSimple=d.createSimple end;local function e()Explorer=Apps.Explorer;Properties=Apps.Properties;ScriptViewer=Apps.ScriptViewer;Notebook=Apps.Notebook end;local function f()local Properties={}local dz,p,dB;local A,B;local dC;local dD,dE,l,dF,dG,dH={},{},{},{},{},{}local dI,dJ,dK;local dL,dM={},{}local table,string=table,string;local dN=game.GetPropertyChangedSignal;local dO=game.GetAttributeChangedSignal;local aX=game.IsA;local dP=game.GetAttribute;local dQ=game.SetAttribute;Properties.GuiElems={}Properties.Index=0;Properties.ViewWidth=0;Properties.MinInputWidth=100;Properties.EntryIndent=16;Properties.EntryOffset=4;Properties.NameWidthCache={}Properties.SubPropCache={}Properties.ClassLists={}Properties.SearchText=""Properties.AddAttributeProp={Category="Attributes",Class="",Name="",SpecialRow="AddAttribute",Tags={}}Properties.SoundPreviewProp={Category="Data",ValueType={Name="SoundPlayer"},Class="Sound",Name="Preview",Tags={}}Properties.IgnoreProps={["DataModel"]={["PrivateServerId"]=true,["PrivateServerOwnerId"]=true,["VIPServerId"]=true,["VIPServerOwnerId"]=true}}Properties.ExpandableTypes={["Vector2"]=true,["Vector3"]=true,["UDim"]=true,["UDim2"]=true,["CFrame"]=true,["Rect"]=true,["PhysicalProperties"]=true,["Ray"]=true,["NumberRange"]=true,["Faces"]=true,["Axes"]=true}Properties.ExpandableProps={["Sound.SoundId"]=true}Properties.CollapsedCategories={["Surface Inputs"]=true,["Surface"]=true}Properties.ConflictSubProps={["Vector2"]={"X","Y"},["Vector3"]={"X","Y","Z"},["UDim"]={"Scale","Offset"},["UDim2"]={"X","X.Scale","X.Offset","Y","Y.Scale","Y.Offset"},["CFrame"]={"Position","Position.X","Position.Y","Position.Z","RightVector","RightVector.X","RightVector.Y","RightVector.Z","UpVector","UpVector.X","UpVector.Y","UpVector.Z","LookVector","LookVector.X","LookVector.Y","LookVector.Z"},["Rect"]={"Min.X","Min.Y","Max.X","Max.Y"},["PhysicalProperties"]={"Density","Elasticity","ElasticityWeight","Friction","FrictionWeight"},["Ray"]={"Origin","Origin.X","Origin.Y","Origin.Z","Direction","Direction.X","Direction.Y","Direction.Z"},["NumberRange"]={"Min","Max"},["Faces"]={"Back","Bottom","Front","Left","Right","Top"},["Axes"]={"X","Y","Z"}}Properties.ConflictIgnore={["BasePart"]={["ResizableFaces"]=true}}Properties.RoundableTypes={["float"]=true,["double"]=true,["Color3"]=true,["UDim"]=true,["UDim2"]=true,["Vector2"]=true,["Vector3"]=true,["NumberRange"]=true,["Rect"]=true,["NumberSequence"]=true,["ColorSequence"]=true,["Ray"]=true,["CFrame"]=true}Properties.TypeNameConvert={["number"]="double",["boolean"]="bool"}Properties.ToNumberTypes={["int"]=true,["int64"]=true,["float"]=true,["double"]=true}Properties.DefaultPropValue={string="",bool=false,double=0,UDim=UDim.new(0,0),UDim2=UDim2.new(0,0,0,0),BrickColor=BrickColor.new("Medium stone grey"),Color3=Color3.new(1,1,1),Vector2=Vector2.new(0,0),Vector3=Vector3.new(0,0,0),NumberSequence=NumberSequence.new(1),ColorSequence=ColorSequence.new(Color3.new(1,1,1)),NumberRange=NumberRange.new(0),Rect=Rect.new(0,0,0,0)}Properties.AllowedAttributeTypes={"string","boolean","number","UDim","UDim2","BrickColor","Color3","Vector2","Vector3","NumberSequence","ColorSequence","NumberRange","Rect"}Properties.StringToValue=function(b1,bx)local dR=b1.ValueType;local dS=dR.Name;if dS=="string"or dS=="Content"then return bx elseif Properties.ToNumberTypes[dS]then return tonumber(bx)elseif dS=="Vector2"then local dT=bx:split(",")local bA,bB=tonumber(dT[1]),tonumber(dT[2])if bA and bB and#dT>=2 then return Vector2.new(bA,bB)end elseif dS=="Vector3"then local dT=bx:split(",")local bA,bB,dU=tonumber(dT[1]),tonumber(dT[2]),tonumber(dT[3])if bA and bB and dU and#dT>=3 then return Vector3.new(bA,bB,dU)end elseif dS=="UDim"then local dT=bx:split(",")local dV,dW=tonumber(dT[1]),tonumber(dT[2])if dV and dW and#dT>=2 then return UDim.new(dV,dW)end elseif dS=="UDim2"then local dT=bx:gsub("[{}]",""):split(",")local dX,dY,dZ,d_=tonumber(dT[1]),tonumber(dT[2]),tonumber(dT[3]),tonumber(dT[4])if dX and dY and dZ and d_ and#dT>=4 then return UDim2.new(dX,dY,dZ,d_)end elseif dS=="CFrame"then local dT=bx:split(",")local bh,e0=pcall(CFrame.new,unpack(dT))if bh and#dT>=12 then return e0 end elseif dS=="Rect"then local dT=bx:split(",")local bh,e0=pcall(Rect.new,unpack(dT))if bh and#dT>=4 then return e0 end elseif dS=="Ray"then local dT=bx:gsub("[{}]",""):split(",")local bh,e1=pcall(Vector3.new,unpack(dT,1,3))local e2,e3=pcall(Vector3.new,unpack(dT,4,6))if bh and e2 and#dT>=6 then return Ray.new(e1,e3)end elseif dS=="NumberRange"then local dT=bx:split(",")local bh,e0=pcall(NumberRange.new,unpack(dT))if bh and#dT>=1 then return e0 end elseif dS=="Color3"then local dT=bx:gsub("[{}]",""):split(",")local bh,e0=pcall(Color3.fromRGB,unpack(dT))if bh and#dT>=3 then return e0 end end;return nil end;Properties.ValueToString=function(b1,a7)local dR=b1.ValueType;local dS=dR.Name;if dS=="Color3"then return Lib.ColorToBytes(a7)elseif dS=="NumberRange"then return a7.Min..", "..a7.Max end;return tostring(a7)end;Properties.GetIndexableProps=function(a0,e4)if not Main.Elevated then if not pcall(function()return a0.ClassName end)then return nil end end;local e5=Properties.IgnoreProps[e4.Name]or{}local e0={}local ao=1;local dD=e4.Properties;for Z=1,#dD do local b1=dD[Z]if not e5[b1.Name]then local bh=pcall(function()return a0[b1.Name]end)if bh then e0[ao]=b1;ao=ao+1 end end end;return e0 end;Properties.FindFirstObjWhichIsA=function(bc)local e6=Properties.ClassLists[bc]or{}if e6 and#e6>0 then return e6[1]end;return nil end;Properties.ComputeConflicts=function(e7)local e8=Settings.Properties.MaxConflictCheck;local b7=Explorer.Selection.List;local e9=Properties.ClassLists;local ea=string.split;local eb=table.clear;local ec=Properties.ConflictIgnore;local ed={}local ee=e7 and{e7}or dD;if e7 then local ef=e7.Class.."."..e7.Name;dH[ef]=nil;local eg=Properties.ConflictSubProps[e7.ValueType.Name]or{}for Z=1,#eg do dH[ef.."."..eg[Z]]=nil end else table.clear(dH)end;if#b7>0 then for Z=1,#ee do local b1=ee[Z]local eh,ei=b1.Name,b1.Class;local dR=b1.RootType or b1.ValueType;local dS=dR.Name;local ej=b1.AttributeName;local ef=ei.."."..eh;local ek=0;local eg=Properties.ConflictSubProps[dS]or{}local el=#eg;local em=el+1;local en=0;local eo={}local ep=ec[ei]and ec[ei][eh]local eq=dS=="PhysicalProperties"local er=b1.IsAttribute;local es=b1.MultiType;eb(ed)if not es then local et,eu,ev;local e6=e9[b1.Class]or{}for bk=1,#e6 do local a0=e6[bk]if not ev then if er then et=dP(a0,ej)if et~=nil then eu=a0;ev=true end else et=a0[eh]eu=a0;ev=true end;if ep then break end else local ew,ex;if er then ew=dP(a0,ej)if ew==nil then ex=true end else ew=a0[eh]end;if not ex then if not ed[1]then if eq then if(et and true or false)~=(ew and true or false)then ed[1]=true;en=en+1 end elseif et~=ew then ed[1]=true;en=en+1 end end;if el>0 then for ey=1,el do local ez=eo[ey]if not ez then ez=ea(eg[ey],".")eo[ey]=ez end;local eA=et;local eB=ew;for bH=1,#ez do if not eA or not eB then break end;local bT=ez[bH]eA=eA[bT]eB=eB[bT]end;local eC=ey+1;if not ed[eC]and eA~=eB then ed[eC]=true;en=en+1 end end end;if en==em then break end end end;ek=ek+1;if ek==e8 then break end end;if not ed[1]then dH[ef]=eu end;for ey=1,el do if not ed[ey+1]then dH[ef.."."..eg[ey]]=eu end end end end end;if e7 then Properties.Refresh()end end;Settings.Properties.ShowAttributes=true;Properties.ShowExplorerProps=function()local e8=Settings.Properties.MaxConflictCheck;local b7=Explorer.Selection.List;local eD={}local eE=1;local eF=Main.Elevated;local eG,eH=Settings.Properties.ShowDeprecated,Settings.Properties.ShowHidden;local eI=API.Classes;local e9={}local c8=string.lower;local eJ=RMD.PropertyOrders;local eK=game.GetAttributes;local eL=Settings.Properties.MaxAttributes;local eM=Settings.Properties.ShowAttributes;local eN={}local eO=0;local typeof=typeof;local eP=Properties.TypeNameConvert;table.clear(dD)for Z=1,#b7 do local a1=b7[Z]local a0=a1.Obj;local bc=a1.Class;if not bc then bc=a0.ClassName;a1.Class=bc end;local eQ=eI[bc]while eQ do local eR=eQ.Name;if not eD[eR]then local eS=dF[eR]if not eS then eS=Properties.GetIndexableProps(a0,eQ)dF[eR]=eS end;for Z=1,#eS do local b1=eS[Z]local c1=b1.Tags;if(not c1.Deprecated or eG)and(not c1.Hidden or eH)then dD[eE]=b1;eE=eE+1 end end;eD[eR]=true end;local e6=e9[eR]if not e6 then e6={}e9[eR]=e6 end;e6[#e6+1]=a0;eQ=eQ.Superclass end;if eM and eO<eL then local eT=eK(a0)for eU,a7 in pairs(eT)do local typ=typeof(a7)if not eN[eU]then local c6=typ=="Instance"and"Class"or typ=="EnumItem"and"Enum"or"Other"local eV={Name=eP[typ]or typ,Category=c6}local eW={IsAttribute=true,Name="ATTR_"..eU,AttributeName=eU,DisplayName=eU,Class="Instance",ValueType=eV,Category="Attributes",Tags={}}dD[eE]=eW;eE=eE+1;eO=eO+1;eN[eU]={typ,eW}if eO==eL then break end elseif eN[eU][1]~=typ then eN[eU][2].MultiType=true;eN[eU][2].Tags.ReadOnly=true;eN[eU][2].ValueType={Name="string"}end end end end;table.sort(dD,function(ac,ad)if ac.Category~=ad.Category then return(dC[ac.Category]or 9999)<(dC[ad.Category]or 9999)else local ag=eJ[ac.Class]and eJ[ac.Class][ac.Name]or 9999999;local ah=eJ[ad.Class]and eJ[ad.Class][ad.Name]or 9999999;if ag~=ah then return ag<ah else return c8(ac.Name)<c8(ad.Name)end end end)Properties.ClassLists=e9;Properties.ComputeConflicts()if#dD>0 then dD[#dD+1]=Properties.AddAttributeProp end;Properties.Update()Properties.Refresh()end;Properties.UpdateView=function()local eX=math.ceil(dB.AbsoluteSize.Y/23)local a9=dB.AbsoluteSize.X;local aa=Properties.ViewWidth+Properties.MinInputWidth;A.VisibleSpace=eX;A.TotalSpace=#dE+1;B.VisibleSpace=a9;B.TotalSpace=aa;A.Gui.Visible=#dE+1>eX;B.Gui.Visible=Settings.Properties.ScaleType==0 and aa>a9;local ab=dB.Size;dB.Size=UDim2.new(1,A.Gui.Visible and-16 or 0,1,B.Gui.Visible and-39 or-23)if ab~=dB.Size then Properties.UpdateView()else A:Update()B:Update()if A.Gui.Visible and B.Gui.Visible then A.Gui.Size=UDim2.new(0,16,1,-39)B.Gui.Size=UDim2.new(1,-16,0,16)Properties.Window.GuiElems.Content.ScrollCorner.Visible=true else A.Gui.Size=UDim2.new(0,16,1,-23)B.Gui.Size=UDim2.new(1,0,0,16)Properties.Window.GuiElems.Content.ScrollCorner.Visible=false end;Properties.Index=A.Index end end;Properties.MakeSubProp=function(b1,eY,eZ,e_)local f0={}for Z,aB in pairs(b1)do f0[Z]=aB end;f0.RootType=f0.RootType or f0.ValueType;f0.ValueType=eZ;f0.SubName=f0.SubName and f0.SubName..eY or eY;f0.DisplayName=e_;return f0 end;Properties.GetExpandedProps=function(b1)local e0={}local dR=b1.ValueType;local dS=dR.Name;local f1=Properties.MakeSubProp;if dS=="Vector2"then e0[1]=f1(b1,".X",{Name="float"})e0[2]=f1(b1,".Y",{Name="float"})elseif dS=="Vector3"then e0[1]=f1(b1,".X",{Name="float"})e0[2]=f1(b1,".Y",{Name="float"})e0[3]=f1(b1,".Z",{Name="float"})elseif dS=="CFrame"then e0[1]=f1(b1,".Position",{Name="Vector3"})e0[2]=f1(b1,".RightVector",{Name="Vector3"})e0[3]=f1(b1,".UpVector",{Name="Vector3"})e0[4]=f1(b1,".LookVector",{Name="Vector3"})elseif dS=="UDim"then e0[1]=f1(b1,".Scale",{Name="float"})e0[2]=f1(b1,".Offset",{Name="int"})elseif dS=="UDim2"then e0[1]=f1(b1,".X",{Name="UDim"})e0[2]=f1(b1,".Y",{Name="UDim"})elseif dS=="Rect"then e0[1]=f1(b1,".Min.X",{Name="float"},"X0")e0[2]=f1(b1,".Min.Y",{Name="float"},"Y0")e0[3]=f1(b1,".Max.X",{Name="float"},"X1")e0[4]=f1(b1,".Max.Y",{Name="float"},"Y1")elseif dS=="PhysicalProperties"then e0[1]=f1(b1,".Density",{Name="float"})e0[2]=f1(b1,".Elasticity",{Name="float"})e0[3]=f1(b1,".ElasticityWeight",{Name="float"})e0[4]=f1(b1,".Friction",{Name="float"})e0[5]=f1(b1,".FrictionWeight",{Name="float"})elseif dS=="Ray"then e0[1]=f1(b1,".Origin",{Name="Vector3"})e0[2]=f1(b1,".Direction",{Name="Vector3"})elseif dS=="NumberRange"then e0[1]=f1(b1,".Min",{Name="float"})e0[2]=f1(b1,".Max",{Name="float"})elseif dS=="Faces"then e0[1]=f1(b1,".Back",{Name="bool"})e0[2]=f1(b1,".Bottom",{Name="bool"})e0[3]=f1(b1,".Front",{Name="bool"})e0[4]=f1(b1,".Left",{Name="bool"})e0[5]=f1(b1,".Right",{Name="bool"})e0[6]=f1(b1,".Top",{Name="bool"})elseif dS=="Axes"then e0[1]=f1(b1,".X",{Name="bool"})e0[2]=f1(b1,".Y",{Name="bool"})e0[3]=f1(b1,".Z",{Name="bool"})end;if b1.Name=="SoundId"and b1.Class=="Sound"then e0[1]=Properties.SoundPreviewProp end;return e0 end;Properties.Update=function()table.clear(dE)local f2=Properties.NameWidthCache;local c4;local ao=1;local f3,an=0,1;local aw=service.TextService;local v=aw.GetTextSize;local aq=Enum.Font.SourceSans;local ar=Vector2.new(math.huge,20)local ea=string.split;local f4=Properties.EntryIndent;local f5=Settings.Properties.ScaleType==0;local c9,c8=string.find,string.lower;local f6=#Properties.SearchText>0 and c8(Properties.SearchText)local function a2(dD,depth)for Z=1,#dD do local b1=dD[Z]local eh=b1.Name;local eY=b1.SubName;local c6=b1.Category;local f7;if f6 and depth==1 then if c9(c8(eh),f6,1,true)then f7=true end else f7=true end;if f7 and c4~=c6 then dE[ao]={CategoryName=c6}ao=ao+1;c4=c6 end;if l["CAT_"..c6]and f7 or b1.SpecialRow then if depth>1 then b1.Depth=depth;if depth>an then an=depth end end;if f5 then local f8=eY and ea(eY,".")local e_=b1.DisplayName or f8 and f8[#f8]or eh;local nameWidth=f2[e_]if not nameWidth then nameWidth=v(aw,e_,14,aq,ar).X;f2[e_]=nameWidth end;local aa=nameWidth+f4*depth;if aa>f3 then f3=aa end end;dE[ao]=b1;ao=ao+1;local f9=b1.Class.."."..b1.Name..(b1.SubName or"")if l[f9]then local fa=depth+1;local fb=Properties.GetExpandedProps(b1)if#fb>0 then a2(fb,fa)end end end end end;a2(dD,1)dK=nil;Properties.ViewWidth=f3+9+Properties.EntryOffset;Properties.UpdateView()end;Properties.NewPropEntry=function(aN)local aO=Properties.EntryTemplate:Clone()local fc=aO.NameFrame;local fd=aO.ValueFrame;local fe=Lib.Checkbox.new(1)fe.Gui.Position=UDim2.new(0,3,0,3)fe.Gui.Parent=fd;fe.OnInput:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;if b1.ValueType.Name=="PhysicalProperties"then Properties.SetProp(b1,fe.Toggled and true or nil)else Properties.SetProp(b1,fe.Toggled)end end)dL[aN]=fe;local ff=Main.MiscIcons:GetLabel()ff.Position=UDim2.new(0,2,0,3)ff.Parent=aO.ValueFrame.RightButton;aO.Position=UDim2.new(0,0,0,23*(aN-1))fc.Expand.InputBegan:Connect(function(aK)local b1=dE[aN+Properties.Index]if not b1 or aK.UserInputType~=Enum.UserInputType.MouseMovement then return end;local f9=b1.CategoryName and"CAT_"..b1.CategoryName or b1.Class.."."..b1.Name..(b1.SubName or"")Main.MiscIcons:DisplayByKey(aO.NameFrame.Expand.Icon,l[f9]and"Collapse_Over"or"Expand_Over")end)fc.Expand.InputEnded:Connect(function(aK)local b1=dE[aN+Properties.Index]if not b1 or aK.UserInputType~=Enum.UserInputType.MouseMovement then return end;local f9=b1.CategoryName and"CAT_"..b1.CategoryName or b1.Class.."."..b1.Name..(b1.SubName or"")Main.MiscIcons:DisplayByKey(aO.NameFrame.Expand.Icon,l[f9]and"Collapse"or"Expand")end)fc.Expand.MouseButton1Down:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;local f9=b1.CategoryName and"CAT_"..b1.CategoryName or b1.Class.."."..b1.Name..(b1.SubName or"")if not b1.CategoryName and not Properties.ExpandableTypes[b1.ValueType and b1.ValueType.Name]and not Properties.ExpandableProps[f9]then return end;l[f9]=not l[f9]Properties.Update()Properties.Refresh()end)fc.PropName.InputBegan:Connect(function(aK)local b1=dE[aN+Properties.Index]if not b1 then return end;if aK.UserInputType==Enum.UserInputType.MouseMovement and not fc.PropName.TextFits then local fg=Properties.FullNameFrame;local f8=string.split(b1.Class.."."..b1.Name..(b1.SubName or""),".")local fh=b1.DisplayName or f8[#f8]local fi=service.TextService:GetTextSize(fh,14,Enum.Font.SourceSans,Vector2.new(math.huge,20)).X;fg.TextLabel.Text=fh;fg.Size=UDim2.new(0,fi+4,0,22)fg.Visible=true;Properties.FullNameFrameIndex=aN;Properties.FullNameFrameAttach.SetData(fg,{Target=fc})Properties.FullNameFrameAttach.Enable()end end)fc.PropName.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and Properties.FullNameFrameIndex==aN then Properties.FullNameFrame.Visible=false;Properties.FullNameFrameAttach.Disable()end end)fd.ValueBox.MouseButton1Down:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;Properties.SetInputProp(b1,aN)end)fd.ColorButton.MouseButton1Down:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;Properties.SetInputProp(b1,aN,"color")end)fd.RightButton.MouseButton1Click:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;local f9=b1.Class.."."..b1.Name..(b1.SubName or"")local fj=dK and dK.Class.."."..dK.Name..(dK.SubName or"")if f9==fj and dK.ValueType.Category=="Class"then dK=nil;Properties.SetProp(b1,nil)else Properties.SetInputProp(b1,aN,"right")end end)fc.ToggleAttributes.MouseButton1Click:Connect(function()Settings.Properties.ShowAttributes=not Settings.Properties.ShowAttributes;Properties.ShowExplorerProps()end)aO.RowButton.MouseButton1Click:Connect(function()Properties.DisplayAddAttributeWindow()end)aO.EditAttributeButton.MouseButton1Down:Connect(function()local b1=dE[aN+Properties.Index]if not b1 then return end;Properties.DisplayAttributeContext(b1)end)fd.SoundPreview.ControlButton.MouseButton1Click:Connect(function()if Properties.PreviewSound and Properties.PreviewSound.Playing then Properties.SetSoundPreview(false)else local fk=Properties.FindFirstObjWhichIsA("Sound")if fk then Properties.SetSoundPreview(fk)end end end)fd.SoundPreview.InputBegan:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;local aM,aL;aM=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()aL:Disconnect()end)local fl=aO.ValueFrame.SoundPreview.TimeLine;local fk=Properties.FindFirstObjWhichIsA("Sound")if fk then Properties.SetSoundPreview(fk,true)end;local function fm(aK)local fn=Properties.PreviewSound;if not fn or fn.TimeLength==0 then return end;local fo=aK.Position.X;local fp=fl.AbsoluteSize;local fq=fo-fl.AbsolutePosition.X;if fp.X<=1 then return end;if fq<0 then fq=0 elseif fq>=fp.X then fq=fp.X-1 end;local fr=fq/(fp.X-1)fn.TimePosition=fr*fn.TimeLength;fl.Slider.Position=UDim2.new(fr,-4,0,-8)end;fm(aK)aL=service.UserInputService.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then fm(aK)end end)end)aO.Parent=dB;return{Gui=aO,GuiElems={NameFrame=fc,ValueFrame=fd,PropName=fc.PropName,ValueBox=fd.ValueBox,Expand=fc.Expand,ColorButton=fd.ColorButton,ColorPreview=fd.ColorButton.ColorPreview,Gradient=fd.ColorButton.ColorPreview.UIGradient,EnumArrow=fd.EnumArrow,Checkbox=fd.Checkbox,RightButton=fd.RightButton,RightButtonIcon=ff,RowButton=aO.RowButton,EditAttributeButton=aO.EditAttributeButton,ToggleAttributes=fc.ToggleAttributes,SoundPreview=fd.SoundPreview,SoundPreviewSlider=fd.SoundPreview.TimeLine.Slider}}end;Properties.GetSoundPreviewEntry=function()for Z=1,#dE do if dE[Z]==Properties.SoundPreviewProp then return dG[Z-Properties.Index]end end end;Properties.SetSoundPreview=function(fk,fs)local fn=Properties.PreviewSound;if not fn then fn=Instance.new("Sound")fn.Name="Preview"fn.Paused:Connect(function()local aJ=Properties.GetSoundPreviewEntry()if aJ then Main.MiscIcons:DisplayByKey(aJ.GuiElems.SoundPreview.ControlButton.Icon,"Play")end end)fn.Resumed:Connect(function()Properties.Refresh()end)fn.Ended:Connect(function()local aJ=Properties.GetSoundPreviewEntry()if aJ then aJ.GuiElems.SoundPreviewSlider.Position=UDim2.new(0,-4,0,-8)end;Properties.Refresh()end)fn.Parent=dz.Gui;Properties.PreviewSound=fn end;if not fk then fn:Pause()else local ft=fn.SoundId~=fk.SoundId;fn.SoundId=fk.SoundId;fn.PlaybackSpeed=fk.PlaybackSpeed;fn.Volume=fk.Volume;if ft then fn.TimePosition=0 end;if not fs then fn:Resume()end;coroutine.wrap(function()local fu=tick()Properties.SoundPreviewTime=fu;while fu==Properties.SoundPreviewTime and fn.Playing do local aJ=Properties.GetSoundPreviewEntry()if aJ then local fv=fn.TimeLength;local fr=fn.TimePosition/(fv==0 and 1 or fv)aJ.GuiElems.SoundPreviewSlider.Position=UDim2.new(fr,-4,0,-8)end;Lib.FastWait()end end)()Properties.Refresh()end end;Properties.DisplayAttributeContext=function(b1)local b6=Properties.AttributeContext;if not b6 then b6=Lib.ContextMenu.new()b6.Iconless=true;b6.Width=80 end;b6:Clear()b6:Add({Name="Edit",OnClick=function()Properties.DisplayAddAttributeWindow(b1)end})b6:Add({Name="Delete",OnClick=function()Properties.SetProp(b1,nil,true)Properties.ShowExplorerProps()end})b6:Show()end;Properties.DisplayAddAttributeWindow=function(fw)local fx=Properties.AddAttributeWindow;if not fx then fx=Lib.Window.new()fx.Alignable=false;fx.Resizable=false;fx:SetTitle("Add Attribute")fx:SetSize(200,130)local fy=Lib.Button.new()local fz=Lib.Label.new()fz.Text="Name"fz.Position=UDim2.new(0,30,0,10)fz.Size=UDim2.new(0,40,0,20)fx:Add(fz)local fA=Lib.ViewportTextBox.new()fA.Position=UDim2.new(0,75,0,10)fA.Size=UDim2.new(0,120,0,20)fx:Add(fA,"NameBox")fA.TextBox:GetPropertyChangedSignal("Text"):Connect(function()fy:SetDisabled(#fA:GetText()==0)end)local fB=Lib.Label.new()fB.Text="Type"fB.Position=UDim2.new(0,30,0,40)fB.Size=UDim2.new(0,40,0,20)fx:Add(fB)local fC=Lib.DropDown.new()fC.CanBeEmpty=false;fC.Position=UDim2.new(0,75,0,40)fC.Size=UDim2.new(0,120,0,20)fC:SetOptions(Properties.AllowedAttributeTypes)fx:Add(fC,"TypeChooser")local fD=Lib.Label.new()fD.Text=""fD.Position=UDim2.new(0,5,1,-45)fD.Size=UDim2.new(1,-10,0,20)fD.TextColor3=Settings.Theme.Important;fx.ErrorLabel=fD;fx:Add(fD,"Error")local fE=Lib.Button.new()fE.Text="Cancel"fE.Position=UDim2.new(1,-97,1,-25)fE.Size=UDim2.new(0,92,0,20)fE.OnClick:Connect(function()fx:Close()end)fx:Add(fE)fy.Text="Save"fy.Position=UDim2.new(0,5,1,-25)fy.Size=UDim2.new(0,92,0,20)fy.OnClick:Connect(function()local eU=fA:GetText()if#eU>100 then fD.Text="Error: Name over 100 chars"return elseif eU:sub(1,3)=="RBX"then fD.Text="Error: Name begins with 'RBX'"return end;local typ=fC.Selected;local eV={Name=Properties.TypeNameConvert[typ]or typ,Category="DataType"}local eW={IsAttribute=true,Name="ATTR_"..eU,AttributeName=eU,DisplayName=eU,Class="Instance",ValueType=eV,Category="Attributes",Tags={}}Settings.Properties.ShowAttributes=true;Properties.SetProp(eW,Properties.DefaultPropValue[eV.Name],true,Properties.EditingAttribute)Properties.ShowExplorerProps()fx:Close()end)fx:Add(fy,"SaveButton")Properties.AddAttributeWindow=fx end;Properties.EditingAttribute=fw;fx:SetTitle(fw and"Edit Attribute "..fw.AttributeName or"Add Attribute")fx.Elements.Error.Text=""fx.Elements.NameBox:SetText("")fx.Elements.SaveButton:SetDisabled(true)fx.Elements.TypeChooser:SetSelected(1)fx:Show()end;Properties.IsTextEditable=function(b1)local dR=b1.ValueType;local dS=dR.Name;return dS~="bool"and dR.Category~="Enum"and dR.Category~="Class"and dS~="BrickColor"end;Properties.DisplayEnumDropdown=function(fF)local b6=Properties.EnumContext;if not b6 then b6=Lib.ContextMenu.new()b6.Iconless=true;b6.MaxHeight=200;b6.ReverseYOffset=22;Properties.EnumDropdown=b6 end;if not dK or dK.ValueType.Category~="Enum"then return end;local b1=dK;local aJ=dG[fF]local fd=aJ.GuiElems.ValueFrame;local fG=Enum[b1.ValueType.Name]if not fG then return end;local fH={}for eU,fG in next,fG:GetEnumItems()do fH[#fH+1]=fG end;table.sort(fH,function(ac,ad)return ac.Name<ad.Name end)b6:Clear()local function c2(eU)if b1~=dK then return end;local fI=fG[eU]dK=nil;Properties.SetProp(b1,fI)end;for Z=1,#fH do local fI=fH[Z]b6:Add({Name=fI.Name,OnClick=c2})end;b6.Width=fd.AbsoluteSize.X;b6:Show(fd.AbsolutePosition.X,fd.AbsolutePosition.Y+22)end;Properties.DisplayBrickColorEditor=function(b1,fF,fJ)local fK=Properties.BrickColorEditor;if not fK then fK=Lib.BrickColorPicker.new()fK.Gui.DisplayOrder=Main.DisplayOrders.Menu;fK.ReverseYOffset=22;fK.OnSelect:Connect(function(fJ)if not fK.CurrentProp or fK.CurrentProp.ValueType.Name~="BrickColor"then return end;if fK.CurrentProp==dK then dK=nil end;Properties.SetProp(fK.CurrentProp,BrickColor.new(fJ))end)fK.OnMoreColors:Connect(function()fK:Close()local fL;for Z,aB in pairs(API.Classes.BasePart.Properties)do if aB.Name=="Color"then fL=aB;break end end;Properties.DisplayColorEditor(fL,fK.SavedColor.Color)end)Properties.BrickColorEditor=fK end;local aJ=dG[fF]local fd=aJ.GuiElems.ValueFrame;fK.CurrentProp=b1;fK.SavedColor=fJ;if b1 and b1.Class=="BasePart"and b1.Name=="BrickColor"then fK:SetMoreColorsVisible(true)else fK:SetMoreColorsVisible(false)end;fK:Show(fd.AbsolutePosition.X,fd.AbsolutePosition.Y+22)end;Properties.DisplayColorEditor=function(b1,fJ)local fK=Properties.ColorEditor;if not fK then fK=Lib.ColorPicker.new()fK.OnSelect:Connect(function(fJ)if not fK.CurrentProp then return end;local dS=fK.CurrentProp.ValueType.Name;if dS~="Color3"and dS~="BrickColor"then return end;local fM=dS=="Color3"and fJ or BrickColor.new(fJ)if fK.CurrentProp==dK then dK=nil end;Properties.SetProp(fK.CurrentProp,fM)end)Properties.ColorEditor=fK end;fK.CurrentProp=b1;if fJ then fK:SetColor(fJ)else local et=Properties.GetFirstPropVal(b1)if et then fK:SetColor(et)end end;fK:Show()end;Properties.DisplayNumberSequenceEditor=function(b1,fN)local fK=Properties.NumberSequenceEditor;if not fK then fK=Lib.NumberSequenceEditor.new()fK.OnSelect:Connect(function(a7)if not fK.CurrentProp or fK.CurrentProp.ValueType.Name~="NumberSequence"then return end;if fK.CurrentProp==dK then dK=nil end;Properties.SetProp(fK.CurrentProp,a7)end)Properties.NumberSequenceEditor=fK end;fK.CurrentProp=b1;if fN then fK:SetSequence(fN)else local et=Properties.GetFirstPropVal(b1)if et then fK:SetSequence(et)end end;fK:Show()end;Properties.DisplayColorSequenceEditor=function(b1,fN)local fK=Properties.ColorSequenceEditor;if not fK then fK=Lib.ColorSequenceEditor.new()fK.OnSelect:Connect(function(a7)if not fK.CurrentProp or fK.CurrentProp.ValueType.Name~="ColorSequence"then return end;if fK.CurrentProp==dK then dK=nil end;Properties.SetProp(fK.CurrentProp,a7)end)Properties.ColorSequenceEditor=fK end;fK.CurrentProp=b1;if fN then fK:SetSequence(fN)else local et=Properties.GetFirstPropVal(b1)if et then fK:SetSequence(et)end end;fK:Show()end;Properties.GetFirstPropVal=function(b1)local cM=Properties.FindFirstObjWhichIsA(b1.Class)if cM then return Properties.GetPropVal(b1,cM)end end;Properties.GetPropVal=function(b1,a0)if b1.MultiType then return"<Multiple Types>"end;if not a0 then return end;local ew;if b1.IsAttribute then ew=dP(a0,b1.AttributeName)if ew==nil then return nil end;local typ=typeof(ew)local fO=Properties.TypeNameConvert[typ]or typ;if b1.RootType then if b1.RootType.Name~=fO then return nil end elseif b1.ValueType.Name~=fO then return nil end else ew=a0[b1.Name]end;if b1.SubName then local ez=string.split(b1.SubName,".")for Z=1,#ez do local bT=ez[Z]if#bT>0 and ew then ew=ew[bT]end end end;return ew end;Properties.SelectObject=function(a0)if dK and dK.ValueType.Category=="Class"then local b1=dK;dK=nil;if aX(a0,b1.ValueType.Name)then Properties.SetProp(b1,a0)else Properties.Refresh()end;return true end;return false end;Properties.DisplayProp=function(b1,fF)local eh=b1.Name;local dR=b1.ValueType;local dS=dR.Name;local c1=b1.Tags;local ef=b1.Class.."."..b1.Name..(b1.SubName or"")local fP=dH[ef]local fQ=dG[fF]local UDim2=UDim2;local fR=fQ.GuiElems;local fd=fR.ValueFrame;local fS=fR.ValueBox;local fT=fR.ColorButton;local fU=fR.ColorPreview;local fV=fR.Gradient;local fW=fR.EnumArrow;local fX=fR.Checkbox;local fY=fR.RightButton;local fZ=fR.SoundPreview;local ew=Properties.GetPropVal(b1,fP)local fj=dK and dK.Class.."."..dK.Name..(dK.SubName or"")local dW=4;local f_=6;if dS=="Color3"or dS=="BrickColor"or dS=="ColorSequence"then fT.Visible=true;fW.Visible=false;if ew then fV.Color=dS=="Color3"and ColorSequence.new(ew)or dS=="BrickColor"and ColorSequence.new(ew.Color)or ew else fV.Color=ColorSequence.new(Color3.new(1,1,1))end;fU.BorderColor3=dS=="ColorSequence"and Color3.new(1,1,1)or Color3.new(0,0,0)dW=22;f_=24+(dS=="ColorSequence"and 20 or 0)elseif dR.Category=="Enum"then fT.Visible=false;fW.Visible=not b1.Tags.ReadOnly;f_=22 elseif ef==fj and dR.Category=="Class"or dS=="NumberSequence"then fT.Visible=false;fW.Visible=false;f_=26 else fT.Visible=false;fW.Visible=false end;fS.Position=UDim2.new(0,dW,0,0)fS.Size=UDim2.new(1,-f_,1,0)if fj==ef and dR.Category=="Class"then Main.MiscIcons:DisplayByKey(fR.RightButtonIcon,"Delete")fR.RightButtonIcon.Visible=true;fY.Text=""fY.Visible=true elseif dS=="NumberSequence"or dS=="ColorSequence"then fR.RightButtonIcon.Visible=false;fY.Text="..."fY.Visible=true else fY.Visible=false end;if dS=="bool"or dS=="PhysicalProperties"then fS.Visible=false;fX.Visible=true;fZ.Visible=false;dL[fF].Disabled=c1.ReadOnly;if dS=="PhysicalProperties"and dH[ef]then dL[fF]:SetState(ew and true or false)else dL[fF]:SetState(ew)end elseif dS=="SoundPlayer"then fS.Visible=false;fX.Visible=false;fZ.Visible=true;local g0=Properties.PreviewSound and Properties.PreviewSound.Playing;Main.MiscIcons:DisplayByKey(fZ.ControlButton.Icon,g0 and"Pause"or"Play")else fS.Visible=true;fX.Visible=false;fZ.Visible=false;if ew~=nil then if dS=="Color3"then fS.Text="["..Lib.ColorToBytes(ew).."]"elseif dR.Category=="Enum"then fS.Text=ew.Name elseif Properties.RoundableTypes[dS]and Settings.Properties.NumberRounding then local g1=Properties.ValueToString(b1,ew)fS.Text=g1:gsub("-?%d+%.%d+",function(cc)return tostring(tonumber(("%."..Settings.Properties.NumberRounding.."f"):format(cc)))end)else fS.Text=Properties.ValueToString(b1,ew)end else fS.Text=""end;fS.TextColor3=c1.ReadOnly and Settings.Theme.PlaceholderText or Settings.Theme.Text end end;Properties.Refresh=function()local eX=math.max(math.ceil(dB.AbsoluteSize.Y/23),0)local a9=dB.AbsoluteSize.X;local g2=math.max(Properties.MinInputWidth,a9-Properties.ViewWidth)local g3=false;local aX=game.IsA;local UDim2=UDim2;local ea=string.split;local g4=Settings.Properties.ScaleType;for Z=1,#dM do dM[Z]:Disconnect()end;table.clear(dM)Properties.FullNameFrame.Visible=false;Properties.FullNameFrameAttach.Disable()for Z=1,eX do local fQ=dG[Z]if not dG[Z]then fQ=Properties.NewPropEntry(Z)dG[Z]=fQ end;local aJ=fQ.Gui;local fR=fQ.GuiElems;local fc=fR.NameFrame;local g5=fR.PropName;local fd=fR.ValueFrame;local bv=fR.Expand;local fS=fR.ValueBox;local g6=fR.PropName;local fY=fR.RightButton;local g7=fR.EditAttributeButton;local g8=fR.ToggleAttributes;local b1=dE[Z+Properties.Index]if b1 then local g9=g4==0 and B.Index or 0;aJ.Visible=true;aJ.Position=UDim2.new(0,-g9,0,aJ.Position.Y.Offset)aJ.Size=UDim2.new(g4==0 and 0 or 1,g4==0 and Properties.ViewWidth+g2 or 0,0,22)if b1.SpecialRow then if b1.SpecialRow=="AddAttribute"then fc.Visible=false;fd.Visible=false;fR.RowButton.Visible=true end else fc.Visible=true;fR.RowButton.Visible=false;local depth=Properties.EntryIndent*(b1.Depth or 1)local ga=depth+Properties.EntryOffset;fc.Position=UDim2.new(0,ga,0,0)g5.Size=UDim2.new(1,-2-(g4==0 and 0 or 6),1,0)local ef=b1.CategoryName and"CAT_"..b1.CategoryName or b1.Class.."."..b1.Name..(b1.SubName or"")if b1.CategoryName then aJ.BackgroundColor3=Settings.Theme.Main1;fd.Visible=false;g6.Text=b1.CategoryName;g6.Font=Enum.Font.SourceSansBold;bv.Visible=true;g6.TextColor3=Settings.Theme.Text;fc.BackgroundTransparency=1;fc.Size=UDim2.new(1,0,1,0)g7.Visible=false;local eM=Settings.Properties.ShowAttributes;g8.Position=UDim2.new(1,-85-ga,0,0)g8.Text=eM and"[Setting: ON]"or"[Setting: OFF]"g8.TextColor3=Settings.Theme.Text;g8.Visible=b1.CategoryName=="Attributes"else local eh=b1.Name;local dR=b1.ValueType;local dS=dR.Name;local c1=b1.Tags;local fP=dH[ef]local gb=b1.IsAttribute and 20 or 0;g7.Visible=b1.IsAttribute and not b1.RootType;g8.Visible=false;if g4==0 then fc.Size=UDim2.new(0,Properties.ViewWidth-ga-1,1,0)fd.Position=UDim2.new(0,Properties.ViewWidth,0,0)fd.Size=UDim2.new(0,g2-gb,1,0)else fc.Size=UDim2.new(0.5,-ga-1,1,0)fd.Position=UDim2.new(0.5,0,0,0)fd.Size=UDim2.new(0.5,-gb,1,0)end;local f8=ea(ef,".")g6.Text=b1.DisplayName or f8[#f8]g6.Font=Enum.Font.SourceSans;aJ.BackgroundColor3=Settings.Theme.Main2;fd.Visible=true;bv.Visible=dR.Category=="DataType"and Properties.ExpandableTypes[dS]or Properties.ExpandableProps[ef]g6.TextColor3=c1.ReadOnly and Settings.Theme.PlaceholderText or Settings.Theme.Text;Properties.DisplayProp(b1,Z)if fP then if b1.IsAttribute then dM[#dM+1]=dO(fP,b1.AttributeName):Connect(function()Properties.DisplayProp(b1,Z)end)else dM[#dM+1]=dN(fP,eh):Connect(function()Properties.DisplayProp(b1,Z)end)end end;local gc=fS.Visible;local fj=dK and dK.Class.."."..dK.Name..(dK.SubName or"")if ef==fj then fc.BackgroundColor3=Settings.Theme.ListSelection;fc.BackgroundTransparency=0;if dR.Category=="Class"or dR.Category=="Enum"or dS=="BrickColor"then fd.BackgroundColor3=Settings.Theme.TextBox;fd.BackgroundTransparency=0;fS.Visible=true else g3=true;local dV=g4==0 and 0 or 0.5;local dW=g4==0 and Properties.ViewWidth-B.Index or 0;local f_=0;if dS=="Color3"or dS=="ColorSequence"then dW=dW+22 end;if dS=="NumberSequence"or dS=="ColorSequence"then f_=20 end;dI.Position=UDim2.new(dV,dW,0,aJ.Position.Y.Offset)dI.Size=UDim2.new(1-dV,-dW-f_-gb,0,22)dI.Visible=true;fS.Visible=false end else fc.BackgroundColor3=Settings.Theme.Main1;fc.BackgroundTransparency=1;fd.BackgroundColor3=Settings.Theme.Main1;fd.BackgroundTransparency=1;fS.Visible=gc end end;if b1.CategoryName or Properties.ExpandableTypes[b1.ValueType and b1.ValueType.Name]or Properties.ExpandableProps[ef]then if Lib.CheckMouseInGui(bv)then Main.MiscIcons:DisplayByKey(bv.Icon,l[ef]and"Collapse_Over"or"Expand_Over")else Main.MiscIcons:DisplayByKey(bv.Icon,l[ef]and"Collapse"or"Expand")end;bv.Visible=true else bv.Visible=false end end;aJ.Visible=true else aJ.Visible=false end end;if not g3 then dI.Visible=false end;for Z=eX+1,#dG do dG[Z].Gui:Destroy()dG[Z]=nil;dL[Z]=nil end end;Properties.SetProp=function(b1,a7,gd,ge)local b7=Explorer.Selection.List;local eh=b1.Name;local eY=b1.SubName;local ei=b1.Class;local dR=b1.ValueType;local dS=dR.Name;local ej=b1.AttributeName;local gf=b1.RootType;local gg=gf and gf.Name;local f9=b1.Class.."."..b1.Name..(b1.SubName or"")local Vector3=Vector3;for Z=1,#b7 do local a1=b7[Z]local a0=a1.Obj;if aX(a0,ei)then pcall(function()local gh=a7;local O;if b1.IsAttribute then O=dP(a0,ej)else O=a0[eh]end;if ge then if ge.ValueType.Name==dS then gh=dP(a0,ge.AttributeName)or gh end;dQ(a0,ge.AttributeName,nil)end;if gg then if gg=="Vector2"then gh=Vector2.new(eY==".X"and gh or O.X,eY==".Y"and gh or O.Y)elseif gg=="Vector3"then gh=Vector3.new(eY==".X"and gh or O.X,eY==".Y"and gh or O.Y,eY==".Z"and gh or O.Z)elseif gg=="UDim"then gh=UDim.new(eY==".Scale"and gh or O.Scale,eY==".Offset"and gh or O.Offset)elseif gg=="UDim2"then local gi,gj=O.X,O.Y;local gk=eY==".X"and gh or UDim.new(eY==".X.Scale"and gh or gi.Scale,eY==".X.Offset"and gh or gi.Offset)local gl=eY==".Y"and gh or UDim.new(eY==".Y.Scale"and gh or gj.Scale,eY==".Y.Offset"and gh or gj.Offset)gh=UDim2.new(gk,gl)elseif gg=="CFrame"then local gm,gn,go,gp=O.Position,O.RightVector,O.UpVector,O.LookVector;local pos=eY==".Position"and gh or Vector3.new(eY==".Position.X"and gh or gm.X,eY==".Position.Y"and gh or gm.Y,eY==".Position.Z"and gh or gm.Z)local gq=eY==".RightVector"and gh or Vector3.new(eY==".RightVector.X"and gh or gn.X,eY==".RightVector.Y"and gh or gn.Y,eY==".RightVector.Z"and gh or gn.Z)local gr=eY==".UpVector"and gh or Vector3.new(eY==".UpVector.X"and gh or go.X,eY==".UpVector.Y"and gh or go.Y,eY==".UpVector.Z"and gh or go.Z)local gs=eY==".LookVector"and gh or Vector3.new(eY==".LookVector.X"and gh or gp.X,eY==".RightVector.Y"and gh or gp.Y,eY==".RightVector.Z"and gh or gp.Z)gh=CFrame.fromMatrix(pos,gq,gr,-gs)elseif gg=="Rect"then local gt,gu=O.Min,O.Max;local gv=Vector2.new(eY==".Min.X"and gh or gt.X,eY==".Min.Y"and gh or gt.Y)local gw=Vector2.new(eY==".Max.X"and gh or gu.X,eY==".Max.Y"and gh or gu.Y)gh=Rect.new(gv,gw)elseif gg=="PhysicalProperties"then local gx=PhysicalProperties.new(a0.Material)local gy=eY==".Density"and gh or O and O.Density or gx.Density;local gz=eY==".Friction"and gh or O and O.Friction or gx.Friction;local gA=eY==".Elasticity"and gh or O and O.Elasticity or gx.Elasticity;local gB=eY==".FrictionWeight"and gh or O and O.FrictionWeight or gx.FrictionWeight;local gC=eY==".ElasticityWeight"and gh or O and O.ElasticityWeight or gx.ElasticityWeight;gh=PhysicalProperties.new(gy,gz,gA,gB,gC)elseif gg=="Ray"then local gD,gE=O.Origin,O.Direction;local e1=eY==".Origin"and gh or Vector3.new(eY==".Origin.X"and gh or gD.X,eY==".Origin.Y"and gh or gD.Y,eY==".Origin.Z"and gh or gD.Z)local e3=eY==".Direction"and gh or Vector3.new(eY==".Direction.X"and gh or gE.X,eY==".Direction.Y"and gh or gE.Y,eY==".Direction.Z"and gh or gE.Z)gh=Ray.new(e1,e3)elseif gg=="Faces"then local gF={}local gG={"Back","Bottom","Front","Left","Right","Top"}for _,gH in pairs(gG)do local a7;if eY=="."..gH then a7=gh else a7=O[gH]end;if a7 then gF[#gF+1]=Enum.NormalId[gH]end end;gh=Faces.new(unpack(gF))elseif gg=="Axes"then local gI={}local gJ={"X","Y","Z"}for _,gK in pairs(gJ)do local a7;if eY=="."..gK then a7=gh else a7=O[gK]end;if a7 then gI[#gI+1]=Enum.Axis[gK]end end;gh=Axes.new(unpack(gI))elseif gg=="NumberRange"then gh=NumberRange.new(eY==".Min"and gh or O.Min,eY==".Max"and gh or O.Max)end end;if dS=="PhysicalProperties"and gh then gh=O or PhysicalProperties.new(a0.Material)end;if b1.IsAttribute then dQ(a0,ej,gh)else a0[eh]=gh end end)end end;if not gd then Properties.ComputeConflicts(b1)end end;Properties.InitInputBox=function()dI=create({{1,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderSizePixel=0,Name="InputBox",Size=UDim2.new(0,200,0,22),Visible=false,ZIndex=2}},{2,"TextBox",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BackgroundTransparency=1,BorderColor3=Color3.new(0.062745101749897,0.51764708757401,1),BorderSizePixel=0,ClearTextOnFocus=false,Font=3,Parent={1},PlaceholderColor3=Color3.new(0.69803923368454,0.69803923368454,0.69803923368454),Position=UDim2.new(0,3,0,0),Size=UDim2.new(1,-6,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0,ZIndex=2}}})dJ=dI.TextBox;dI.BackgroundColor3=Settings.Theme.TextBox;dI.Parent=Properties.Window.GuiElems.Content.List;dJ.FocusLost:Connect(function()if not dK then return end;local b1=dK;dK=nil;local a7=Properties.StringToValue(b1,dJ.Text)if a7 then Properties.SetProp(b1,a7)else Properties.Refresh()end end)dJ.Focused:Connect(function()dJ.SelectionStart=1;dJ.CursorPosition=#dJ.Text+1 end)Lib.ViewportTextBox.convert(dJ)end;Properties.SetInputProp=function(b1,fF,gL)local dR=b1.ValueType;local dS=dR.Name;local f9=b1.Class.."."..b1.Name..(b1.SubName or"")local fP=dH[f9]local ew=Properties.GetPropVal(b1,fP)if b1.Tags.ReadOnly then return end;dK=b1;if gL then if gL=="color"then if dS=="Color3"then dJ.Text=ew and Properties.ValueToString(b1,ew)or""Properties.DisplayColorEditor(b1,ew)elseif dS=="BrickColor"then Properties.DisplayBrickColorEditor(b1,fF,ew)elseif dS=="ColorSequence"then dJ.Text=ew and Properties.ValueToString(b1,ew)or""Properties.DisplayColorSequenceEditor(b1,ew)end elseif gL=="right"then if dS=="NumberSequence"then dJ.Text=ew and Properties.ValueToString(b1,ew)or""Properties.DisplayNumberSequenceEditor(b1,ew)elseif dS=="ColorSequence"then dJ.Text=ew and Properties.ValueToString(b1,ew)or""Properties.DisplayColorSequenceEditor(b1,ew)end end else if Properties.IsTextEditable(b1)then dJ.Text=ew and Properties.ValueToString(b1,ew)or""dJ:CaptureFocus()elseif dR.Category=="Enum"then Properties.DisplayEnumDropdown(fF)elseif dS=="BrickColor"then Properties.DisplayBrickColorEditor(b1,fF,ew)end end;Properties.Refresh()end;Properties.InitSearch=function()local d7=Properties.GuiElems.ToolBar.SearchFrame.SearchBox;Lib.ViewportTextBox.convert(d7)d7:GetPropertyChangedSignal("Text"):Connect(function()Properties.SearchText=d7.Text;Properties.Update()Properties.Refresh()end)end;Properties.InitEntryStuff=function()Properties.EntryTemplate=create({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Font=3,Name="Entry",Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,250,0,22),Text="",TextSize=14}},{2,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="NameFrame",Parent={1},Position=UDim2.new(0,20,0,0),Size=UDim2.new(1,-40,1,0)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="PropName",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(1,-2,1,0),Text="Anchored",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0}},{4,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Font=3,Name="Expand",Parent={2},Position=UDim2.new(0,-20,0,1),Size=UDim2.new(0,20,0,20),Text="",TextSize=14,Visible=false}},{5,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={4},Position=UDim2.new(0,2,0,2),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{6,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=4,Name="ToggleAttributes",Parent={2},Position=UDim2.new(1,-85,0,0),Size=UDim2.new(0,85,0,22),Text="[SETTING: OFF]",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false}},{7,"Frame",{BackgroundColor3=Color3.new(0.04313725605607,0.35294118523598,0.68627452850342),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019607901573,0.73725491762161),BorderSizePixel=0,Name="ValueFrame",Parent={1},Position=UDim2.new(1,-100,0,0),Size=UDim2.new(0,80,1,0)}},{8,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Name="Line",Parent={7},Position=UDim2.new(0,-1,0,0),Size=UDim2.new(0,1,1,0)}},{9,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ColorButton",Parent={7},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0,0,0),Name="ColorPreview",Parent={9},Position=UDim2.new(0,5,0,6),Size=UDim2.new(0,10,0,10)}},{11,"UIGradient",{Parent={10}}},{12,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Parent={7},Position=UDim2.new(1,-16,0,3),Size=UDim2.new(0,16,0,16),Visible=false}},{13,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1)}},{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1)}},{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={12},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1)}},{16,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="ValueBox",Parent={7},Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextXAlignment=0}},{17,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="RightButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="...",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{18,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SettingsButton",Parent={7},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{19,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="SoundPreview",Parent={7},Size=UDim2.new(1,0,1,0),Visible=false}},{20,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="ControlButton",Parent={19},Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{21,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642383285",ImageRectOffset=Vector2.new(144,16),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={20},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{22,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BorderSizePixel=0,Name="TimeLine",Parent={19},Position=UDim2.new(0,26,0.5,-1),Size=UDim2.new(1,-34,0,2)}},{23,"Frame",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Name="Slider",Parent={22},Position=UDim2.new(0,-4,0,-8),Size=UDim2.new(0,8,0,18)}},{24,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EditAttributeButton",Parent={1},Position=UDim2.new(1,-20,0,0),Size=UDim2.new(0,20,0,22),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{25,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718180",ImageTransparency=0.20000000298023,Name="Icon",Parent={24},Position=UDim2.new(0,2,0,3),Size=UDim2.new(0,16,0,16)}},{26,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="RowButton",Parent={1},Size=UDim2.new(1,0,1,0),Text="Add Attribute",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,Visible=false}}})local fg=Lib.Frame.new()local gM=Lib.Label.new()gM.Parent=fg.Gui;gM.Position=UDim2.new(0,2,0,0)gM.Size=UDim2.new(1,-4,1,0)fg.Visible=false;fg.Parent=dz.Gui;Properties.FullNameFrame=fg;Properties.FullNameFrameAttach=Lib.AttachTo(fg)end;Properties.Init=function()local gN=create({{1,"Folder",{Name="Items"}},{2,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ToolBar",Parent={1},Size=UDim2.new(1,0,0,22)}},{3,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchFrame",Parent={2},Position=UDim2.new(0,3,0,1),Size=UDim2.new(1,-6,0,18)}},{4,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClearTextOnFocus=false,Font=3,Name="SearchBox",Parent={3},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search properties",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-24,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{5,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}},{6,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Reset",Parent={3},Position=UDim2.new(1,-17,0,1),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{7,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034718129",ImageColor3=Color3.new(0.39215686917305,0.39215686917305,0.39215686917305),Parent={6},Size=UDim2.new(0,16,0,16)}},{8,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Refresh",Parent={2},Position=UDim2.new(1,-20,0,1),Size=UDim2.new(0,18,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,Visible=false}},{9,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5642310344",Parent={8},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,12,0,12)}},{10,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Parent={1},Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}},{11,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ClipsDescendants=true,Name="List",Parent={1},Position=UDim2.new(0,0,0,23),Size=UDim2.new(1,0,1,-23)}}})dC=API.CategoryOrder;for c6,_ in next,dC do if not Properties.CollapsedCategories[c6]then l["CAT_"..c6]=true end end;l["Sound.SoundId"]=true;dz=Lib.Window.new()Properties.Window=dz;dz:SetTitle("Properties")p=gN.ToolBar;dB=gN.List;Properties.GuiElems.ToolBar=p;Properties.GuiElems.PropsFrame=dB;Properties.InitEntryStuff()dz.GuiElems.Main:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()if Properties.Window:IsContentVisible()then Properties.UpdateView()Properties.Refresh()end end)dz.OnActivate:Connect(function()Properties.UpdateView()Properties.Update()Properties.Refresh()end)dz.OnRestore:Connect(function()Properties.UpdateView()Properties.Update()Properties.Refresh()end)A=Lib.ScrollBar.new()A.WheelIncrement=3;A.Gui.Position=UDim2.new(1,-16,0,23)A:SetScrollFrame(dB)A.Scrolled:Connect(function()Properties.Index=A.Index;Properties.Refresh()end)B=Lib.ScrollBar.new(true)B.Increment=5;B.WheelIncrement=20;B.Gui.Position=UDim2.new(0,0,1,-16)B.Scrolled:Connect(function()Properties.Refresh()end)dz.GuiElems.Line.Position=UDim2.new(0,0,0,22)p.Parent=dz.GuiElems.Content;dB.Parent=dz.GuiElems.Content;gN.ScrollCorner.Parent=dz.GuiElems.Content;A.Gui.Parent=dz.GuiElems.Content;B.Gui.Parent=dz.GuiElems.Content;Properties.InitInputBox()Properties.InitSearch()end;return Properties end;return{InitDeps=c,InitAfterMain=e,Main=f}end;local Main;local Lib;local Apps;local Settings;local Explorer;local Properties;local ScriptViewer;local Notebook;local API;local RMD;local env;local service;local plr;local create;local createSimple;local function c(d)Main=d.Main;Lib=d.Lib;Apps=d.Apps;Settings=d.Settings;API=d.API;RMD=d.RMD;env=d.env;service=d.service;plr=d.plr;create=d.create;createSimple=d.createSimple end;local function e()Explorer=Apps.Explorer;Properties=Apps.Properties;ScriptViewer=Apps.ScriptViewer;Notebook=Apps.Notebook end;local function f()local ScriptViewer={}ScriptViewer.__index=ScriptViewer;local dz,gO;local gP=nil;function ScriptViewer.new()local self=setmetatable({},ScriptViewer)local dz=Lib.Window.new()dz:SetTitle("Script Viewer")dz:Resize(500,400)local gO=Lib.CodeFrame.new()gO.Frame.Position=UDim2.new(0,0,0,20)gO.Frame.Size=UDim2.new(1,0,1,-20)gO.Frame.Parent=dz.GuiElems.Content;local gQ=Instance.new("TextButton",dz.GuiElems.Content)gQ.BackgroundTransparency=1;gQ.Size=UDim2.new(0.5,0,0,20)gQ.Text="Copy to Clipboard"gQ.TextColor3=Color3.new(1,1,1)gQ.MouseButton1Click:Connect(function()local gR=gO:GetText()env.setclipboard(gR)end)self.window=dz;self.codeFrame=gO;return self end;function ScriptViewer:ViewScript(bC)local gS,gR=pcall(env.decompile or function()end,bC)if not gS or not gR then gR="-- DEX - Source failed to decompile"end;self.codeFrame:SetText(gR:gsub("\0","\\0"))self.window:Show()end;ScriptViewer.Init=function()dz=Lib.Window.new()dz:SetTitle("Script Viewer")dz:Resize(500,400)ScriptViewer.Window=dz;gO=Lib.CodeFrame.new()gO.Frame.Position=UDim2.new(0,0,0,20)gO.Frame.Size=UDim2.new(1,0,1,-20)gO.Frame.Parent=dz.GuiElems.Content;local gQ=Instance.new("TextButton",dz.GuiElems.Content)gQ.BackgroundTransparency=1;gQ.Size=UDim2.new(0.5,0,0,20)gQ.Text="Copy to Clipboard"gQ.TextColor3=Color3.new(1,1,1)gQ.MouseButton1Click:Connect(function()local gR=gO:GetText()env.setclipboard(gR)end)local gT=Instance.new("TextButton",dz.GuiElems.Content)gT.BackgroundTransparency=1;gT.Position=UDim2.new(0.35,0,0,0)gT.Size=UDim2.new(0.3,0,0,20)gT.Text="Save to File"gT.TextColor3=Color3.new(1,1,1)gT.MouseButton1Click:Connect(function()local gR=gO:GetText()local gU="Place_"..game.PlaceId.."_Script_"..os.time()..".txt"env.writefile(gU,gR)if env.movefileas then env.movefileas(gU,".txt")end end)local gV=Instance.new("TextButton",dz.GuiElems.Content)gV.BackgroundTransparency=1;gV.Position=UDim2.new(0.7,0,0,0)gV.Size=UDim2.new(0.3,0,0,20)gV.Text="Dump Functions"gV.TextColor3=Color3.new(1,1,1)gV.MouseButton1Click:Connect(function()if gP~=nil then pcall(function()local getgc=getgc or get_gc_objects;local getupvalues=debug and debug.getupvalues or getupvalues or getupvals;local getconstants=debug and debug.getconstants or getconstants or getconsts;local getinfo=debug and(debug.getinfo or debug.info)or getinfo;local gW="\n-- // Function Dumper made by King.Kevin\n-- // Script Path: %s\n\n--[[":format(gP:GetFullName())local gX=gW;local gY,gZ,g_={},0,{}function gY:add_to_dump(bx,h0,h1)local h1=h1 or true;gX=gX.."%s%s%s":format(string.rep("    ",h0),tostring(bx),h1 and"\n"or"")end;function gY:get_function_name(c_)local n=getinfo(c_).name;return n~=""and n or"Unknown Name"end;function gY:dump_table(aK,h2,aN)local h2=h2<0 and 0 or h2;gY:add_to_dump("%s [%s] %s":format(tostring(aN),tostring(typeof(aK)),tostring(aK)),h2-1)local ao=0;for aN,h3 in pairs(aK)do ao=ao+1;if type(h3)=="function"then gY:add_to_dump("%d [function] = %s":format(ao,gY:get_function_name(h3)),h2)elseif type(h3)=="table"then if not g_[h3]then g_[h3]=true;gY:add_to_dump("%d [table]:":format(ao),h2)gY:dump_table(h3,h2+1,aN)else gY:add_to_dump("%d [table] (Recursive table detected)":format(ao),h2)end else gY:add_to_dump("%d [%s] = %s":format(ao,tostring(typeof(h3)),tostring(h3)),h2)end end end;function gY:dump_function(aK,h2)gY:add_to_dump("\nFunction Dump: %s":format(gY:get_function_name(aK)),h2)gY:add_to_dump("\nFunction Upvalues: %s":format(gY:get_function_name(aK)),h2)for aN,h4 in pairs(getupvalues(aK))do if type(h4)=="function"then gY:add_to_dump("%d [function] = %s":format(aN,gY:get_function_name(h4)),h2+1)elseif type(h4)=="table"then if not g_[h4]then g_[h4]=true;gY:add_to_dump("%d [table]:":format(aN),h2+1)gY:dump_table(h4,h2+2,aN)else gY:add_to_dump("%d [table] (Recursive table detected)":format(aN),h2+1)end else gY:add_to_dump("%d [%s] = %s":format(aN,tostring(typeof(h4)),tostring(h4)),h2+1)end end;gY:add_to_dump("\nFunction Constants: %s":format(gY:get_function_name(aK)),h2)for aN,h5 in pairs(getconstants(aK))do if type(h5)=="function"then gY:add_to_dump("%d [function] = %s":format(aN,gY:get_function_name(h5)),h2+1)elseif type(h5)=="table"then if not g_[h5]then g_[h5]=true;gY:add_to_dump("%d [table]:":format(aN),h2+1)gY:dump_table(h5,h2+2,aN)else gY:add_to_dump("%d [table] (Recursive table detected)":format(aN),h2+1)end else gY:add_to_dump("%d [%s] = %s":format(aN,tostring(typeof(h5)),tostring(h5)),h2+1)end end end;for _,h6 in pairs(getgc())do if typeof(h6)=="function"and getfenv(h6).script and getfenv(h6).script==gP then gY:dump_function(h6,0)gY:add_to_dump("\n".."=":rep(100),0,false)end end;local gR=gO:GetText()if gX~=gW then gR=gR..gX.."]]"end;gO:SetText(gR)end)end end)end;return ScriptViewer end;return{InitDeps=c,InitAfterMain=e,Main=f}end;Lib=function()local Main,Lib,Apps,Settings;local Explorer,Properties,ScriptViewer,Notebook;local API,RMD,env,service,plr,create,createSimple;local function c(d)Main=d.Main;Lib=d.Lib;Apps=d.Apps;Settings=d.Settings;API=d.API;RMD=d.RMD;env=d.env;service=d.service;plr=d.plr;create=d.create;createSimple=d.createSimple end;local function e()Explorer=Apps.Explorer;Properties=Apps.Properties;ScriptViewer=Apps.ScriptViewer;Notebook=Apps.Notebook end;local function f()local Lib={}local h7=service.RunService.RenderStepped;local h8=h7.wait;local h9=newproxy()local ha=newproxy()local function hb(dD,hc)local type=type;local function gQ(cx)local hd={}for Z,aB in pairs(cx)do if aB==ha then hd[Z]=Lib.Signal.new()elseif type(aB)=="table"then hd[Z]=gQ(aB)else hd[Z]=aB end end;return hd end;local he=gQ(dD)return setmetatable(he,hc)end;local function hf(dD,funcs)return{__index=function(self,br)if not dD[br]then return funcs[br]or self.Gui[br]end end,__newindex=function(self,br,a7)if not dD[br]then self.Gui[br]=a7 else rawset(self,br,a7)end end}end;Lib.FormatLuaString=(function()local string=string;local bN=string.gsub;local hg=string.format;local hh=string.char;local hi={['"']='\\"',['\\']='\\\\'}for Z=0,31 do hi[hh(Z)]="\\"..hg("%03d",Z)end;for Z=127,255 do hi[hh(Z)]="\\"..hg("%03d",Z)end;return function(bx)return bN(bx,"[\"\\\0-\31\127-\255]",hi)end end)()Lib.CheckMouseInGui=function(hj)if hj==nil then return false end;local aF=Main.Mouse;local hk=hj.AbsolutePosition;local hl=hj.AbsoluteSize;return aF.X>=hk.X and aF.X<hk.X+hl.X and aF.Y>=hk.Y and aF.Y<hk.Y+hl.Y end;Lib.IsShiftDown=function()return service.UserInputService:IsKeyDown(Enum.KeyCode.LeftShift)or service.UserInputService:IsKeyDown(Enum.KeyCode.RightShift)end;Lib.IsCtrlDown=function()return service.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)or service.UserInputService:IsKeyDown(Enum.KeyCode.RightControl)end;Lib.CreateArrow=function(ar,cc,hm)local gw=cc;local hn=createSimple("Frame",{BackgroundTransparency=1,Name="Arrow",Size=UDim2.new(0,ar,0,ar)})if hm=="up"then for Z=1,cc do local ho=createSimple("Frame",{BackgroundColor3=Color3.new(220/255,220/255,220/255),BorderSizePixel=0,Position=UDim2.new(0,math.floor(ar/2)-(Z-1),0,math.floor(ar/2)+Z-math.floor(gw/2)-1),Size=UDim2.new(0,Z+Z-1,0,1),Parent=hn})end;return hn elseif hm=="down"then for Z=1,cc do local ho=createSimple("Frame",{BackgroundColor3=Color3.new(220/255,220/255,220/255),BorderSizePixel=0,Position=UDim2.new(0,math.floor(ar/2)-(Z-1),0,math.floor(ar/2)-Z+math.floor(gw/2)+1),Size=UDim2.new(0,Z+Z-1,0,1),Parent=hn})end;return hn elseif hm=="left"then for Z=1,cc do local ho=createSimple("Frame",{BackgroundColor3=Color3.new(220/255,220/255,220/255),BorderSizePixel=0,Position=UDim2.new(0,math.floor(ar/2)+Z-math.floor(gw/2)-1,0,math.floor(ar/2)-(Z-1)),Size=UDim2.new(0,1,0,Z+Z-1),Parent=hn})end;return hn elseif hm=="right"then for Z=1,cc do local ho=createSimple("Frame",{BackgroundColor3=Color3.new(220/255,220/255,220/255),BorderSizePixel=0,Position=UDim2.new(0,math.floor(ar/2)-Z+math.floor(gw/2)+1,0,math.floor(ar/2)-(Z-1)),Size=UDim2.new(0,1,0,Z+Z-1),Parent=hn})end;return hn end;error("r u ok")end;Lib.ParseXML=(function()local c_=function()local string,print,pairs=string,print,pairs;local hp=function(bh)local hq=bh:match"^%s*()"return hq>#bh and""or bh:match(".*%S",hq)end;local hr=string.byte('>',1)local hs=string.byte('/',1)local ht=string.byte('D',1)local hu=string.byte('E',1)function parse(bh,hv)bh=bh:gsub('<!%-%-(.-)%-%->','')local entities,hw={}if hv then local pos=bh:find('<[_%w]')if pos then bh:sub(1,pos):gsub('<!ENTITY%s+([_%w]+)%s+(.)(.-)%2',function(eU,hx,hy)entities[#entities+1]={name=eU,value=hy}end)hw=createEntityTable(entities)bh=replaceEntities(bh:sub(pos),hw)end end;local cx,hz={},{}local hA=function(hB)hB=hB:match'^%s*(.*%S)'or''if#hB~=0 then cx[#cx+1]={text=hB}end end;bh:gsub('<([?!/]?)([-:_%w]+)%s*(/?>?)([^<]*)',function(type,eU,hC,hB)if#type==0 then local ac={}if#hC==0 then local cG=0;for hD,hE,_,h3,hF in string.gmatch(hB,"(.-([-_%w]+)%s*=%s*(.)(.-)%3%s*(/?>?))")do cG=cG+#hD;ac[hE]=h3;if#hF~=0 then hB=hB:sub(cG+1)hC=hF;break end end end;cx[#cx+1]={tag=eU,attrs=ac,children={}}if hC:byte(1)~=hs then hz[#hz+1]=cx;cx=cx[#cx].children end;hA(hB)elseif'/'==type then cx=hz[#hz]hz[#hz]=nil;hA(hB)elseif'!'==type then if hu==eU:byte(1)then hB:gsub('([_%w]+)%s+(.)(.-)%2',function(eU,hx,hy)entities[#entities+1]={name=eU,value=hy}end,1)end end end)return{children=cx,entities=entities,tentities=hw}end;function parseText(hB)return parse(hB)end;function defaultEntityTable()return{quot='"',apos='\'',lt='<',gt='>',amp='&',tab='\t',nbsp=' '}end;function replaceEntities(bh,entities)return bh:gsub('&([^;]+);',entities)end;function createEntityTable(hG,hH)entities=hH or defaultEntityTable()for _,hI in pairs(hG)do hI.value=replaceEntities(hI.value,entities)entities[hI.name]=hI.value end;return entities end;return parseText end;local hJ=setmetatable({},{__index=getfenv()})setfenv(c_,hJ)return c_()end)()Lib.FastWait=function(bh)if not bh then return h8(h7)end;local cE=tick()while tick()-cE<bh do h8(h7)end end;Lib.ButtonAnim=function(db,d)local hK=false;local hL=false;local hM=d and d.Mode or 1;local hN={}if hM==2 then local hO=d.LerpTo or Color3.new(0,0,0)local hP=d.LerpDelta or 0.2;hN.StartColor=d.StartColor or db.BackgroundColor3;hN.PressColor=d.PressColor or hN.StartColor:lerp(hO,hP)hN.HoverColor=d.HoverColor or hN.StartColor:lerp(hN.PressColor,0.6)hN.OutlineColor=d.OutlineColor end;db.InputBegan:Connect(function(aK)if hL then return end;if aK.UserInputType==Enum.UserInputType.MouseMovement and not hK then if hM==1 then db.BackgroundTransparency=0.4 elseif hM==2 then db.BackgroundColor3=hN.HoverColor end elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then hK=true;if hM==1 then db.BackgroundTransparency=0 elseif hM==2 then db.BackgroundColor3=hN.PressColor;if hN.OutlineColor then db.BorderColor3=hN.PressColor end end end end)db.InputEnded:Connect(function(aK)if hL then return end;if aK.UserInputType==Enum.UserInputType.MouseMovement and not hK then if hM==1 then db.BackgroundTransparency=1 elseif hM==2 then db.BackgroundColor3=hN.StartColor end elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then hK=false;if hM==1 then db.BackgroundTransparency=Lib.CheckMouseInGui(db)and 0.4 or 1 elseif hM==2 then db.BackgroundColor3=Lib.CheckMouseInGui(db)and hN.HoverColor or hN.StartColor;if hN.OutlineColor then db.BorderColor3=hN.OutlineColor end end end end)hN.Disable=function()hL=true;hK=false;if hM==1 then db.BackgroundTransparency=1 elseif hM==2 then db.BackgroundColor3=hN.StartColor end end;hN.Enable=function()hL=false end;return hN end;Lib.FindAndRemove=function(cx,d9)local pos=table.find(cx,d9)if pos then table.remove(cx,pos)end end;Lib.AttachTo=function(a0,d)local hQ,hR,hS,hT,hU,hV,hW;local hL=false;local function fm()if not a0 or not hQ then return end;local hX=hQ.AbsolutePosition;local hY=hQ.AbsoluteSize;a0.Position=UDim2.new(0,hX.X+hR,0,hX.Y+hS)if hV then a0.Size=UDim2.new(0,hY.X+hT,0,hY.Y+hU)end end;local function cV(hZ,d)a0=hZ;d=d or{}hQ=d.Target;hR=d.PosOffX or 0;hS=d.PosOffY or 0;hT=d.SizeOffX or 0;hU=d.SizeOffY or 0;hV=d.Resize or false;if hW then hW:Disconnect()hW=nil end;if hQ then hW=hQ.Changed:Connect(function(b1)if not hL and b1=="AbsolutePosition"or b1=="AbsoluteSize"then fm()end end)end;fm()end;cV(a0,d)return{SetData=function(a0,d)cV(a0,d)end,Enable=function()hL=false;fm()end,Disable=function()hL=true end,Destroy=function()hW:Disconnect()hW=nil end}end;Lib.ProtectedGuis={}Lib.ShowGui=function(hj)if env.gethui then hj.Parent=env.gethui()elseif env.protectgui then env.protectgui(hj)hj.Parent=Main.GuiHolder else hj.Parent=Main.GuiHolder end end;Lib.ColorToBytes=function(fJ)local h_=math.round;return string.format("%d, %d, %d",h_(fJ.r*255),h_(fJ.g*255),h_(fJ.b*255))end;Lib.ReadFile=function(gU)if not env.readfile then return end;local bh,i0=pcall(env.readfile,gU)if bh and i0 then return i0 end end;Lib.DeferFunc=function(i1,...)h8(h7)return i1(...)end;Lib.LoadCustomAsset=function(i2)if not env.getcustomasset or not env.isfile or not env.isfile(i2)then return end;return env.getcustomasset(i2)end;Lib.FetchCustomAsset=function(i3,i2)if not env.writefile then return end;local bh,d=pcall(game.HttpGet,game,i3)if not bh then return end;env.writefile(i2,d)return Lib.LoadCustomAsset(i2)end;Lib.Signal=(function()local funcs={}local i4=function(hW)local pos=table.find(hW.Signal.Connections,hW)if pos then table.remove(hW.Signal.Connections,pos)end end;funcs.Connect=function(self,c_)if type(c_)~="function"then error("Attempt to connect a non-function")end;local hW={Signal=self,Func=c_,Disconnect=i4}self.Connections[#self.Connections+1]=hW;return hW end;funcs.Fire=function(self,...)for Z,aB in next,self.Connections do xpcall(coroutine.wrap(aB.Func),function(hI)warn(hI.."\n"..debug.traceback())end,...)end end;local hc={__index=funcs,__tostring=function(self)return"Signal: "..tostring(#self.Connections).." Connections"end}local function i5()local a0={}a0.Connections={}return setmetatable(a0,hc)end;return{new=i5}end)()Lib.Set=(function()local funcs={}funcs.Add=function(self,a0)if self.Map[a0]then return end;local i6=self.List;i6[#i6+1]=a0;self.Map[a0]=true;self.Changed:Fire()end;funcs.AddTable=function(self,cx)local i7;local i6,i8=self.List,self.Map;for Z=1,#cx do local de=cx[Z]if not i8[de]then i6[#i6+1]=de;i8[de]=true;i7=true end end;if i7 then self.Changed:Fire()end end;funcs.Remove=function(self,a0)if not self.Map[a0]then return end;local i6=self.List;local pos=table.find(i6,a0)if pos then table.remove(i6,pos)end;self.Map[a0]=nil;self.Changed:Fire()end;funcs.RemoveTable=function(self,cx)local i7;local i6,i8=self.List,self.Map;local i9={}for Z=1,#cx do local de=cx[Z]i8[de]=nil;i9[de]=true end;for Z=#i6,1,-1 do local de=i6[Z]if i9[de]then table.remove(i6,Z)i7=true end end;if i7 then self.Changed:Fire()end end;funcs.Set=function(self,a0)if#self.List==1 and self.List[1]==a0 then return end;self.List={a0}self.Map={[a0]=true}self.Changed:Fire()end;funcs.SetTable=function(self,cx)local ia,ib={},{}self.List,self.Map=ia,ib;table.move(cx,1,#cx,1,ia)for Z=1,#cx do ib[cx[Z]]=true end;self.Changed:Fire()end;funcs.Clear=function(self)if#self.List==0 then return end;self.List={}self.Map={}self.Changed:Fire()end;local hc={__index=funcs}local function i5()local a0=setmetatable({List={},Map={},Changed=Lib.Signal.new()},hc)return a0 end;return{new=i5}end)()Lib.IconMap=(function()local funcs={}funcs.GetLabel=function(self)local gM=Instance.new("ImageLabel")self:SetupLabel(gM)return gM end;funcs.SetupLabel=function(self,a0)a0.BackgroundTransparency=1;a0.ImageRectOffset=Vector2.new(0,0)a0.ImageRectSize=Vector2.new(self.IconSizeX,self.IconSizeY)a0.ScaleType=Enum.ScaleType.Crop;a0.Size=UDim2.new(0,self.IconSizeX,0,self.IconSizeY)end;funcs.Display=function(self,a0,aN)a0.Image=self.MapId;if not self.NumX then a0.ImageRectOffset=Vector2.new(self.IconSizeX*aN,0)else a0.ImageRectOffset=Vector2.new(self.IconSizeX*(aN%self.NumX),self.IconSizeY*math.floor(aN/self.NumX))end end;funcs.DisplayByKey=function(self,a0,ic)if self.IndexDict[ic]then self:Display(a0,self.IndexDict[ic])end end;funcs.SetDict=function(self,id)self.IndexDict=id end;local hc={}hc.__index=funcs;local function i5(ie,ig,ih,ii,ij)local a0=setmetatable({MapId=ie,MapSizeX=ig,MapSizeY=ih,IconSizeX=ii,IconSizeY=ij,NumX=ig/ii,IndexDict={}},hc)return a0 end;local function ik(ie,ii,ij)local a0=setmetatable({MapId=ie,IconSizeX=ii,IconSizeY=ij,IndexDict={}},hc)return a0 end;return{new=i5,newLinear=ik}end)()Lib.ScrollBar=(function()local funcs={}local il=service.UserInputService;local aF=plr:GetMouse()local im=Lib.CheckMouseInGui;local io=Lib.CreateArrow;local function ip(self)local iq=self.TotalSpace;local f7=self.VisibleSpace;local aN=self.Index;local ir=self.GuiElems.ScrollThumb;local is=self.GuiElems.ScrollThumbFrame;if not(self:CanScrollUp()or self:CanScrollDown())then ir.Visible=false else ir.Visible=true end;if self.Horizontal then ir.Size=UDim2.new(f7/iq,0,1,0)if ir.AbsoluteSize.X<16 then ir.Size=UDim2.new(0,16,1,0)end;local it=is.AbsoluteSize.X;local iu=ir.AbsoluteSize.X;ir.Position=UDim2.new(self:GetScrollPercent()*(it-iu)/it,0,0,0)else ir.Size=UDim2.new(1,0,f7/iq,0)if ir.AbsoluteSize.Y<16 then ir.Size=UDim2.new(1,0,0,16)end;local it=is.AbsoluteSize.Y;local iu=ir.AbsoluteSize.Y;ir.Position=UDim2.new(0,0,self:GetScrollPercent()*(it-iu)/it,0)end end;local function iv(self)local iw=createSimple("Frame",{Style=0,Active=true,AnchorPoint=Vector2.new(0,0),BackgroundColor3=Color3.new(0.35294118523598,0.35294118523598,0.35294118523598),BackgroundTransparency=0,BorderColor3=Color3.new(0.10588236153126,0.16470588743687,0.20784315466881),BorderSizePixel=0,ClipsDescendants=false,Draggable=false,Position=UDim2.new(1,-16,0,0),Rotation=0,Selectable=false,Size=UDim2.new(0,16,1,0),SizeConstraint=0,Visible=true,ZIndex=1,Name="ScrollBar"})local ix=nil;local iy=nil;if self.Horizontal then iw.Size=UDim2.new(1,0,0,16)ix=createSimple("ImageButton",{Parent=iw,Name="Left",Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})io(16,4,"left").Parent=ix;iy=createSimple("ImageButton",{Parent=iw,Name="Right",Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})io(16,4,"right").Parent=iy else iw.Size=UDim2.new(0,16,1,0)ix=createSimple("ImageButton",{Parent=iw,Name="Up",Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})io(16,4,"up").Parent=ix;iy=createSimple("ImageButton",{Parent=iw,Name="Down",Position=UDim2.new(0,0,1,-16),Size=UDim2.new(0,16,0,16),BackgroundTransparency=1,BorderSizePixel=0,AutoButtonColor=false})io(16,4,"down").Parent=iy end;local is=createSimple("Frame",{BackgroundTransparency=1,Parent=iw})if self.Horizontal then is.Position=UDim2.new(0,16,0,0)is.Size=UDim2.new(1,-32,1,0)else is.Position=UDim2.new(0,0,0,16)is.Size=UDim2.new(1,0,1,-32)end;local ir=createSimple("Frame",{BackgroundColor3=Color3.new(120/255,120/255,120/255),BorderSizePixel=0,Parent=is})local iz=createSimple("Frame",{BackgroundTransparency=1,Name="Markers",Size=UDim2.new(1,0,1,0),Parent=is})local iA=false;local iB=false;local iC=false;ix.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iA and self:CanScrollUp()then ix.BackgroundTransparency=0.8 end;if aK.UserInputType~=Enum.UserInputType.MouseButton1 or not self:CanScrollUp()then return end;iA=true;ix.BackgroundTransparency=0.5;if self:CanScrollUp()then self:ScrollUp()self.Scrolled:Fire()end;local iD=tick()local aM;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()if im(ix)and self:CanScrollUp()then ix.BackgroundTransparency=0.8 else ix.BackgroundTransparency=1 end;iA=false end)while iA do if tick()-iD>=0.3 and self:CanScrollUp()then self:ScrollUp()self.Scrolled:Fire()end;wait()end end)ix.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iA then ix.BackgroundTransparency=1 end end)iy.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iA and self:CanScrollDown()then iy.BackgroundTransparency=0.8 end;if aK.UserInputType~=Enum.UserInputType.MouseButton1 or not self:CanScrollDown()then return end;iA=true;iy.BackgroundTransparency=0.5;if self:CanScrollDown()then self:ScrollDown()self.Scrolled:Fire()end;local iD=tick()local aM;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()if im(iy)and self:CanScrollDown()then iy.BackgroundTransparency=0.8 else iy.BackgroundTransparency=1 end;iA=false end)while iA do if tick()-iD>=0.3 and self:CanScrollDown()then self:ScrollDown()self.Scrolled:Fire()end;wait()end end)iy.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iA then iy.BackgroundTransparency=1 end end)ir.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iB then ir.BackgroundTransparency=0.2;ir.BackgroundColor3=self.ThumbSelectColor end;if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;local hm=self.Horizontal and"X"or"Y"local iE=nil;iA=false;iC=false;iB=true;ir.BackgroundTransparency=0;local iF=aF[hm]-ir.AbsolutePosition[hm]local iG=aF[hm]local aM;local aL;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()if aL then aL:Disconnect()end;if im(ir)then ir.BackgroundTransparency=0.2 else ir.BackgroundTransparency=0;ir.BackgroundColor3=self.ThumbColor end;iB=false end)self:Update()aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and iB and aM.Connected then local iH=is.AbsoluteSize[hm]-ir.AbsoluteSize[hm]local pos=aF[hm]-is.AbsolutePosition[hm]-iF;if pos>iH then pos=iH elseif pos<0 then pos=0 end;if iE~=pos then iE=pos;self:ScrollTo(math.floor(0.5+pos/iH*(self.TotalSpace-self.VisibleSpace)))end;wait()end end)end)ir.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and not iB then ir.BackgroundTransparency=0;ir.BackgroundColor3=self.ThumbColor end end)is.InputBegan:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 or im(ir)then return end;local hm=self.Horizontal and"X"or"Y"local iI=0;if aF[hm]>=ir.AbsolutePosition[hm]+ir.AbsoluteSize[hm]then iI=1 end;local function iJ()local iK=self.VisibleSpace-1;if iI==0 and aF[hm]<ir.AbsolutePosition[hm]then self:ScrollTo(self.Index-iK)elseif iI==1 and aF[hm]>=ir.AbsolutePosition[hm]+ir.AbsoluteSize[hm]then self:ScrollTo(self.Index+iK)end end;iB=false;iC=true;iJ()local iL=tick()local aM;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()iC=false end)while iC do if tick()-iL>=0.3 and im(is)then iJ()end;wait()end end)iw.MouseWheelForward:Connect(function()self:ScrollTo(self.Index-self.WheelIncrement)end)iw.MouseWheelBackward:Connect(function()self:ScrollTo(self.Index+self.WheelIncrement)end)self.GuiElems.ScrollThumb=ir;self.GuiElems.ScrollThumbFrame=is;self.GuiElems.Button1=ix;self.GuiElems.Button2=iy;self.GuiElems.MarkerFrame=iz;return iw end;funcs.Update=function(self,iM)local iq=self.TotalSpace;local f7=self.VisibleSpace;local aN=self.Index;local ix=self.GuiElems.Button1;local iy=self.GuiElems.Button2;self.Index=math.clamp(self.Index,0,math.max(0,iq-f7))if self.LastTotalSpace~=self.TotalSpace then self.LastTotalSpace=self.TotalSpace;self:UpdateMarkers()end;if self:CanScrollUp()then for Z,aB in pairs(ix.Arrow:GetChildren())do aB.BackgroundTransparency=0 end else ix.BackgroundTransparency=1;for Z,aB in pairs(ix.Arrow:GetChildren())do aB.BackgroundTransparency=0.5 end end;if self:CanScrollDown()then for Z,aB in pairs(iy.Arrow:GetChildren())do aB.BackgroundTransparency=0 end else iy.BackgroundTransparency=1;for Z,aB in pairs(iy.Arrow:GetChildren())do aB.BackgroundTransparency=0.5 end end;ip(self)end;funcs.UpdateMarkers=function(self)local iz=self.GuiElems.MarkerFrame;iz:ClearAllChildren()for Z,aB in pairs(self.Markers)do if Z<self.TotalSpace then createSimple("Frame",{BackgroundTransparency=0,BackgroundColor3=aB,BorderSizePixel=0,Position=self.Horizontal and UDim2.new(Z/self.TotalSpace,0,1,-6)or UDim2.new(1,-6,Z/self.TotalSpace,0),Size=self.Horizontal and UDim2.new(0,1,0,6)or UDim2.new(0,6,0,1),Name="Marker"..tostring(Z),Parent=iz})end end end;funcs.AddMarker=function(self,br,iN)self.Markers[br]=iN or Color3.new(0,0,0)end;funcs.ScrollTo=function(self,br,iM)self.Index=br;self:Update()if not iM then self.Scrolled:Fire()end end;funcs.ScrollUp=function(self)self.Index=self.Index-self.Increment;self:Update()end;funcs.ScrollDown=function(self)self.Index=self.Index+self.Increment;self:Update()end;funcs.CanScrollUp=function(self)return self.Index>0 end;funcs.CanScrollDown=function(self)return self.Index+self.VisibleSpace<self.TotalSpace end;funcs.GetScrollPercent=function(self)return self.Index/(self.TotalSpace-self.VisibleSpace)end;funcs.SetScrollPercent=function(self,fr)self.Index=math.floor(fr*(self.TotalSpace-self.VisibleSpace))self:Update()end;funcs.Texture=function(self,d)self.ThumbColor=d.ThumbColor or Color3.new(0,0,0)self.ThumbSelectColor=d.ThumbSelectColor or Color3.new(0,0,0)self.GuiElems.ScrollThumb.BackgroundColor3=d.ThumbColor or Color3.new(0,0,0)self.Gui.BackgroundColor3=d.FrameColor or Color3.new(0,0,0)self.GuiElems.Button1.BackgroundColor3=d.ButtonColor or Color3.new(0,0,0)self.GuiElems.Button2.BackgroundColor3=d.ButtonColor or Color3.new(0,0,0)for Z,aB in pairs(self.GuiElems.Button1.Arrow:GetChildren())do aB.BackgroundColor3=d.ArrowColor or Color3.new(0,0,0)end;for Z,aB in pairs(self.GuiElems.Button2.Arrow:GetChildren())do aB.BackgroundColor3=d.ArrowColor or Color3.new(0,0,0)end end;funcs.SetScrollFrame=function(self,iO)if self.ScrollUpEvent then self.ScrollUpEvent:Disconnect()self.ScrollUpEvent=nil end;if self.ScrollDownEvent then self.ScrollDownEvent:Disconnect()self.ScrollDownEvent=nil end;self.ScrollUpEvent=iO.MouseWheelForward:Connect(function()self:ScrollTo(self.Index-self.WheelIncrement)end)self.ScrollDownEvent=iO.MouseWheelBackward:Connect(function()self:ScrollTo(self.Index+self.WheelIncrement)end)end;local hc={}hc.__index=funcs;local function i5(iP)local a0=setmetatable({Index=0,VisibleSpace=0,TotalSpace=0,Increment=1,WheelIncrement=1,Markers={},GuiElems={},Horizontal=iP,LastTotalSpace=0,Scrolled=Lib.Signal.new()},hc)a0.Gui=iv(a0)a0:Texture({ThumbColor=Color3.fromRGB(60,60,60),ThumbSelectColor=Color3.fromRGB(75,75,75),ArrowColor=Color3.new(1,1,1),FrameColor=Color3.fromRGB(40,40,40),ButtonColor=Color3.fromRGB(75,75,75)})return a0 end;return{new=i5}end)()Lib.Window=(function()local funcs={}local iQ={MinWidth=200,FreeWidth=200}local aF=plr:GetMouse()local iR,iS;local iT={}local iU={Width=300,Windows={},ResizeCons={},Hidden=true}local iV={Width=300,Windows={},ResizeCons={},Hidden=true}local iW;local iX;local iY=TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local iZ={}local i_=game.IsA;local j0={MainColor1=Color3.fromRGB(52,52,52),MainColor2=Color3.fromRGB(45,45,45),Button=Color3.fromRGB(60,60,60)}local function j1()for Z=1,#iZ do iZ[Z]:Cancel()end;iZ={}end;local function j2(self,j3,hm)local j4=self.GuiElems.Main;j3.InputBegan:Connect(function(aK)if not self.Dragging and not self.Resizing and self.Resizable and self.ResizableInternal then local j5=hm:find("[WE]")and true;local j6=hm:find("[NS]")and true;local j7=hm:find("W",1,true)and-1 or 1;local j8=hm:find("N",1,true)and-1 or 1;if self.Minimized and j6 then return end;if aK.UserInputType==Enum.UserInputType.MouseMovement then j3.BackgroundTransparency=0.5 elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,aL;local ay=aF.X-j3.AbsolutePosition.X;local az=aF.Y-j3.AbsolutePosition.Y;self.Resizing=j3;j3.BackgroundTransparency=1;aM=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()self.Resizing=false;j3.BackgroundTransparency=1 end end)aL=service.UserInputService.InputChanged:Connect(function(aK)if self.Resizable and self.ResizableInternal and aK.UserInputType==Enum.UserInputType.MouseMovement then self:StopTweens()local aU=aK.Position.X-j3.AbsolutePosition.X-ay;local aV=aK.Position.Y-j3.AbsolutePosition.Y-az;if j4.AbsoluteSize.X+aU*j7<self.MinX then aU=j7*(self.MinX-j4.AbsoluteSize.X)end;if j4.AbsoluteSize.Y+aV*j8<self.MinY then aV=j8*(self.MinY-j4.AbsoluteSize.Y)end;if j8<0 and j4.AbsolutePosition.Y+aV<0 then aV=-j4.AbsolutePosition.Y end;j4.Position=j4.Position+UDim2.new(0,j7<0 and aU or 0,0,j8<0 and aV or 0)self.SizeX=self.SizeX+(j5 and aU*j7 or 0)self.SizeY=self.SizeY+(j6 and aV*j8 or 0)j4.Size=UDim2.new(0,self.SizeX,0,self.Minimized and 20 or self.SizeY)end end)end end end)j3.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and self.Resizing~=j3 then j3.BackgroundTransparency=1 end end)end;local j9;local function ja(dz)local cy=table.find(iT,dz)if cy then table.remove(iT,cy)table.insert(iT,1,dz)j9()end end;local function jb(jc,jd)local je=iR.AbsoluteSize.Y-math.max(0,#jc.Windows-1)*4;local jf=0;for Z,aB in pairs(jc.Windows)do jf=jf+(aB.MinY or 100)if jf>je-jd then return false end end;return true end;local function jg(jc,jh)local pos=#jc.Windows+1;local ji={0,iR.AbsoluteSize.Y}for Z,aB in pairs(jc.Windows)do local jj=aB.PosY+aB.SizeY/2;if jh<=jj then pos=Z;ji[2]=jj;break else ji[1]=jj end end;return pos,ji end;local function jk(self,a0)if i_(a0,"GuiButton")then a0.MouseButton1Down:Connect(function()ja(self)end)elseif i_(a0,"TextBox")then a0.Focused:Connect(function()ja(self)end)end end;local jl=function(self)local hj=create({{1,"ScreenGui",{Name="Window"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,300,0,300)}},{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Name="Content",Parent={2},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20),ClipsDescendants=true}},{4,"Frame",{BackgroundColor3=Color3.fromRGB(33,33,33),BorderSizePixel=0,Name="Line",Parent={3},Size=UDim2.new(1,0,0,1)}},{5,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="TopBar",Parent={2},Size=UDim2.new(1,0,0,20)}},{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={5},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,20),Text="Window",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Close",Parent={5},Position=UDim2.new(1,-18,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{8,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5054663650",Parent={7},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10)}},{9,"UICorner",{CornerRadius=UDim.new(0,4),Parent={7}}},{10,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Minimize",Parent={5},Position=UDim2.new(1,-36,0,2),Size=UDim2.new(0,16,0,16),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://5034768003",Parent={10},Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,10,0,10)}},{12,"UICorner",{CornerRadius=UDim.new(0,4),Parent={10}}},{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20)}},{14,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="ResizeControls",Parent={2},Position=UDim2.new(0,-5,0,-5),Size=UDim2.new(1,10,1,10)}},{15,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="North",Parent={14},Position=UDim2.new(0,5,0,0),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{16,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="South",Parent={14},Position=UDim2.new(0,5,1,-5),Size=UDim2.new(1,-10,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{17,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthEast",Parent={14},Position=UDim2.new(1,-5,0,0),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="East",Parent={14},Position=UDim2.new(1,-5,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{19,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="West",Parent={14},Position=UDim2.new(0,0,0,5),Size=UDim2.new(0,5,1,-10),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{20,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthEast",Parent={14},Position=UDim2.new(1,-5,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{21,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="NorthWest",Parent={14},Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{22,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.27450981736183,0.27450981736183,0.27450981736183),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="SouthWest",Parent={14},Position=UDim2.new(0,0,1,-5),Size=UDim2.new(0,5,0,5),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}}})local j4=hj.Main;local jm=j4.TopBar;local jn=j4.ResizeControls;self.GuiElems.Main=j4;self.GuiElems.TopBar=j4.TopBar;self.GuiElems.Content=j4.Content;self.GuiElems.Line=j4.Content.Line;self.GuiElems.Outlines=j4.Outlines;self.GuiElems.Title=jm.Title;self.GuiElems.Close=jm.Close;self.GuiElems.Minimize=jm.Minimize;self.GuiElems.ResizeControls=jn;self.ContentPane=j4.Content;jm.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and self.Draggable then local aM,aL;local a9=iR.AbsoluteSize.X;local jo=j4.AbsolutePosition.X;local jp=j4.AbsolutePosition.Y;local ay=aF.X-jo;local az=aF.Y-jp;local jq,jr;guiDragging=true;aM=cloneref(game:GetService("UserInputService")).InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()guiDragging=false;iS.Parent=nil;if jr then local js=jr=="left"and iU or jr=="right"and iV;self:AlignTo(js,jq)end end end)aL=cloneref(game:GetService("UserInputService")).InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and self.Draggable and not self.Closed then if self.Aligned then if iU.Resizing or iV.Resizing then return end;local aH,aI=aK.Position.X-ay,aK.Position.Y-az;local hP=math.sqrt((aH-jo)^2+(aI-jp)^2)if hP>=5 then self:SetAligned(false)end else local jt,ju=aK.Position.X,aK.Position.Y;local aH,aI=jt-ay,ju-az;if aI<0 then aI=0 end;j4.Position=UDim2.new(0,aH,0,aI)if self.Resizable and self.Alignable then if jt<25 then if jb(iU,self.MinY or 100)then local jv,ji=jg(iU,ju)iS.Indicator.Position=UDim2.new(0,-15,0,ji[1])iS.Indicator.Size=UDim2.new(0,40,0,ji[2]-ji[1])Lib.ShowGui(iS)jq=jv;jr="left"return end elseif jt>=a9-25 then if jb(iV,self.MinY or 100)then local jv,ji=jg(iV,ju)iS.Indicator.Position=UDim2.new(0,a9-25,0,ji[1])iS.Indicator.Size=UDim2.new(0,40,0,ji[2]-ji[1])Lib.ShowGui(iS)jq=jv;jr="right"return end end end;iS.Parent=nil;jq=nil;jr=nil end end end)end end)jm.Close.MouseButton1Click:Connect(function()if self.Closed then return end;self:Close()end)jm.Minimize.MouseButton1Click:Connect(function()if self.Closed then return end;if self.Aligned then self:SetAligned(false)else self:SetMinimized()end end)jm.Minimize.MouseButton2Click:Connect(function()if self.Closed then return end;if not self.Aligned then self:SetMinimized(nil,2)jm.Minimize.BackgroundTransparency=1 end end)j4.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and not self.Aligned and not self.Closed then ja(self)end end)j4:GetPropertyChangedSignal("AbsolutePosition"):Connect(function()local jw=j4.AbsolutePosition;self.PosX=jw.X;self.PosY=jw.Y end)j2(self,jn.North,"N")j2(self,jn.NorthEast,"NE")j2(self,jn.East,"E")j2(self,jn.SouthEast,"SE")j2(self,jn.South,"S")j2(self,jn.SouthWest,"SW")j2(self,jn.West,"W")j2(self,jn.NorthWest,"NW")j4.Size=UDim2.new(0,self.SizeX,0,self.SizeY)hj.DescendantAdded:Connect(function(a0)jk(self,a0)end)local bG=hj:GetDescendants()for Z=1,#bG do jk(self,bG[Z])end;self.MinimizeAnim=Lib.ButtonAnim(jm.Minimize)self.CloseAnim=Lib.ButtonAnim(jm.Close)return hj end;local function jx(jy)j1()iU.Frame.Size=UDim2.new(0,iU.Width,1,0)iV.Frame.Size=UDim2.new(0,iV.Width,1,0)iU.Frame.Resizer.Position=UDim2.new(0,iU.Width,0,0)iV.Frame.Resizer.Position=UDim2.new(0,-5,0,0)local jz=#iU.Windows==0 or iU.Hidden;local jA=#iV.Windows==0 or iV.Hidden;local jB=jz and UDim2.new(0,-iU.Width-10,0,0)or UDim2.new(0,0,0,0)local jC=jA and UDim2.new(1,10,0,0)or UDim2.new(1,-iV.Width,0,0)iR.LeftToggle.Text=jz and">"or"<"iR.RightToggle.Text=jA and"<"or">"if not jy then local function jD(...)local jE=service.TweenService:Create(...)iZ[#iZ+1]=jE;jE:Play()end;jD(iU.Frame,iY,{Position=jB})jD(iV.Frame,iY,{Position=jC})jD(iR.LeftToggle,iY,{Position=UDim2.new(0,#iU.Windows==0 and-16 or 0,0,-36)})jD(iR.RightToggle,iY,{Position=UDim2.new(1,#iV.Windows==0 and 0 or-16,0,-36)})else iU.Frame.Position=jB;iV.Frame.Position=jC;iR.LeftToggle.Position=UDim2.new(0,#iU.Windows==0 and-16 or 0,0,-36)iR.RightToggle.Position=UDim2.new(1,#iV.Windows==0 and 0 or-16,0,-36)end end;local function jF(jc)local jz=#iU.Windows==0 or iU.Hidden;local jA=#iV.Windows==0 or iV.Hidden;if jc==iU then return jz and UDim2.new(0,-iU.Width-10,0,0)or UDim2.new(0,0,0,0)else return jA and UDim2.new(1,10,0,0)or UDim2.new(1,-iV.Width,0,0)end end;local function jG(jc)local jH=0;local jI=jF(jc)for Z,aB in pairs(jc.Windows)do aB.SizeX=jc.Width;aB.GuiElems.Main.Size=UDim2.new(0,jc.Width,0,aB.SizeY)aB.GuiElems.Main.Position=UDim2.new(jI.X.Scale,jI.X.Offset,0,jH)jH=jH+aB.SizeY+4 end end;local function jJ(j3,hm,jc,pos)local aF=Main.Mouse;local jK=jc.Windows;j3.InputBegan:Connect(function(aK)if not jc.Resizing then if aK.UserInputType==Enum.UserInputType.MouseMovement then j3.BackgroundColor3=j0.MainColor2 elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,aL;local ay=aF.X-j3.AbsolutePosition.X;local az=aF.Y-j3.AbsolutePosition.Y;jc.Resizing=j3;j3.BackgroundColor3=j0.MainColor2;aM=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()jc.Resizing=false;j3.BackgroundColor3=j0.Button end end)aL=service.UserInputService.InputChanged:Connect(function(aK)if not j3.Parent then aM:Disconnect()aL:Disconnect()jc.Resizing=false;return end;if aK.UserInputType==Enum.UserInputType.MouseMovement then if hm=="V"then local hP=aK.Position.Y-j3.AbsolutePosition.Y-az;if hP>0 then local jd=hP;for Z=pos+1,#jK do local dz=jK[Z]local jL=math.max(dz.SizeY-jd,dz.MinY or 100)jd=jd-(dz.SizeY-jL)dz.SizeY=jL end;jK[pos].SizeY=jK[pos].SizeY+math.max(0,hP-jd)else local jd=-hP;for Z=pos,1,-1 do local dz=jK[Z]local jL=math.max(dz.SizeY-jd,dz.MinY or 100)jd=jd-(dz.SizeY-jL)dz.SizeY=jL end;jK[pos+1].SizeY=jK[pos+1].SizeY+math.max(0,-hP-jd)end;jx()jG(jc)elseif hm=="H"then local f3=math.max(300,iR.AbsoluteSize.X-iQ.FreeWidth)local jM=jc==iU and iV or iU;local hP=aK.Position.X-j3.AbsolutePosition.X-ay;hP=jc==iU and hP or-hP;local jN=math.max(iQ.MinWidth,jc.Width+hP)if jN+jM.Width<=f3 then jc.Width=jN else local jO=f3-jN;if jO>=iQ.MinWidth then jc.Width=jN;jM.Width=jO else jc.Width=f3-iQ.MinWidth;jM.Width=iQ.MinWidth end end;jx(true)jG(jc)jG(jM)end end end)end end end)j3.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and jc.Resizing~=j3 then j3.BackgroundColor3=j0.Button end end)end;local function jP(jc,jy)local jH=0;local jI=jF(jc)local cY=jc.WindowResizer:Clone()for Z,aB in pairs(jc.ResizeCons)do aB:Disconnect()end;for Z,aB in pairs(jc.Frame:GetChildren())do if aB.Name=="WindowResizer"then aB:Destroy()end end;jc.ResizeCons={}jc.Resizing=nil;for Z,aB in pairs(jc.Windows)do aB.SidePos=Z;local jQ=Z==#jc.Windows;local ar=UDim2.new(0,jc.Width,0,aB.SizeY)local pos=UDim2.new(jI.X.Scale,jI.X.Offset,0,jH)Lib.ShowGui(aB.Gui)if jy then aB.GuiElems.Main.Size=ar;aB.GuiElems.Main.Position=pos else local jE=service.TweenService:Create(aB.GuiElems.Main,iY,{Size=ar,Position=pos})iZ[#iZ+1]=jE;jE:Play()end;jH=jH+aB.SizeY+4;if not jQ then local jR=cY:Clone()jR.Position=UDim2.new(1,-jc.Width,0,jH-4)jc.ResizeCons[#jc.ResizeCons+1]=aB.Gui.Main:GetPropertyChangedSignal("Size"):Connect(function()jR.Position=UDim2.new(1,-jc.Width,0,aB.GuiElems.Main.Position.Y.Offset+aB.GuiElems.Main.Size.Y.Offset)end)jc.ResizeCons[#jc.ResizeCons+1]=aB.Gui.Main:GetPropertyChangedSignal("Position"):Connect(function()jR.Position=UDim2.new(1,-jc.Width,0,aB.GuiElems.Main.Position.Y.Offset+aB.GuiElems.Main.Size.Y.Offset)end)jJ(jR,"V",jc,Z)jR.Parent=jc.Frame end end end;local function jS(jc,jy)local jT=0;local jH=0;local jd=0;local jK=jc.Windows;local jU=iR.AbsoluteSize.Y-math.max(0,#jK-1)*4;for Z,aB in pairs(jK)do jT=jT+aB.SizeY end;for Z,aB in pairs(jK)do if Z==#jK then aB.SizeY=jU-jH;jd=math.max(0,(aB.MinY or 100)-aB.SizeY)else aB.SizeY=math.max(math.floor(aB.SizeY/jT*jU),aB.MinY or 100)end;jH=jH+aB.SizeY end;if jd>0 then for Z=#jK-1,1,-1 do local dz=jK[Z]local jL=math.max(dz.SizeY-jd,dz.MinY or 100)jd=jd-(dz.SizeY-jL)dz.SizeY=jL end;local jV=jK[#jK]jV.SizeY=(jV.MinY or 100)-jd end;jP(jc,jy)end;j9=function(jy)jx(jy)jS(iU,jy)jS(iV,jy)local ao=0;for Z=#iT,1,-1 do iT[Z].Gui.DisplayOrder=iW+ao;Lib.ShowGui(iT[Z].Gui)ao=ao+1 end end;funcs.SetMinimized=function(self,jW,hM)local jX=self.Minimized;local jY;if jW==nil then jY=not self.Minimized else jY=jW end;self.Minimized=jY;if not hM then hM=1 end;local jZ=self.GuiElems.ResizeControls;local j_={"North","NorthEast","NorthWest","South","SouthEast","SouthWest"}for Z=1,#j_ do local hN=jZ:FindFirstChild(j_[Z])if hN then hN.Visible=not jY end end;if hM==1 or hM==2 then self:StopTweens()if hM==1 then self.GuiElems.Main:TweenSize(UDim2.new(0,self.SizeX,0,jY and 20 or self.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)else local je=iR.AbsoluteSize.Y;local k0=UDim2.new(0,self.PosX,0,jY and math.min(je-20,self.PosY+self.SizeY-20)or math.max(0,self.PosY-self.SizeY+20))self.GuiElems.Main:TweenPosition(k0,Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)self.GuiElems.Main:TweenSize(UDim2.new(0,self.SizeX,0,jY and 20 or self.SizeY),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.25,true)end;self.GuiElems.Minimize.ImageLabel.Image=jY and"rbxassetid://5060023708"or"rbxassetid://5034768003"end;if jX~=jY then if jY then self.OnMinimize:Fire()else self.OnRestore:Fire()end end end;funcs.Resize=function(self,fi,k1)self.SizeX=fi or self.SizeX;self.SizeY=k1 or self.SizeY;self.GuiElems.Main.Size=UDim2.new(0,self.SizeX,0,self.SizeY)end;funcs.SetSize=funcs.Resize;funcs.SetTitle=function(self,k2)self.GuiElems.Title.Text=k2 end;funcs.SetResizable=function(self,a7)self.Resizable=a7;self.GuiElems.ResizeControls.Visible=self.Resizable and self.ResizableInternal end;funcs.SetResizableInternal=function(self,a7)self.ResizableInternal=a7;self.GuiElems.ResizeControls.Visible=self.Resizable and self.ResizableInternal end;funcs.SetAligned=function(self,a7)self.Aligned=a7;self:SetResizableInternal(not a7)self.GuiElems.Main.Active=not a7;self.GuiElems.Main.Outlines.Visible=not a7;if not a7 then for Z,aB in pairs(iU.Windows)do if aB==self then table.remove(iU.Windows,Z)break end end;for Z,aB in pairs(iV.Windows)do if aB==self then table.remove(iV.Windows,Z)break end end;if not table.find(iT,self)then table.insert(iT,1,self)end;self.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"self.Side=nil;j9()else self:SetMinimized(false,3)for Z,aB in pairs(iT)do if aB==self then table.remove(iT,Z)break end end;self.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5448127505"end end;funcs.Add=function(self,a0,eU)if type(a0)=="table"and a0.Gui and a0.Gui:IsA("GuiObject")then a0.Gui.Parent=self.ContentPane else a0.Parent=self.ContentPane end;if eU then self.Elements[eU]=a0 end end;funcs.GetElement=function(self,a0,eU)return self.Elements[eU]end;funcs.AlignTo=function(self,jc,pos,ar,k3)if table.find(jc.Windows,self)or self.Closed then return end;ar=ar or self.SizeY;if ar>0 and ar<=1 then local k4=0;for Z,aB in pairs(jc.Windows)do k4=k4+aB.SizeY end;self.SizeY=k4>0 and k4*ar*2 or ar else self.SizeY=ar>0 and ar or 100 end;self:SetAligned(true)self.Side=jc;self.SizeX=jc.Width;self.Gui.DisplayOrder=iX+1;for Z,aB in pairs(jc.Windows)do aB.Gui.DisplayOrder=iX end;pos=math.min(#jc.Windows+1,pos or 1)self.SidePos=pos;table.insert(jc.Windows,pos,self)if not k3 then jc.Hidden=false end end;funcs.Close=function(self)self.Closed=true;self:SetResizableInternal(false)Lib.FindAndRemove(iU.Windows,self)Lib.FindAndRemove(iV.Windows,self)Lib.FindAndRemove(iT,self)self.MinimizeAnim.Disable()self.CloseAnim.Disable()self.ClosedSide=self.Side;self.Side=nil;self.OnDeactivate:Fire()if not self.Aligned then self:StopTweens()local k5=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)local k6=tick()self.LastClose=k6;self:DoTween(self.GuiElems.Main,k5,{Size=UDim2.new(0,self.SizeX,0,20)})self:DoTween(self.GuiElems.Title,k5,{TextTransparency=1})self:DoTween(self.GuiElems.Minimize.ImageLabel,k5,{ImageTransparency=1})self:DoTween(self.GuiElems.Close.ImageLabel,k5,{ImageTransparency=1})Lib.FastWait(0.2)if k6~=self.LastClose then return end;self:DoTween(self.GuiElems.TopBar,k5,{BackgroundTransparency=1})self:DoTween(self.GuiElems.Outlines,k5,{ImageTransparency=1})Lib.FastWait(0.2)if k6~=self.LastClose then return end end;self.Aligned=false;self.Gui.Parent=nil;j9(true)end;funcs.Hide=funcs.Close;funcs.IsVisible=function(self)return not self.Closed and(self.Side and not self.Side.Hidden or not self.Side)end;funcs.IsContentVisible=function(self)return self:IsVisible()and not self.Minimized end;funcs.Focus=function(self)ja(self)end;funcs.MoveInBoundary=function(self)local aH,aI=self.PosX,self.PosY;local a9,je=iR.AbsoluteSize.X,iR.AbsoluteSize.Y;aH=math.min(aH,a9-self.SizeX)aI=math.min(aI,je-20)self.GuiElems.Main.Position=UDim2.new(0,aH,0,aI)end;funcs.DoTween=function(self,...)local jE=service.TweenService:Create(...)self.Tweens[#self.Tweens+1]=jE;jE:Play()end;funcs.StopTweens=function(self)for Z,aB in pairs(self.Tweens)do aB:Cancel()end;self.Tweens={}end;funcs.Show=function(self,d)return iQ.ShowWindow(self,d)end;funcs.ShowAndFocus=function(self,d)iQ.ShowWindow(self,d)service.RunService.RenderStepped:wait()self:Focus()end;iQ.ShowWindow=function(dz,d)d=d or{}local k7=d.Align;local pos=d.Pos;local ar=d.Size;local js=k7=="left"and iU or k7=="right"and iV;if not dz.Closed then if not dz.Aligned then dz:SetMinimized(false)elseif dz.Side and not d.Silent then iQ.SetSideVisible(dz.Side,true)end;return end;dz.Closed=false;dz.LastClose=tick()dz.GuiElems.Title.TextTransparency=0;dz.GuiElems.Minimize.ImageLabel.ImageTransparency=0;dz.GuiElems.Close.ImageLabel.ImageTransparency=0;dz.GuiElems.TopBar.BackgroundTransparency=0;dz.GuiElems.Outlines.ImageTransparency=0;dz.GuiElems.Minimize.ImageLabel.Image="rbxassetid://5034768003"dz.GuiElems.Main.Active=true;dz.GuiElems.Main.Outlines.Visible=true;dz:SetMinimized(false,3)dz:SetResizableInternal(true)dz.MinimizeAnim.Enable()dz.CloseAnim.Enable()if k7 then dz:AlignTo(js,pos,ar,d.Silent)else if k7==nil and dz.ClosedSide then dz:AlignTo(dz.ClosedSide,dz.SidePos,ar,true)iQ.SetSideVisible(dz.ClosedSide,true)else if table.find(iT,dz)then return end;dz.GuiElems.Main.Size=UDim2.new(0,dz.SizeX,0,20)local k5=TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)dz:StopTweens()dz:DoTween(dz.GuiElems.Main,k5,{Size=UDim2.new(0,dz.SizeX,0,dz.SizeY)})dz.SizeY=ar or dz.SizeY;table.insert(iT,1,dz)j9()end end;dz.ClosedSide=nil;dz.OnActivate:Fire()end;iQ.ToggleSide=function(eU)local jc=eU=="left"and iU or iV;jc.Hidden=not jc.Hidden;for Z,aB in pairs(jc.Windows)do if jc.Hidden then aB.OnDeactivate:Fire()else aB.OnActivate:Fire()end end;j9()end;iQ.SetSideVisible=function(bh,k8)local jc=type(bh)=="table"and bh or(bh=="left"and iU or iV)jc.Hidden=not k8;for Z,aB in pairs(jc.Windows)do if jc.Hidden then aB.OnDeactivate:Fire()else aB.OnActivate:Fire()end end;j9()end;iQ.Init=function()iW=Main.DisplayOrders.Window;iX=Main.DisplayOrders.SideWindow;iR=Instance.new("ScreenGui")local k9=create({{1,"Frame",{Active=true,Name="LeftSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0}},{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,0,0,0),Size=UDim2.new(0,1,1,0)}},{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1)}}})iU.Frame=k9;k9.Position=UDim2.new(0,-iU.Width-10,0,0)iU.WindowResizer=k9.WindowResizer;k9.WindowResizer.Parent=nil;k9.Parent=iR;local ka=create({{1,"Frame",{Active=true,Name="RightSide",BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0}},{2,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="Resizer",Parent={1},Size=UDim2.new(0,5,1,0),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{3,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={2},Position=UDim2.new(0,4,0,0),Size=UDim2.new(0,1,1,0)}},{4,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2549019753933,0.2549019753933,0.2549019753933),BorderSizePixel=0,Font=3,Name="WindowResizer",Parent={1},Position=UDim2.new(1,-300,0,0),Size=UDim2.new(1,0,0,4),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{5,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={4},Size=UDim2.new(1,0,0,1)}}})iV.Frame=ka;ka.Position=UDim2.new(1,10,0,0)iV.WindowResizer=ka.WindowResizer;ka.WindowResizer.Parent=nil;ka.Parent=iR;jJ(k9.Resizer,"H",iU)jJ(ka.Resizer,"H",iV)iS=Instance.new("ScreenGui")iS.DisplayOrder=Main.DisplayOrders.Core;local kb=Instance.new("Frame",iS)kb.BackgroundColor3=Color3.fromRGB(0,170,255)kb.BorderSizePixel=0;kb.BackgroundTransparency=0.8;kb.Name="Indicator"local kc=Instance.new("UICorner",kb)kc.CornerRadius=UDim.new(0,10)local kd=create({{1,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderMode=2,Font=10,Name="LeftToggle",Position=UDim2.new(0,0,0,-36),Size=UDim2.new(0,16,0,36),Text="<",TextColor3=Color3.new(1,1,1),TextSize=14}}})local ke=kd:Clone()ke.Name="RightToggle"ke.Position=UDim2.new(1,-16,0,-36)Lib.ButtonAnim(kd,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})Lib.ButtonAnim(ke,{Mode=2,PressColor=Color3.fromRGB(32,32,32)})kd.MouseButton1Click:Connect(function()iQ.ToggleSide("left")end)ke.MouseButton1Click:Connect(function()iQ.ToggleSide("right")end)kd.Parent=iR;ke.Parent=iR;iR:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()local f3=math.max(300,iR.AbsoluteSize.X-iQ.FreeWidth)iU.Width=math.max(iQ.MinWidth,math.min(iU.Width,f3-iV.Width))iV.Width=math.max(iQ.MinWidth,math.min(iV.Width,f3-iU.Width))for Z=1,#iT do iT[Z]:MoveInBoundary()end;j9(true)end)iR.DisplayOrder=iX-1;Lib.ShowGui(iR)jx()end;local hc={__index=funcs}iQ.new=function()local a0=setmetatable({Minimized=false,Dragging=false,Resizing=false,Aligned=false,Draggable=true,Resizable=true,ResizableInternal=true,Alignable=true,Closed=true,SizeX=300,SizeY=300,MinX=200,MinY=200,PosX=0,PosY=0,GuiElems={},Tweens={},Elements={},OnActivate=Lib.Signal.new(),OnDeactivate=Lib.Signal.new(),OnMinimize=Lib.Signal.new(),OnRestore=Lib.Signal.new()},hc)a0.Gui=jl(a0)return a0 end;return iQ end)()Lib.ContextMenu=(function()local funcs={}local aF;local function jl(self)local kf=create({{1,"ScreenGui",{DisplayOrder=1000000,Name="Context",ZIndexBehavior=1}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),Name="Main",Parent={1},Position=UDim2.new(0.5,-100,0.5,-150),Size=UDim2.new(0,200,0,100)}},{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2}}},{4,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Name="Container",Parent={2},Position=UDim2.new(0,1,0,1),Size=UDim2.new(1,-2,1,-2)}},{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4}}},{6,"ScrollingFrame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderSizePixel=0,CanvasSize=UDim2.new(0,0,0,0),Name="List",Parent={4},Position=UDim2.new(0,2,0,2),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(1,-4,1,-4),VerticalScrollBarInset=1}},{7,"UIListLayout",{Parent={6},SortOrder=2}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="SearchFrame",Parent={4},Size=UDim2.new(1,0,0,24),Visible=false}},{9,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.1176470592618,0.1176470592618,0.1176470592618),BorderSizePixel=0,Name="SearchContainer",Parent={8},Position=UDim2.new(0,3,0,3),Size=UDim2.new(1,-6,0,18)}},{10,"TextBox",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="SearchBox",Parent={9},PlaceholderColor3=Color3.new(0.39215689897537,0.39215689897537,0.39215689897537),PlaceholderText="Search",Position=UDim2.new(0,4,0,0),Size=UDim2.new(1,-8,0,18),Text="",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=0}},{11,"UICorner",{CornerRadius=UDim.new(0,2),Parent={9}}},{12,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,1,0),Size=UDim2.new(1,0,0,1)}},{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BackgroundTransparency=1,BorderColor3=Color3.new(0.33725491166115,0.49019610881805,0.73725491762161),BorderSizePixel=0,Font=3,Name="Entry",Parent={1},Size=UDim2.new(1,0,0,22),Text="",TextSize=14,Visible=false}},{14,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="EntryName",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-24,1,0),Text="Duplicate",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Shortcut",Parent={13},Position=UDim2.new(0,24,0,0),Size=UDim2.new(1,-30,1,0),Text="Ctrl+D",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{16,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,ImageRectOffset=Vector2.new(304,0),ImageRectSize=Vector2.new(16,16),Name="Icon",Parent={13},Position=UDim2.new(0,2,0,3),ScaleType=4,Size=UDim2.new(0,16,0,16)}},{17,"UICorner",{CornerRadius=UDim.new(0,4),Parent={13}}},{18,"Frame",{BackgroundColor3=Color3.new(0.21568629145622,0.21568629145622,0.21568629145622),BackgroundTransparency=1,BorderSizePixel=0,Name="Divider",Parent={1},Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,0,7),Visible=false}},{19,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Line",Parent={18},Position=UDim2.new(0,0,0.5,0),Size=UDim2.new(1,0,0,1)}},{20,"TextLabel",{AnchorPoint=Vector2.new(0,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="DividerName",Parent={18},Position=UDim2.new(0,2,0.5,0),Size=UDim2.new(1,-4,1,0),Text="Objects",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.60000002384186,TextXAlignment=0,Visible=false}}})self.GuiElems.Main=kf.Main;self.GuiElems.List=kf.Main.Container.List;self.GuiElems.Entry=kf.Entry;self.GuiElems.Divider=kf.Divider;self.GuiElems.SearchFrame=kf.Main.Container.SearchFrame;self.GuiElems.SearchBar=self.GuiElems.SearchFrame.SearchContainer.SearchBox;Lib.ViewportTextBox.convert(self.GuiElems.SearchBar)self.GuiElems.SearchBar:GetPropertyChangedSignal("Text"):Connect(function()local c8,c9=string.lower,string.find;local f6=c8(self.GuiElems.SearchBar.Text)local kg=self.Items;local i8=self.ItemToEntryMap;if f6~=""then local kh={}local ao=1;for Z=1,#kg do local d9=kg[Z]local aJ=i8[d9]if aJ then if not d9.Divider and c9(c8(d9.Name),f6,1,true)then kh[ao]=d9;ao=ao+1 else aJ.Visible=false end end end;table.sort(kh,function(ac,ad)return ac.Name<ad.Name end)for Z=1,#kh do local aJ=i8[kh[Z]]aJ.LayoutOrder=Z;aJ.Visible=true end else for Z=1,#kg do local aJ=i8[kg[Z]]if aJ then aJ.LayoutOrder=Z;aJ.Visible=true end end end;local ki=self.GuiElems.List.UIListLayout.AbsoluteContentSize.Y+6;self.GuiElems.List.CanvasSize=UDim2.new(0,0,0,ki-6)end)return kf end;funcs.Add=function(self,d9)local kj={Name=d9.Name or"Item",Icon=d9.Icon or"",Shortcut=d9.Shortcut or"",OnClick=d9.OnClick,OnHover=d9.OnHover,Disabled=d9.Disabled or false,DisabledIcon=d9.DisabledIcon or"",IconMap=d9.IconMap,OnRightClick=d9.OnRightClick}if self.QueuedDivider then local kk=self.QueuedDividerText and#self.QueuedDividerText>0 and self.QueuedDividerText;self:AddDivider(kk)end;self.Items[#self.Items+1]=kj;self.Updated=nil end;funcs.AddRegistered=function(self,eU,hL)if not self.Registered[eU]then error(eU.." is not registered")end;if self.QueuedDivider then local kk=self.QueuedDividerText and#self.QueuedDividerText>0 and self.QueuedDividerText;self:AddDivider(kk)end;self.Registered[eU].Disabled=hL;self.Items[#self.Items+1]=self.Registered[eU]self.Updated=nil end;funcs.Register=function(self,eU,d9)self.Registered[eU]={Name=d9.Name or"Item",Icon=d9.Icon or"",Shortcut=d9.Shortcut or"",OnClick=d9.OnClick,OnHover=d9.OnHover,DisabledIcon=d9.DisabledIcon or"",IconMap=d9.IconMap,OnRightClick=d9.OnRightClick}end;funcs.UnRegister=function(self,eU)self.Registered[eU]=nil end;funcs.AddDivider=function(self,kk)self.QueuedDivider=false;local kl=kk and service.TextService:GetTextSize(kk,14,Enum.Font.SourceSans,Vector2.new(999999999,20)).X or nil;table.insert(self.Items,{Divider=true,Text=kk,TextSize=kl and kl+4})self.Updated=nil end;funcs.QueueDivider=function(self,kk)self.QueuedDivider=true;self.QueuedDividerText=kk or""end;funcs.Clear=function(self)self.Items={}self.Updated=nil end;funcs.Refresh=function(self)for Z,aB in pairs(self.GuiElems.List:GetChildren())do if not aB:IsA("UIListLayout")then aB:Destroy()end end;local i8={}self.ItemToEntryMap=i8;local km=self.GuiElems.Divider;local kn=self.GuiElems.List;local ko=self.GuiElems.Entry;local kg=self.Items;for Z=1,#kg do local d9=kg[Z]if d9.Divider then local kp=km:Clone()kp.Line.BackgroundColor3=self.Theme.DividerColor;if d9.Text then kp.Size=UDim2.new(1,0,0,20)kp.Line.Position=UDim2.new(0,d9.TextSize,0.5,0)kp.Line.Size=UDim2.new(1,-d9.TextSize,0,1)kp.DividerName.TextColor3=self.Theme.TextColor;kp.DividerName.Text=d9.Text;kp.DividerName.Visible=true end;kp.Visible=true;i8[d9]=kp;kp.Parent=kn else local aO=ko:Clone()aO.BackgroundColor3=self.Theme.HighlightColor;aO.EntryName.TextColor3=self.Theme.TextColor;aO.EntryName.Text=d9.Name;aO.Shortcut.Text=d9.Shortcut;if d9.Disabled then aO.EntryName.TextColor3=Color3.new(150/255,150/255,150/255)aO.Shortcut.TextColor3=Color3.new(150/255,150/255,150/255)end;if self.Iconless then aO.EntryName.Position=UDim2.new(0,2,0,0)aO.EntryName.Size=UDim2.new(1,-4,0,20)aO.Icon.Visible=false else local kq=d9.Disabled and d9.DisabledIcon or d9.Icon;if d9.IconMap then if type(kq)=="number"then d9.IconMap:Display(aO.Icon,kq)elseif type(kq)=="string"then d9.IconMap:DisplayByKey(aO.Icon,kq)end elseif type(kq)=="string"then aO.Icon.Image=kq end end;if not d9.Disabled then if d9.OnClick then aO.MouseButton1Click:Connect(function()d9.OnClick(d9.Name)if not d9.NoHide then self:Hide()end end)end;if d9.OnRightClick then aO.MouseButton2Click:Connect(function()d9.OnRightClick(d9.Name)if not d9.NoHide then self:Hide()end end)end end;aO.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then aO.BackgroundTransparency=0 end end)aO.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then aO.BackgroundTransparency=1 end end)aO.Visible=true;i8[d9]=aO;aO.Parent=kn end end;self.Updated=true end;funcs.Show=function(self,bA,bB)local kr=self.GuiElems;kr.SearchFrame.Visible=self.SearchEnabled;kr.List.Position=UDim2.new(0,2,0,2+(self.SearchEnabled and 24 or 0))kr.List.Size=UDim2.new(1,-4,1,-4-(self.SearchEnabled and 24 or 0))if self.SearchEnabled and self.ClearSearchOnShow then kr.SearchBar.Text=""end;self.GuiElems.List.CanvasPosition=Vector2.new(0,0)if not self.Updated then self:Refresh()end;local ks=false;local bA,bB=bA or aF.X,bB or aF.Y;local a9,je=aF.ViewSizeX,aF.ViewSizeY;if bA+self.Width>a9 then bA=self.ReverseX and bA-self.Width or a9-self.Width end;kr.Main.Position=UDim2.new(0,bA,0,bB)kr.Main.Size=UDim2.new(0,self.Width,0,0)self.Gui.DisplayOrder=Main.DisplayOrders.Menu;Lib.ShowGui(self.Gui)local ki=kr.List.UIListLayout.AbsoluteContentSize.Y+6;if self.MaxHeight and ki>self.MaxHeight then kr.List.CanvasSize=UDim2.new(0,0,0,ki-6)ki=self.MaxHeight else kr.List.CanvasSize=UDim2.new(0,0,0,0)end;if bB+ki>je then ks=true end;local kt;if self.CloseEvent then self.CloseEvent:Disconnect()end;self.CloseEvent=service.UserInputService.InputBegan:Connect(function(aK)if not kt or aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;if not Lib.CheckMouseInGui(kr.Main)then self.CloseEvent:Disconnect()self:Hide()end end)if ks then kr.Main.Position=UDim2.new(0,bA,0,bB-(self.ReverseYOffset or 0))local ku=bB-ki-(self.ReverseYOffset or 0)bB=ku>=0 and ku or 0;kr.Main:TweenSizeAndPosition(UDim2.new(0,self.Width,0,ki),UDim2.new(0,bA,0,bB),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)else kr.Main:TweenSize(UDim2.new(0,self.Width,0,ki),Enum.EasingDirection.Out,Enum.EasingStyle.Quart,0.2,true)end;Lib.FastWait()if self.SearchEnabled and self.FocusSearchOnShow then kr.SearchBar:CaptureFocus()end;kt=true end;funcs.Hide=function(self)self.Gui.Parent=nil end;funcs.ApplyTheme=function(self,d)local j0=self.Theme;j0.ContentColor=d.ContentColor or Settings.Theme.Menu;j0.OutlineColor=d.OutlineColor or Settings.Theme.Menu;j0.DividerColor=d.DividerColor or Settings.Theme.Outline2;j0.TextColor=d.TextColor or Settings.Theme.Text;j0.HighlightColor=d.HighlightColor or Settings.Theme.Main1;self.GuiElems.Main.BackgroundColor3=j0.OutlineColor;self.GuiElems.Main.Container.BackgroundColor3=j0.ContentColor end;local hc={__index=funcs}local function i5()if not aF then aF=Main.Mouse or service.Players.LocalPlayer:GetMouse()end;local a0=setmetatable({Width=200,MaxHeight=nil,Iconless=false,SearchEnabled=false,ClearSearchOnShow=true,FocusSearchOnShow=true,Updated=false,QueuedDivider=false,QueuedDividerText="",Items={},Registered={},GuiElems={},Theme={}},hc)a0.Gui=jl(a0)a0:ApplyTheme({})return a0 end;return{new=i5}end)()Lib.CodeFrame=function()local module={}local funcs={}local typeMap={[1]="String",[2]="String",[3]="String",[4]="Comment",[5]="Operator",[6]="Number",[7]="Keyword",[8]="BuiltIn",[9]="LocalMethod",[10]="LocalProperty",[11]="Nil",[12]="Bool",[13]="Function",[14]="Local",[15]="Self",[16]="FunctionName",[17]="Bracket"}local specialKeywordsTypes={["nil"]=11,["true"]=12,["false"]=12,["function"]=13,["local"]=14,["self"]=15}local keywords={["and"]=true,["break"]=true,["do"]=true,["else"]=true,["elseif"]=true,["end"]=true,["false"]=true,["for"]=true,["function"]=true,["if"]=true,["in"]=true,["local"]=true,["nil"]=true,["not"]=true,["or"]=true,["repeat"]=true,["return"]=true,["then"]=true,["true"]=true,["until"]=true,["while"]=true,["plugin"]=true}local builtIns={["delay"]=true,["elapsedTime"]=true,["require"]=true,["spawn"]=true,["tick"]=true,["time"]=true,["typeof"]=true,["UserSettings"]=true,["wait"]=true,["warn"]=true,["game"]=true,["shared"]=true,["script"]=true,["workspace"]=true,["assert"]=true,["collectgarbage"]=true,["error"]=true,["getfenv"]=true,["getmetatable"]=true,["ipairs"]=true,["loadstring"]=true,["newproxy"]=true,["next"]=true,["pairs"]=true,["pcall"]=true,["print"]=true,["rawequal"]=true,["rawget"]=true,["rawset"]=true,["select"]=true,["setfenv"]=true,["setmetatable"]=true,["tonumber"]=true,["tostring"]=true,["type"]=true,["unpack"]=true,["xpcall"]=true,["_G"]=true,["_VERSION"]=true,["coroutine"]=true,["debug"]=true,["math"]=true,["os"]=true,["string"]=true,["table"]=true,["bit32"]=true,["utf8"]=true,["Axes"]=true,["BrickColor"]=true,["CFrame"]=true,["Color3"]=true,["ColorSequence"]=true,["ColorSequenceKeypoint"]=true,["DockWidgetPluginGuiInfo"]=true,["Enum"]=true,["Faces"]=true,["Instance"]=true,["NumberRange"]=true,["NumberSequence"]=true,["NumberSequenceKeypoint"]=true,["PathWaypoint"]=true,["PhysicalProperties"]=true,["Random"]=true,["Ray"]=true,["Rect"]=true,["Region3"]=true,["Region3int16"]=true,["TweenInfo"]=true,["UDim"]=true,["UDim2"]=true,["Vector2"]=true,["Vector2int16"]=true,["Vector3"]=true,["Vector3int16"]=true}local builtInInited=false;local richReplace={["'"]="&apos;",["\""]="&quot;",["<"]="&lt;",[">"]="&gt;",["&"]="&amp;"}local tabSub="\205"local kv=" %s%s ":format(tabSub,tabSub)local kw={["[^%s] %s":format(tabSub,tabSub)]=0,[" %s%s":format(tabSub,tabSub)]=-1,["%s%s ":format(tabSub,tabSub)]=2,["%s [^%s]":format(tabSub,tabSub)]=1}local kx=service.TweenService;local ky={}local function initBuiltIn()local env=getfenv()local type=type;local tostring=tostring;for eU,_ in next,builtIns do local kz=env[eU]if type(kz)=="table"then local kg={}for Z,aB in next,kz do kg[Z]=true end;builtIns[eU]=kg end end;local kA={}local kB=Enum:GetEnums()for Z=1,#kB do kA[tostring(kB[Z])]=true end;builtIns["Enum"]=kA;builtInInited=true end;local function kC(a0)local kD=a0.GuiElems.EditBox;kD.Focused:Connect(function()a0:ConnectEditBoxEvent()a0.Editing=true end)kD.FocusLost:Connect(function()a0:DisconnectEditBoxEvent()a0.Editing=false end)kD:GetPropertyChangedSignal("Text"):Connect(function()local kk=kD.Text;if#kk==0 or a0.EditBoxCopying then return end;kD.Text=""a0:AppendText(kk)end)end;local function kE(a0)local aF=plr:GetMouse()local gO=a0.GuiElems.LinesFrame;local kF=a0.Lines;gO.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then local kG,kH=math.ceil(a0.FontSize/2),a0.FontSize;local kI=aF.X-gO.AbsolutePosition.X;local kJ=aF.Y-gO.AbsolutePosition.Y;local kK=math.round(kI/kG)+a0.ViewX;local kL=math.floor(kJ/kH)+a0.ViewY;local aM,aL,kM;local kN,kO=0,0;kL=math.min(#kF-1,kL)local kP=kF[kL+1]or""kK=math.min(#kP,kK+a0:TabAdjust(kK,kL))a0.SelectionRange={{-1,-1},{-1,-1}}a0:MoveCursor(kK,kL)a0.FloatCursorX=kK;local function kQ()local kI=aF.X-gO.AbsolutePosition.X;local kJ=aF.Y-gO.AbsolutePosition.Y;local kR=math.max(0,math.round(kI/kG)+a0.ViewX)local kS=math.max(0,math.floor(kJ/kH)+a0.ViewY)kS=math.min(#kF-1,kS)local kP=kF[kS+1]or""kR=math.min(#kP,kR+a0:TabAdjust(kR,kS))if kS<kL or kS==kL and kR<kK then a0.SelectionRange={{kR,kS},{kK,kL}}else a0.SelectionRange={{kK,kL},{kR,kS}}end;a0:MoveCursor(kR,kS)a0.FloatCursorX=kR;a0:Refresh()end;aM=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then aM:Disconnect()aL:Disconnect()kM:Disconnect()a0:SetCopyableSelection()end end)aL=service.UserInputService.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local kT=aF.Y-gO.AbsolutePosition.Y;local kU=aF.Y-gO.AbsolutePosition.Y-gO.AbsoluteSize.Y;local kV=aF.X-gO.AbsolutePosition.X;local kW=aF.X-gO.AbsolutePosition.X-gO.AbsoluteSize.X;kN=0;kO=0;if kU>0 then kN=math.floor(kU*0.05)+1 elseif kT<0 then kN=math.ceil(kT*0.05)-1 end;if kW>0 then kO=math.floor(kW*0.05)+1 elseif kV<0 then kO=math.ceil(kV*0.05)-1 end;kQ()end end)kM=cloneref(game:GetService("RunService")).RenderStepped:Connect(function()if kN~=0 or kO~=0 then a0:ScrollDelta(kO,kN)kQ()end end)a0:Refresh()end end)end;local function makeFrame(a0)local iO=create({{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Position=UDim2.new(0.5,-300,0.5,-200),Size=UDim2.new(0,600,0,400)}}})local kr={}local kX=Instance.new("Frame")kX.Name="Lines"kX.BackgroundTransparency=1;kX.Size=UDim2.new(1,0,1,0)kX.ClipsDescendants=true;kX.Parent=iO;local kY=Instance.new("TextLabel")kY.Name="LineNumbers"kY.BackgroundTransparency=1;kY.Font=Enum.Font.Code;kY.TextXAlignment=Enum.TextXAlignment.Right;kY.TextYAlignment=Enum.TextYAlignment.Top;kY.ClipsDescendants=true;kY.RichText=true;kY.Parent=iO;local kZ=Instance.new("Frame")kZ.Name="Cursor"kZ.BackgroundColor3=Color3.fromRGB(220,220,220)kZ.BorderSizePixel=0;kZ.Parent=iO;local kD=Instance.new("TextBox")kD.Name="EditBox"kD.MultiLine=true;kD.Visible=false;kD.Parent=iO;ky.Invis=kx:Create(kZ,TweenInfo.new(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=1})ky.Vis=kx:Create(kZ,TweenInfo.new(0.2,Enum.EasingStyle.Quart,Enum.EasingDirection.Out),{BackgroundTransparency=0})kr.LinesFrame=kX;kr.LineNumbersLabel=kY;kr.Cursor=kZ;kr.EditBox=kD;kr.ScrollCorner=create({{1,"Frame",{BackgroundColor3=Color3.new(0.15686275064945,0.15686275064945,0.15686275064945),BorderSizePixel=0,Name="ScrollCorner",Position=UDim2.new(1,-16,1,-16),Size=UDim2.new(0,16,0,16),Visible=false}}})kr.ScrollCorner.Parent=iO;kX.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then a0:SetEditing(true,aK)end end)a0.Frame=iO;a0.Gui=iO;a0.GuiElems=kr;kC(a0)kE(a0)return iO end;funcs.GetSelectionText=function(self)if not self:IsValidRange()then return""end;local k_=self.SelectionRange;local kK,kL=k_[1][1],k_[1][2]local kR,kS=k_[2][1],k_[2][2]local l0=kS-kL;local kF=self.Lines;if not kF[kL+1]or not kF[kS+1]then return""end;if l0==0 then return self:ConvertText(kF[kL+1]:sub(kK+1,kR),false)end;local l1=kF[kL+1]:sub(kK+1)local l2=kF[kS+1]:sub(1,kR)local e0=l1 .."\n"for Z=kL+1,kS-1 do e0=e0 ..kF[Z+1].."\n"end;e0=e0 ..l2;return self:ConvertText(e0,false)end;funcs.SetCopyableSelection=function(self)local kk=self:GetSelectionText()local kD=self.GuiElems.EditBox;self.EditBoxCopying=true;kD.Text=kk;kD.SelectionStart=1;kD.CursorPosition=#kD.Text+1;self.EditBoxCopying=false end;funcs.ConnectEditBoxEvent=function(self)if self.EditBoxEvent then self.EditBoxEvent:Disconnect()end;self.EditBoxEvent=service.UserInputService.InputBegan:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.Keyboard then return end;local l3=Enum.KeyCode;local l4=aK.KeyCode;local function l5(ic,c_)local l6,l7;l6=service.UserInputService.InputEnded:Connect(function(aK)if aK.KeyCode~=ic then return end;l6:Disconnect()l7=true end)c_()Lib.FastWait(0.5)while not l7 do c_()Lib.FastWait(0.03)end end;if l4==l3.Down then l5(l3.Down,function()self.CursorX=self.FloatCursorX;self.CursorY=self.CursorY+1;self:UpdateCursor()self:JumpToCursor()end)elseif l4==l3.Up then l5(l3.Up,function()self.CursorX=self.FloatCursorX;self.CursorY=self.CursorY-1;self:UpdateCursor()self:JumpToCursor()end)elseif l4==l3.Left then l5(l3.Left,function()local l8=self.Lines[self.CursorY+1]or""self.CursorX=self.CursorX-1-(l8:sub(self.CursorX-3,self.CursorX)==kv and 3 or 0)if self.CursorX<0 then self.CursorY=self.CursorY-1;local l9=self.Lines[self.CursorY+1]or""self.CursorX=#l9 end;self.FloatCursorX=self.CursorX;self:UpdateCursor()self:JumpToCursor()end)elseif l4==l3.Right then l5(l3.Right,function()local l8=self.Lines[self.CursorY+1]or""self.CursorX=self.CursorX+1+(l8:sub(self.CursorX+1,self.CursorX+4)==kv and 3 or 0)if self.CursorX>#l8 then self.CursorY=self.CursorY+1;self.CursorX=0 end;self.FloatCursorX=self.CursorX;self:UpdateCursor()self:JumpToCursor()end)elseif l4==l3.Backspace then l5(l3.Backspace,function()local la,lb;if self:IsValidRange()then la=self.SelectionRange[1]lb=self.SelectionRange[2]else lb={self.CursorX,self.CursorY}end;if not la then local l8=self.Lines[self.CursorY+1]or""self.CursorX=self.CursorX-1-(l8:sub(self.CursorX-3,self.CursorX)==kv and 3 or 0)if self.CursorX<0 then self.CursorY=self.CursorY-1;local l9=self.Lines[self.CursorY+1]or""self.CursorX=#l9 end;self.FloatCursorX=self.CursorX;self:UpdateCursor()la=la or{self.CursorX,self.CursorY}end;self:DeleteRange({la,lb},false,true)self:ResetSelection(true)self:JumpToCursor()end)elseif l4==l3.Delete then l5(l3.Delete,function()local la,lb;if self:IsValidRange()then la=self.SelectionRange[1]lb=self.SelectionRange[2]else la={self.CursorX,self.CursorY}end;if not lb then local l8=self.Lines[self.CursorY+1]or""local lc=self.CursorX+1+(l8:sub(self.CursorX+1,self.CursorX+4)==kv and 3 or 0)local ld=self.CursorY;if lc>#l8 then ld=ld+1;lc=0 end;self:UpdateCursor()lb=lb or{lc,ld}end;self:DeleteRange({la,lb},false,true)self:ResetSelection(true)self:JumpToCursor()end)elseif service.UserInputService:IsKeyDown(Enum.KeyCode.LeftControl)then if l4==l3.A then self.SelectionRange={{0,0},{#self.Lines[#self.Lines],#self.Lines-1}}self:SetCopyableSelection()self:Refresh()end end end)end;funcs.DisconnectEditBoxEvent=function(self)if self.EditBoxEvent then self.EditBoxEvent:Disconnect()end end;funcs.ResetSelection=function(self,a_)self.SelectionRange={{-1,-1},{-1,-1}}if not a_ then self:Refresh()end end;funcs.IsValidRange=function(self,ji)local k_=ji or self.SelectionRange;local kK,kL=k_[1][1],k_[1][2]local kR,kS=k_[2][1],k_[2][2]if kK==-1 or kK==kR and kL==kS then return false end;return true end;funcs.DeleteRange=function(self,ji,le,lf)ji=ji or self.SelectionRange;if not self:IsValidRange(ji)then return end;local kF=self.Lines;local kK,kL=ji[1][1],ji[1][2]local kR,kS=ji[2][1],ji[2][2]local l0=kS-kL;if not kF[kL+1]or not kF[kS+1]then return end;local l1=kF[kL+1]:sub(1,kK)local l2=kF[kS+1]:sub(kR+1)kF[kL+1]=l1 ..l2;local lg=table.remove;for Z=1,l0 do lg(kF,kL+2)end;if ji==self.SelectionRange then self.SelectionRange={{-1,-1},{-1,-1}}end;if lf then self.CursorX=kK;self.CursorY=kL;self:UpdateCursor()end;if not le then self:ProcessTextChange()end end;funcs.AppendText=function(self,kk)self:DeleteRange(nil,true,true)local kF,lh,li=self.Lines,self.CursorX,self.CursorY;local l8=kF[li+1]local lj=l8:sub(1,lh)local lk=l8:sub(lh+1)kk=kk:gsub("\r\n","\n")kk=self:ConvertText(kk,true)local ll=kk:split("\n")local lm=table.insert;for Z=1,#ll do local ln=li+Z;if Z>1 then lm(kF,ln,"")end;local lo=ll[Z]local lp=Z==1 and lj or""local lq=Z==#ll and lk or""kF[ln]=lp..lo..lq end;if#ll>1 then lh=0 end;self:ProcessTextChange()self.CursorX=lh+#ll[#ll]self.CursorY=li+#ll-1;self:UpdateCursor()end;funcs.ScrollDelta=function(self,bA,bB)self.ScrollV:ScrollTo(self.ScrollV.Index+bB)self.ScrollH:ScrollTo(self.ScrollH.Index+bA)end;funcs.TabAdjust=function(self,bA,bB)local kF=self.Lines;local l8=kF[bB+1]bA=bA+1;if l8 then local T=l8:sub(bA-1,bA-1)local lr=l8:sub(bA,bA)local U=l8:sub(bA+1,bA+1)local ls=(#T>0 and T or" ")..(#lr>0 and lr or" ")..(#U>0 and U or" ")for Z,aB in pairs(kw)do if ls:find(Z)then return aB end end end;return 0 end;funcs.SetEditing=function(self,lt,aK)self:UpdateCursor(aK)if lt then if self.Editable then self.GuiElems.EditBox.Text=""self.GuiElems.EditBox:CaptureFocus()end else self.GuiElems.EditBox:ReleaseFocus()end end;funcs.CursorAnim=function(self,lt)local kZ=self.GuiElems.Cursor;local lu=tick()self.LastAnimTime=lu;if not lt then return end;ky.Invis:Cancel()ky.Vis:Cancel()kZ.BackgroundTransparency=0;coroutine.wrap(function()while self.Editable do Lib.FastWait(0.5)if self.LastAnimTime~=lu then return end;ky.Invis:Play()Lib.FastWait(0.4)if self.LastAnimTime~=lu then return end;ky.Vis:Play()Lib.FastWait(0.2)end end)()end;funcs.MoveCursor=function(self,bA,bB)self.CursorX=bA;self.CursorY=bB;self:UpdateCursor()self:JumpToCursor()end;funcs.JumpToCursor=function(self)self:Refresh()end;funcs.UpdateCursor=function(self,aK)local kX=self.GuiElems.LinesFrame;local kZ=self.GuiElems.Cursor;local lv=math.max(0,kX.AbsoluteSize.X)local lw=math.max(0,kX.AbsoluteSize.Y)local lx=math.ceil(lw/self.FontSize)local ly=math.ceil(lv/math.ceil(self.FontSize/2))local lz,lA=self.ViewX,self.ViewY;local lB=tostring(#self.Lines)local lC=math.ceil(self.FontSize/2)local lD=#lB*lC+4*lC;if aK then local kX=self.GuiElems.LinesFrame;local lE,lF=kX.AbsolutePosition.X,kX.AbsolutePosition.Y;local fo,lG=aK.Position.X,aK.Position.Y;local kG,kH=math.ceil(self.FontSize/2),self.FontSize;self.CursorX=self.ViewX+math.round((fo-lE)/kG)self.CursorY=self.ViewY+math.floor((lG-lF)/kH)end;local lh,li=self.CursorX,self.CursorY;local l8=self.Lines[li+1]or""if lh>#l8 then lh=#l8 elseif lh<0 then lh=0 end;if li>=#self.Lines then li=math.max(0,#self.Lines-1)elseif li<0 then li=0 end;lh=lh+self:TabAdjust(lh,li)self.CursorX=lh;self.CursorY=li;local lH=lh>=lz and li>=lA and lh<=lz+ly and li<=lA+lx;if lH then local ay=lh-lz;local az=li-lA;kZ.Position=UDim2.new(0,lD+ay*math.ceil(self.FontSize/2)-1,0,az*self.FontSize)kZ.Size=UDim2.new(0,1,0,self.FontSize+2)kZ.Visible=true;self:CursorAnim(true)else kZ.Visible=false end end;funcs.MapNewLines=function(self)local lI={}local ao=1;local kk=self.Text;local c9=string.find;local ct=1;local pos=c9(kk,"\n",ct,true)while pos do lI[ao]=pos;ao=ao+1;ct=pos+1;pos=c9(kk,"\n",ct,true)end;self.NewLines=lI end;funcs.PreHighlight=function(self)local cE=tick()local kk=self.Text:gsub("\\\\","  ")local lJ=#kk;local cy={}local lK={}local lL={}local c9=string.find;local co=string.sub;self.ColoredLines={}local function cA(bx,cB,typ,lM)local ao=#cy+1;local ct=1;local bA,bB,cD=c9(bx,cB,ct,lM)while bA do cy[ao]=bA;lK[bA]=typ;if cD then lL[bA]=cD end;ao=ao+1;ct=bB+1;bA,bB,cD=c9(bx,cB,ct,lM)end end;local cE=tick()cA(kk,'"',1,true)cA(kk,"'",2,true)cA(kk,"%[(=*)%[",3)cA(kk,"--",4,true)table.sort(cy)local lI=self.NewLines;local lN=0;local lO=1;local lP=0;local lQ=0;local lR=0;local foundHighlights={}for Z=1,#cy do local pos=cy[Z]if pos>lR then local ending=pos;local typ=lK[pos]end end;if typ==1 then ending=c9(kk,'"',pos+1,true)while ending and co(kk,ending-1,ending-1)=="\\"do ending=c9(kk,'"',ending+1,true)end;if not ending then ending=lJ end elseif typ==2 then ending=c9(kk,"'",pos+1,true)while ending and co(kk,ending-1,ending-1)=="\\"do ending=c9(kk,"'",ending+1,true)end;if not ending then ending=lJ end elseif typ==3 then _,ending=c9(kk,"]"..lL[pos].."]",pos+1,true)if not ending then ending=lJ end elseif typ==4 then local lS=lK[pos+2]if lS==3 then _,ending=c9(kk,"]"..lL[pos+2].."]",pos+1,true)if not ending then ending=lJ end else ending=c9(kk,"\n",pos+1,true)or lJ end end;while pos>lQ do lN=lN+1;lQ=lI[lN]or lJ+1 end;while true do local lT=foundHighlights[lN]if not lT then lT={}foundHighlights[lN]=lT end;lT[pos]={typ,ending}if ending>lQ then lN=lN+1;lQ=lI[lN]or lJ+1 else break end end;lR=ending end;self.PreHighlights=foundHighlights end;funcs.HighlightLine=function(self,l8)local lU=self.ColoredLines[l8]if lU then return lU end;local co=string.sub;local c9=string.find;local bM=string.match;local lV={}local lW=self.PreHighlights[l8]or{}local lX=self.Lines[l8]or""local lY=#lX;local lR=0;local fO=0;local lZ=nil;local l_=false;local m0=0;local lP=self.NewLines[l8-1]or 0;local m1={}for pos,d in next,lW do local m2=pos-lP;if m2<1 then fO=d[1]lR=d[2]-lP else m1[m2]={d[1],d[2]-lP}end end;for fJ=1,#lX do if fJ>lR then local m3=m1[fJ]if m3 then fO=m3[1]lR=m3[2]lV[fJ]=fO;l_=false;lZ=nil;m0=0 else local hh=string.sub(lX,fJ,fJ)if c9(hh,"[%a_]")then local m4=bM(lX,"[%a%d_]+",fJ)local m5=keywords[m4]and 7 or builtIns[m4]and 8;lR=fJ+#m4-1;if m5~=7 then if l_ then local m6=lZ and builtIns[lZ]m5=m6 and type(m6)=="table"and m6[m4]and 8 or 10 end;if m5~=8 then local bA,bB,m7=c9(lX,"^%s*([%({\"'])",lR+1)if bA then m5=m0>0 and m7=="("and 16 or 9;m0=0 end end else m5=specialKeywordsTypes[m4]or m5;m0=m4=="function"and 1 or 0 end;lZ=m4;l_=false;if m0>0 then m0=1 end;if m5 then fO=m5;lV[fJ]=fO else fO=nil end elseif c9(hh,"%p")then local m8=hh=="."local m9=m8 and c9(co(lX,fJ+1,fJ+1),"%d")lV[fJ]=m9 and 6 or 5;if not m9 then local ma=m8 and bM(lX,"%.%.?%.?",fJ)if ma and#ma>1 then fO=5;lR=fJ+#ma-1;l_=false;lZ=nil;m0=0 else if m8 then if l_ then lZ=nil else l_=true end else l_=false;lZ=nil end;m0=(m8 or hh==":")and m0==1 and 2 or 0 end end elseif c9(hh,"%d")then local _,mb=c9(lX,"%x+",fJ)local mc=co(lX,mb,mb+1)if(mc=="e+"or mc=="e-")and c9(co(lX,mb+2,mb+2),"%d")then mb=mb+1 end;fO=6;lR=mb;lV[fJ]=6;l_=false;lZ=nil;m0=0 else lV[fJ]=fO;local _,mb=c9(lX,"%s+",fJ)if mb then lR=mb end end end end;self.ColoredLines[l8]=lV;return lV end;funcs.Refresh=function(self)local cE=tick()local kX=self.Frame.Lines;local lv=math.max(0,kX.AbsoluteSize.X)local lw=math.max(0,kX.AbsoluteSize.Y)local lx=math.ceil(lw/self.FontSize)local ly=math.ceil(lv/math.ceil(self.FontSize/2))local bN=string.gsub;local co=string.sub;local lz,lA=self.ViewX,self.ViewY;local md=""for me=1,lx do local mf=self.LineFrames[me]if not mf then mf=Instance.new("Frame")mf.Name="Line"mf.Position=UDim2.new(0,0,0,(me-1)*self.FontSize)mf.Size=UDim2.new(1,0,0,self.FontSize)mf.BorderSizePixel=0;mf.BackgroundTransparency=1;local mg=Instance.new("Frame")mg.Name="SelectionHighlight"mg.BorderSizePixel=0;mg.BackgroundColor3=Settings.Theme.Syntax.SelectionBack;mg.Parent=mf;local gM=Instance.new("TextLabel")gM.Name="Label"gM.BackgroundTransparency=1;gM.Font=Enum.Font.Code;gM.TextSize=self.FontSize;gM.Size=UDim2.new(1,0,0,self.FontSize)gM.RichText=true;gM.TextXAlignment=Enum.TextXAlignment.Left;gM.TextColor3=self.Colors.Text;gM.ZIndex=2;gM.Parent=mf;mf.Parent=kX;self.LineFrames[me]=mf end;local mh=lA+me;local lX=self.Lines[mh]or""local mi=""local lV=self:HighlightLine(mh)local mj=lz+1;local mk=self.RichTemplates;local ml=mk.Text;local mm=mk.Selection;local mn=lV[mj]local mo=mk[typeMap[mn]]or ml;local k_=self.SelectionRange;local mp=k_[1]local mq=k_[2]local mr,ms=mp[2],mp[1]local mt,mu=mq[2],mq[1]local mv,mw=lz,mh-1;if mw>=mp[2]and mw<=mq[2]then local kG=math.ceil(self.FontSize/2)local aH=(mw==mp[2]and mp[1]or 0)-lz;local fi=mw==mq[2]and mq[1]-aH-lz or ly+lz;mf.SelectionHighlight.Position=UDim2.new(0,aH*kG,0,0)mf.SelectionHighlight.Size=UDim2.new(0,fi*kG,1,0)mf.SelectionHighlight.Visible=true else mf.SelectionHighlight.Visible=false end;local mx=mw>=mr and mw<=mt and(mw==mr and lz>=ms or mw~=mr)and(mw==mt and lz<mu or mw~=mt)if mx then mn=-999;mo=mm end;for fJ=2,ly do local fq=lz+fJ;local mv=fq-1;local my=lV[fq]local mx=mw>=mr and mw<=mt and(mw==mr and mv>=ms or mw~=mr)and(mw==mt and mv<mu or mw~=mt)if mx then my=-999 end;if my~=mn then local cY=mx and mm or mk[typeMap[my]]or ml;if cY~=mo then local mz=bN(co(lX,mj,fq-1),"['\"<>&]",richReplace)mi=mi..(mo~=ml and mo..mz.."</font>"or mz)mj=fq;mo=cY end;mn=my end end;local mA=bN(co(lX,mj,lz+ly),"['\"<>&]",richReplace)if#mA>0 then mi=mi..(mo~=ml and mo..mA.."</font>"or mA)end;if self.Lines[mh]then md=md..(mh==self.CursorY and"<b>"..mh.."</b>\n"or mh.."\n")end;mf.Label.Text=mi end;for Z=lx+1,#self.LineFrames do self.LineFrames[Z]:Destroy()self.LineFrames[Z]=nil end;self.Frame.LineNumbers.Text=md;self:UpdateCursor()end;funcs.UpdateView=function(self)local lB=tostring(#self.Lines)local lC=math.ceil(self.FontSize/2)local lD=#lB*lC+4*lC;local kX=self.Frame.Lines;local lv=kX.AbsoluteSize.X;local lw=kX.AbsoluteSize.Y;local lx=math.ceil(lw/self.FontSize)local aa=self.MaxTextCols*lC;local A=self.ScrollV;local B=self.ScrollH;A.VisibleSpace=lx;A.TotalSpace=#self.Lines+1;B.VisibleSpace=math.ceil(lv/lC)B.TotalSpace=self.MaxTextCols+1;A.Gui.Visible=#self.Lines+1>lx;B.Gui.Visible=aa>lv;local mB=self.FrameOffsets;self.FrameOffsets=Vector2.new(A.Gui.Visible and-16 or 0,B.Gui.Visible and-16 or 0)if mB~=self.FrameOffsets then self:UpdateView()else A:ScrollTo(self.ViewY,true)B:ScrollTo(self.ViewX,true)if A.Gui.Visible and B.Gui.Visible then A.Gui.Size=UDim2.new(0,16,1,-16)B.Gui.Size=UDim2.new(1,-16,0,16)self.GuiElems.ScrollCorner.Visible=true else A.Gui.Size=UDim2.new(0,16,1,0)B.Gui.Size=UDim2.new(1,0,0,16)self.GuiElems.ScrollCorner.Visible=false end;self.ViewY=A.Index;self.ViewX=B.Index;self.Frame.Lines.Position=UDim2.new(0,lD,0,0)self.Frame.Lines.Size=UDim2.new(1,-lD+mB.X,1,mB.Y)self.Frame.LineNumbers.Position=UDim2.new(0,lC,0,0)self.Frame.LineNumbers.Size=UDim2.new(0,#lB*lC,1,mB.Y)self.Frame.LineNumbers.TextSize=self.FontSize end end;funcs.ProcessTextChange=function(self)local ly=0;local kF=self.Lines;for Z=1,#kF do local lY=#kF[Z]if lY>ly then ly=lY end end;self.MaxTextCols=ly;self:UpdateView()self.Text=table.concat(self.Lines,"\n")self:MapNewLines()self:PreHighlight()self:Refresh()end;funcs.ConvertText=function(self,kk,mC)if mC then return kk:gsub("\t"," %s%s ":format(tabSub,tabSub))else return kk:gsub(" %s%s ":format(tabSub,tabSub),"\t")end end;funcs.GetText=function(self)local gR=table.concat(self.Lines,"\n")return self:ConvertText(gR,false)end;funcs.SetText=function(self,hB)hB=self:ConvertText(hB,true)local kF=self.Lines;table.clear(kF)local ao=1;for l8 in hB:gmatch("([^\n\r]*)[\n\r]?")do local cG=#l8;kF[ao]=l8;ao=ao+1 end;self:ProcessTextChange()end;funcs.MakeRichTemplates=function(self)local V=math.floor;local mD={}for eU,iN in pairs(self.Colors)do mD[eU]='<font color="rgb(%s,%s,%s)">':format(V(iN.r*255),V(iN.g*255),V(iN.b*255))end;self.RichTemplates=mD end;funcs.ApplyTheme=function(self)local mE=Settings.Theme.Syntax;self.Colors=mE;self.Frame.LineNumbers.TextColor3=mE.Text;self.Frame.BackgroundColor3=mE.Background end;local hc={__index=funcs}local function i5(iO,j0)if not builtInInited then initBuiltIn()end;local A=Lib.ScrollBar.new()local B=Lib.ScrollBar.new(true)B.Gui.Position=UDim2.new(0,0,1,-16)local a0=setmetatable({Frame=iO,Theme=j0 or{},FontSize=15,ViewX=0,ViewY=0,Colors=Settings.Theme.Syntax,ColoredLines={},Lines={""},LineFrames={},Editable=true,Editing=false,CursorX=0,CursorY=0,FloatCursorX=0,Text="",PreHighlights={},SelectionRange={{-1,-1},{-1,-1}},NewLines={},FrameOffsets=Vector2.new(0,0),MaxTextCols=0,ScrollV=A,ScrollH=B},hc)A.WheelIncrement=3;B.Increment=2;B.WheelIncrement=7;A.Scrolled:Connect(function()a0.ViewY=A.Index;a0:Refresh()end)B.Scrolled:Connect(function()a0.ViewX=B.Index;a0:Refresh()end)makeFrame(a0)a0:MakeRichTemplates()a0:ApplyTheme()A:SetScrollFrame(a0.Frame.Lines)A.Gui.Parent=a0.Frame;B.Gui.Parent=a0.Frame;a0:UpdateView()a0.Frame:GetPropertyChangedSignal("AbsoluteSize"):Connect(function()a0:UpdateView()a0:Refresh()end)return a0 end;module.new=i5;return module end;Lib.Checkbox=(function()local funcs={}local mF=Color3.fromRGB;local mG=Vector2.new;local mH=UDim2.fromScale;local mI=UDim2.fromOffset;local mJ=UDim.new;local gw=math.max;local i5=Instance.new;local mK=i5("Frame").TweenSize;local k5=TweenInfo.new;local delay=delay;local function mL(mM,iN)local mN=i5('Frame')mN.BackgroundColor3=iN;mN.BackgroundTransparency=0.75;mN.BorderSizePixel=0;mN.AnchorPoint=mG(0.5,0.5)mN.Size=mI()mN.Position=mH(0.5,0.5)mN.Parent=mM;local mO=i5('UICorner')mO.CornerRadius=mJ(1)mO.Parent=mN;local mP=mM.AbsoluteSize;local ar=gw(mP.X,mP.Y)*5/3;mK(mN,mI(ar,ar),"Out","Quart",0.4)service.TweenService:Create(mN,k5(0.4,Enum.EasingStyle.Quart,Enum.EasingDirection.In),{BackgroundTransparency=1}):Play()service.Debris:AddItem(mN,0.4)end;local function mQ(self,iO)local fX=iO or create({{1,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Checkbox",Position=UDim2.new(0,3,0,3),Size=UDim2.new(0,16,0,16)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ripples",Parent={1},Size=UDim2.new(1,0,1,0)}},{3,"Frame",{BackgroundColor3=Color3.new(0.10196078568697,0.10196078568697,0.10196078568697),BorderSizePixel=0,Name="outline",Parent={1},Size=UDim2.new(0,16,0,16)}},{4,"Frame",{BackgroundColor3=Color3.new(0.14117647707462,0.14117647707462,0.14117647707462),BorderSizePixel=0,Name="filler",Parent={3},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,14,0,14)}},{5,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="top",Parent={4},Size=UDim2.new(0,16,0,0)}},{6,"Frame",{AnchorPoint=Vector2.new(0,1),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="bottom",Parent={4},Position=UDim2.new(0,0,0,14),Size=UDim2.new(0,16,0,0)}},{7,"Frame",{BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="left",Parent={4},Size=UDim2.new(0,0,0,16)}},{8,"Frame",{AnchorPoint=Vector2.new(1,0),BackgroundColor3=Color3.new(0.90196084976196,0.90196084976196,0.90196084976196),BorderSizePixel=0,Name="right",Parent={4},Position=UDim2.new(0,14,0,0),Size=UDim2.new(0,0,0,16)}},{9,"Frame",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,ClipsDescendants=true,Name="checkmark",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,0,0,20)}},{10,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://6234266378",Parent={9},Position=UDim2.new(0.5,0,0.5,0),ScaleType=3,Size=UDim2.new(0,15,0,11)}},{11,"ImageLabel",{AnchorPoint=Vector2.new(0.5,0.5),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6401617475",ImageColor3=Color3.new(0.20784313976765,0.69803923368454,0.98431372642517),Name="checkmark2",Parent={4},Position=UDim2.new(0.5,0,0.5,0),Size=UDim2.new(0,12,0,12),Visible=false}},{12,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6425281788",ImageTransparency=0.20000000298023,Name="middle",Parent={4},ScaleType=2,Size=UDim2.new(1,0,1,0),TileSize=UDim2.new(0,2,0,2),Visible=false}},{13,"UICorner",{CornerRadius=UDim.new(0,2),Parent={3}}}})local mR=fX.outline;local mS=mR.filler;local mT=mS.checkmark;local mU=fX.ripples;local mV,mW,T,U=mS.top,mS.bottom,mS.left,mS.right;self.Gui=fX;self.GuiElems={Top=mV,Bottom=mW,Left=T,Right=U,Outline=mR,Filler=mS,Checkmark=mT,Checkmark2=mS.checkmark2,Middle=mS.middle}fX.InputBegan:Connect(function(Z)if Z.UserInputType==Enum.UserInputType.MouseButton1 then local mX;mX=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then mX:Disconnect()if Lib.CheckMouseInGui(fX)then if self.Style==0 then mL(mU,self.Disabled and self.Colors.Disabled or self.Colors.Primary)end;if not self.Disabled then self:SetState(not self.Toggled,true)else self:Paint()end;self.OnInput:Fire()end end end)end end)self:Paint()end;funcs.Collapse=function(self,mY)local fR=self.GuiElems;if mY then mK(fR.Top,mI(14,14),"In","Quart",4/15,true)mK(fR.Bottom,mI(14,14),"In","Quart",4/15,true)mK(fR.Left,mI(14,14),"In","Quart",4/15,true)mK(fR.Right,mI(14,14),"In","Quart",4/15,true)else fR.Top.Size=mI(14,14)fR.Bottom.Size=mI(14,14)fR.Left.Size=mI(14,14)fR.Right.Size=mI(14,14)end end;funcs.Expand=function(self,mY)local fR=self.GuiElems;if mY then mK(fR.Top,mI(14,0),"InOut","Quart",4/15,true)mK(fR.Bottom,mI(14,0),"InOut","Quart",4/15,true)mK(fR.Left,mI(0,14),"InOut","Quart",4/15,true)mK(fR.Right,mI(0,14),"InOut","Quart",4/15,true)else fR.Top.Size=mI(14,0)fR.Bottom.Size=mI(14,0)fR.Left.Size=mI(0,14)fR.Right.Size=mI(0,14)end end;funcs.Paint=function(self)local fR=self.GuiElems;if self.Style==0 then local mZ=self.Disabled and self.Colors.Disabled;fR.Outline.BackgroundColor3=mZ or self.Toggled and self.Colors.Primary or self.Colors.Secondary;local m_=mZ or self.Colors.Primary;fR.Top.BackgroundColor3=m_;fR.Bottom.BackgroundColor3=m_;fR.Left.BackgroundColor3=m_;fR.Right.BackgroundColor3=m_ else fR.Outline.BackgroundColor3=self.Disabled and self.Colors.Disabled or self.Colors.Secondary;fR.Filler.BackgroundColor3=self.Disabled and self.Colors.DisabledBackground or self.Colors.Background;fR.Checkmark2.ImageColor3=self.Disabled and self.Colors.DisabledCheck or self.Colors.Primary end end;funcs.SetState=function(self,a7,mY)self.Toggled=a7;if self.OutlineColorTween then self.OutlineColorTween:Cancel()end;local n0=tick()self.LastSetStateTime=n0;if self.Toggled then if self.Style==0 then if mY then self.OutlineColorTween=service.TweenService:Create(self.GuiElems.Outline,k5(4/15,Enum.EasingStyle.Circular,Enum.EasingDirection.Out),{BackgroundColor3=self.Colors.Primary})self.OutlineColorTween:Play()delay(0.15,function()if n0~=self.LastSetStateTime then return end;self:Paint()mK(self.GuiElems.Checkmark,mI(14,20),"Out","Bounce",2/15,true)end)else self.GuiElems.Outline.BackgroundColor3=self.Colors.Primary;self:Paint()self.GuiElems.Checkmark.Size=mI(14,20)end;self:Collapse(mY)else self:Paint()self.GuiElems.Checkmark2.Visible=true;self.GuiElems.Middle.Visible=false end else if self.Style==0 then if mY then self.OutlineColorTween=service.TweenService:Create(self.GuiElems.Outline,k5(4/15,Enum.EasingStyle.Circular,Enum.EasingDirection.In),{BackgroundColor3=self.Colors.Secondary})self.OutlineColorTween:Play()delay(0.15,function()if n0~=self.LastSetStateTime then return end;self:Paint()mK(self.GuiElems.Checkmark,mI(0,20),"Out","Quad",1/15,true)end)else self.GuiElems.Outline.BackgroundColor3=self.Colors.Secondary;self:Paint()self.GuiElems.Checkmark.Size=mI(0,20)end;self:Expand(mY)else self:Paint()self.GuiElems.Checkmark2.Visible=false;self.GuiElems.Middle.Visible=self.Toggled==nil end end end;local hc={__index=funcs}local function i5(n1)local a0=setmetatable({Toggled=false,Disabled=false,OnInput=Lib.Signal.new(),Style=n1 or 0,Colors={Background=mF(36,36,36),Primary=mF(49,176,230),Secondary=mF(25,25,25),Disabled=mF(64,64,64),DisabledBackground=mF(52,52,52),DisabledCheck=mF(80,80,80)}},hc)mQ(a0)return a0 end;local function n2(iO)local a0=setmetatable({Toggled=false,Disabled=false,Colors={Background=mF(36,36,36),Primary=mF(49,176,230),Secondary=mF(25,25,25),Disabled=mF(64,64,64),DisabledBackground=mF(52,52,52)}},hc)mQ(a0,iO)return a0 end;return{new=i5,n2}end)()Lib.BrickColorPicker=(function()local funcs={}local n3=0;local aF=service.Players.LocalPlayer:GetMouse()local n4=4;local n5=27;local n6=1;local n7=8;local n8={Color3.fromRGB(17,17,17),Color3.fromRGB(99,95,98),Color3.fromRGB(163,162,165),Color3.fromRGB(205,205,205),Color3.fromRGB(223,223,222),Color3.fromRGB(237,234,234),Color3.fromRGB(27,42,53),Color3.fromRGB(91,93,105),Color3.fromRGB(159,161,172),Color3.fromRGB(202,203,209),Color3.fromRGB(231,231,236),Color3.fromRGB(248,248,248)}local function n9(na)local nb=aF.X-na.AbsolutePosition.X;local nc=aF.Y-na.AbsolutePosition.Y;if nb>=n4 and nb<n4+n5 then nb=nb-4;local nd=(13-math.min(nb,26-nb))/13;if nc>=n6+n7*nd and nc<na.AbsoluteSize.Y-n6-n7*nd then return true end end;return false end;local function ne(self,na,iN)na.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and n9(na)then self.OnSelect:Fire(iN)self:Close()end end)na.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement and n9(na)then self.OnPreview:Fire(iN)end end)end;local function jl(self)local hj=create({{1,"ScreenGui",{Name="BrickColor"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),Parent={1},Position=UDim2.new(0.40000000596046,0,0.40000000596046,0),Size=UDim2.new(0,337,0,380)}},{3,"TextButton",{BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="MoreColors",Parent={2},Position=UDim2.new(0,5,1,-30),Size=UDim2.new(1,-10,0,25),Text="More Colors",TextColor3=Color3.new(1,1,1),TextSize=14}},{4,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1281023007",ImageColor3=Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Name="Hex",Parent={2},Size=UDim2.new(0,35,0,35),Visible=false}}})local nf=hj.Frame;local na=nf.Hex;for me=1,13 do local ng=math.min(me,14-me)+6;for nh=1,ng do local ni=BrickColor.palette(n3).Color;local nj=na:Clone()nj.Position=UDim2.new(0,(nh-1)*25-(ng-7)*13+3*26+1,0,(me-1)*23+4)nj.ImageColor3=ni;nj.Visible=true;ne(self,nj,ni)nj.Parent=nf;n3=n3+1 end end;for nh=1,12 do local ni=n8[nh]local nj=na:Clone()nj.Position=UDim2.new(0,(nh-1)*25-(12-7)*13+3*26+3,0,308)nj.ImageColor3=ni;nj.Visible=true;ne(self,nj,ni)nj.Parent=nf;n3=n3+1 end;nf.MoreColors.MouseButton1Click:Connect(function()self.OnMoreColors:Fire()self:Close()end)self.Gui=hj end;funcs.SetMoreColorsVisible=function(self,k8)local nf=self.Gui.Frame;nf.Size=UDim2.new(0,337,0,380-(not k8 and 33 or 0))nf.MoreColors.Visible=k8 end;funcs.Show=function(self,bA,bB,nk)self.PrevColor=nk or self.PrevColor;local ks=false;local bA,bB=bA or aF.X,bB or aF.Y;local a9,je=aF.ViewSizeX,aF.ViewSizeY;Lib.ShowGui(self.Gui)local fi,k1=self.Gui.Frame.AbsoluteSize.X,self.Gui.Frame.AbsoluteSize.Y;if bA+fi>a9 then bA=self.ReverseX and bA-fi or a9-fi end;if bB+k1>je then ks=true end;local kt=false;if self.CloseEvent then self.CloseEvent:Disconnect()end;self.CloseEvent=service.UserInputService.InputBegan:Connect(function(aK)if not kt or aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;if not Lib.CheckMouseInGui(self.Gui.Frame)then self.CloseEvent:Disconnect()self:Close()end end)if ks then local ku=bB-k1-(self.ReverseYOffset or 0)bB=ku>=0 and ku or 0 end;self.Gui.Frame.Position=UDim2.new(0,bA,0,bB)Lib.FastWait()kt=true end;funcs.Close=function(self)self.Gui.Parent=nil;self.OnCancel:Fire()end;local hc={__index=funcs}local function i5()local a0=setmetatable({OnPreview=Lib.Signal.new(),OnSelect=Lib.Signal.new(),OnCancel=Lib.Signal.new(),OnMoreColors=Lib.Signal.new(),PrevColor=Color3.new(0,0,0)},hc)jl(a0)return a0 end;return{new=i5}end)()Lib.ColorPicker=(function()local funcs={}local function i5()local nl=setmetatable({},{})nl.OnSelect=Lib.Signal.new()nl.OnCancel=Lib.Signal.new()nl.OnPreview=Lib.Signal.new()local nm=create({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="BasicColors",Parent={1},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,180,0,200)}},{3,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,0,0,-5),Size=UDim2.new(1,0,0,26),Text="Basic Colors",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Blue",Parent={1},Position=UDim2.new(1,-63,0,255),Size=UDim2.new(0,52,0,16)}},{5,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={4},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{6,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={5},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={6},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{8,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={7},Size=UDim2.new(0,16,0,8)}},{9,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{10,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{11,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={8},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={6},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{13,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={12},Size=UDim2.new(0,16,0,8)}},{14,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{15,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={13},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{17,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={4},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Blue:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{18,"Frame",{BackgroundColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,ClipsDescendants=true,Name="ColorSpaceFrame",Parent={1},Position=UDim2.new(1,-261,0,4),Size=UDim2.new(0,222,0,202)}},{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),BorderSizePixel=0,Image="rbxassetid://1072518406",Name="ColorSpace",Parent={18},Position=UDim2.new(0,1,0,1),Size=UDim2.new(0,220,0,200)}},{20,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Scope",Parent={19},Position=UDim2.new(0,210,0,190),Size=UDim2.new(0,20,0,20)}},{21,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,9,0,0),Size=UDim2.new(0,2,0,20)}},{22,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Name="Line",Parent={20},Position=UDim2.new(0,0,0,9),Size=UDim2.new(0,20,0,2)}},{23,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="CustomColors",Parent={1},Position=UDim2.new(0,5,0,210),Size=UDim2.new(0,180,0,90)}},{24,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={23},Size=UDim2.new(1,0,0,20),Text="Custom Colors (RC = Set)",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{25,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Green",Parent={1},Position=UDim2.new(1,-63,0,233),Size=UDim2.new(0,52,0,16)}},{26,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={25},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{27,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={26},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{28,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={27},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{29,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={28},Size=UDim2.new(0,16,0,8)}},{30,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{31,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{32,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={29},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{33,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={27},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{34,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={33},Size=UDim2.new(0,16,0,8)}},{35,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{36,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{37,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={34},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{38,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={25},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Green:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{39,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Hue",Parent={1},Position=UDim2.new(1,-180,0,211),Size=UDim2.new(0,52,0,16)}},{40,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={39},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{41,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={40},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{42,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={41},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{43,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={42},Size=UDim2.new(0,16,0,8)}},{44,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{45,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{46,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={43},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{47,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={41},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{48,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={47},Size=UDim2.new(0,16,0,8)}},{49,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{50,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{51,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={48},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{52,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={39},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Hue:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{53,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="Preview",Parent={1},Position=UDim2.new(1,-260,0,211),Size=UDim2.new(0,35,1,-245)}},{54,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Red",Parent={1},Position=UDim2.new(1,-63,0,211),Size=UDim2.new(0,52,0,16)}},{55,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={54},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{56,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={55},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{57,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={56},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{58,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={57},Size=UDim2.new(0,16,0,8)}},{59,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{60,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{61,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={58},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{62,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={56},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{63,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={62},Size=UDim2.new(0,16,0,8)}},{64,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{65,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{66,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={63},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{67,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={54},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Red:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{68,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Sat",Parent={1},Position=UDim2.new(1,-180,0,233),Size=UDim2.new(0,52,0,16)}},{69,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={68},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{70,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={69},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{71,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={70},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{72,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={71},Size=UDim2.new(0,16,0,8)}},{73,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{74,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{75,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={72},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{76,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={70},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{77,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={76},Size=UDim2.new(0,16,0,8)}},{78,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{79,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{80,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={77},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{81,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={68},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Sat:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{82,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Val",Parent={1},Position=UDim2.new(1,-180,0,255),Size=UDim2.new(0,52,0,16)}},{83,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Font=3,Name="Input",Parent={82},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,50,0,16),Text="255",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{84,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={83},Position=UDim2.new(1,-16,0,0),Size=UDim2.new(0,16,1,0)}},{85,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Up",Parent={84},Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{86,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={85},Size=UDim2.new(0,16,0,8)}},{87,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,1)}},{88,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{89,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={86},Position=UDim2.new(0,6,0,5),Size=UDim2.new(0,5,0,1)}},{90,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="Down",Parent={84},Position=UDim2.new(0,0,0,8),Size=UDim2.new(1,0,0,8),Text="",TextSize=14}},{91,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={90},Size=UDim2.new(0,16,0,8)}},{92,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,8,0,5),Size=UDim2.new(0,1,0,1)}},{93,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,7,0,4),Size=UDim2.new(0,3,0,1)}},{94,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={91},Position=UDim2.new(0,6,0,3),Size=UDim2.new(0,5,0,1)}},{95,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={82},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Val:",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{96,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Cancel",Parent={1},Position=UDim2.new(1,-105,1,-28),Size=UDim2.new(0,100,0,25),Text="Cancel",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{97,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Ok",Parent={1},Position=UDim2.new(1,-210,1,-28),Size=UDim2.new(0,100,0,25),Text="OK",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{98,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Image="rbxassetid://1072518502",Name="ColorStrip",Parent={1},Position=UDim2.new(1,-30,0,5),Size=UDim2.new(0,13,0,200)}},{99,"Frame",{BackgroundColor3=Color3.new(0.3137255012989,0.3137255012989,0.3137255012989),BackgroundTransparency=1,BorderSizePixel=0,Name="ArrowFrame",Parent={1},Position=UDim2.new(1,-16,0,1),Size=UDim2.new(0,5,0,208)}},{100,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={99},Position=UDim2.new(0,-2,0,-4),Size=UDim2.new(0,8,0,16)}},{101,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,2,0,8),Size=UDim2.new(0,1,0,1)}},{102,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,3,0,7),Size=UDim2.new(0,1,0,3)}},{103,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,4,0,6),Size=UDim2.new(0,1,0,5)}},{104,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,5,0,5),Size=UDim2.new(0,1,0,7)}},{105,"Frame",{BackgroundColor3=Color3.new(0,0,0),BorderSizePixel=0,Parent={100},Position=UDim2.new(0,6,0,4),Size=UDim2.new(0,1,0,9)}}})local dz=Lib.Window.new()dz.Resizable=false;dz.Alignable=false;dz:SetTitle("Color Picker")dz:Resize(450,330)for Z,aB in pairs(nm:GetChildren())do aB.Parent=dz.GuiElems.Content end;nl.Window=dz;nl.Gui=dz.Gui;local nn=dz.Gui.Main;local no=nn.TopBar;local np=nn.Content;local nq=np.ColorSpaceFrame.ColorSpace;local nr=np.ColorStrip;local ns=np.Preview;local nt=np.BasicColors;local nu=np.CustomColors;local nv=np.Ok;local fE=np.Cancel;local nw=no.Close;local nx=nq.Scope;local ny=np.ArrowFrame.Arrow;local nz=np.Hue.Input;local nA=np.Sat.Input;local nB=np.Val.Input;local nC=np.Red.Input;local nD=np.Green.Input;local nE=np.Blue.Input;local il=cloneref(game:GetService("UserInputService"))local aF=cloneref(game:GetService("Players")).LocalPlayer:GetMouse()local nF,nG,a7=0,0,1;local nH,nI,nJ=1,1,1;local nK=Color3.new(0,0,0)local nL={Color3.new(0,0,0),Color3.new(0.66666668653488,0,0),Color3.new(0,0.33333334326744,0),Color3.new(0.66666668653488,0.33333334326744,0),Color3.new(0,0.66666668653488,0),Color3.new(0.66666668653488,0.66666668653488,0),Color3.new(0,1,0),Color3.new(0.66666668653488,1,0),Color3.new(0,0,0.49803924560547),Color3.new(0.66666668653488,0,0.49803924560547),Color3.new(0,0.33333334326744,0.49803924560547),Color3.new(0.66666668653488,0.33333334326744,0.49803924560547),Color3.new(0,0.66666668653488,0.49803924560547),Color3.new(0.66666668653488,0.66666668653488,0.49803924560547),Color3.new(0,1,0.49803924560547),Color3.new(0.66666668653488,1,0.49803924560547),Color3.new(0,0,1),Color3.new(0.66666668653488,0,1),Color3.new(0,0.33333334326744,1),Color3.new(0.66666668653488,0.33333334326744,1),Color3.new(0,0.66666668653488,1),Color3.new(0.66666668653488,0.66666668653488,1),Color3.new(0,1,1),Color3.new(0.66666668653488,1,1),Color3.new(0.33333334326744,0,0),Color3.new(1,0,0),Color3.new(0.33333334326744,0.33333334326744,0),Color3.new(1,0.33333334326744,0),Color3.new(0.33333334326744,0.66666668653488,0),Color3.new(1,0.66666668653488,0),Color3.new(0.33333334326744,1,0),Color3.new(1,1,0),Color3.new(0.33333334326744,0,0.49803924560547),Color3.new(1,0,0.49803924560547),Color3.new(0.33333334326744,0.33333334326744,0.49803924560547),Color3.new(1,0.33333334326744,0.49803924560547),Color3.new(0.33333334326744,0.66666668653488,0.49803924560547),Color3.new(1,0.66666668653488,0.49803924560547),Color3.new(0.33333334326744,1,0.49803924560547),Color3.new(1,1,0.49803924560547),Color3.new(0.33333334326744,0,1),Color3.new(1,0,1),Color3.new(0.33333334326744,0.33333334326744,1),Color3.new(1,0.33333334326744,1),Color3.new(0.33333334326744,0.66666668653488,1),Color3.new(1,0.66666668653488,1),Color3.new(0.33333334326744,1,1),Color3.new(1,1,1)}local nM={}local function nN(gd)local nb,nc,nO=219-nF*219,199-nG*199,199-a7*199;local nP=Color3.fromHSV(nF,nG,a7)if gd==2 or not gd then nz.Text=tostring(math.ceil(359*nF))nA.Text=tostring(math.ceil(255*nG))nB.Text=tostring(math.floor(255*a7))end;if gd==1 or not gd then nC.Text=tostring(math.floor(255*nH))nD.Text=tostring(math.floor(255*nI))nE.Text=tostring(math.floor(255*nJ))end;nK=Color3.new(nH,nI,nJ)nx.Position=UDim2.new(0,nb-9,0,nc-9)nr.ImageColor3=Color3.fromHSV(nF,nG,1)ny.Position=UDim2.new(0,-2,0,nO-4)ns.BackgroundColor3=nK;nl.Color=nK;nl.OnPreview:Fire(nK)end;local function nQ()local nb=aF.X-nq.AbsolutePosition.X;local nc=aF.Y-nq.AbsolutePosition.Y;if nb<0 then nb=0 elseif nb>219 then nb=219 end;if nc<0 then nc=0 elseif nc>199 then nc=199 end;nF=(219-nb)/219;nG=(199-nc)/199;local nP=Color3.fromHSV(nF,nG,a7)nH,nI,nJ=nP.r,nP.g,nP.b;nN()end;local function nR()local nc=aF.Y-nr.AbsolutePosition.Y;if nc<0 then nc=0 elseif nc>199 then nc=199 end;a7=(199-nc)/199;local nP=Color3.fromHSV(nF,nG,a7)nH,nI,nJ=nP.r,nP.g,nP.b;nN()end;local function nS(iO,c_)iO.ArrowFrame.Up.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then iO.ArrowFrame.Up.BackgroundTransparency=0.5 elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,nT;local nU=tick()local nV=true;local nW=tonumber(iO.Text)if not nW then return end;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()nV=false end)nW=nW+1;c_(nW)while nV do if tick()-nU>0.3 then nW=nW+1;c_(nW)end;wait(0.1)end end end)iO.ArrowFrame.Up.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then iO.ArrowFrame.Up.BackgroundTransparency=1 end end)iO.ArrowFrame.Down.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then iO.ArrowFrame.Down.BackgroundTransparency=0.5 elseif aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,nT;local nU=tick()local nV=true;local nW=tonumber(iO.Text)if not nW then return end;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()nV=false end)nW=nW-1;c_(nW)while nV do if tick()-nU>0.3 then nW=nW-1;c_(nW)end;wait(0.1)end end end)iO.ArrowFrame.Down.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then iO.ArrowFrame.Down.BackgroundTransparency=1 end end)end;nq.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,aL;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()aL:Disconnect()end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then nQ()end end)nQ()end end)nr.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then local aM,aL;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aM:Disconnect()aL:Disconnect()end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then nR()end end)nR()end end)local function nX(bx)local cc=tonumber(bx)if cc then nF=math.clamp(math.floor(cc),0,359)/359;local nP=Color3.fromHSV(nF,nG,a7)nH,nI,nJ=nP.r,nP.g,nP.b;nz.Text=tostring(nF*359)nN(1)end end;nz.FocusLost:Connect(function()nX(nz.Text)end)nS(nz,nX)local function nY(bx)local cc=tonumber(bx)if cc then nG=math.clamp(math.floor(cc),0,255)/255;local nP=Color3.fromHSV(nF,nG,a7)nH,nI,nJ=nP.r,nP.g,nP.b;nA.Text=tostring(nG*255)nN(1)end end;nA.FocusLost:Connect(function()nY(nA.Text)end)nS(nA,nY)local function nZ(bx)local cc=tonumber(bx)if cc then a7=math.clamp(math.floor(cc),0,255)/255;local nP=Color3.fromHSV(nF,nG,a7)nH,nI,nJ=nP.r,nP.g,nP.b;nB.Text=tostring(a7*255)nN(1)end end;nB.FocusLost:Connect(function()nZ(nB.Text)end)nS(nB,nZ)local function n_(bx)local cc=tonumber(bx)if cc then nH=math.clamp(math.floor(cc),0,255)/255;local o0=Color3.new(nH,nI,nJ)nF,nG,a7=Color3.toHSV(o0)nC.Text=tostring(nH*255)nN(2)end end;nC.FocusLost:Connect(function()n_(nC.Text)end)nS(nC,n_)local function o1(bx)local cc=tonumber(bx)if cc then nI=math.clamp(math.floor(cc),0,255)/255;local o0=Color3.new(nH,nI,nJ)nF,nG,a7=Color3.toHSV(o0)nD.Text=tostring(nI*255)nN(2)end end;nD.FocusLost:Connect(function()o1(nD.Text)end)nS(nD,o1)local function o2(bx)local cc=tonumber(bx)if cc then nJ=math.clamp(math.floor(cc),0,255)/255;local o0=Color3.new(nH,nI,nJ)nF,nG,a7=Color3.toHSV(o0)nE.Text=tostring(nJ*255)nN(2)end end;nE.FocusLost:Connect(function()o2(nE.Text)end)nS(nE,o2)local o3=Instance.new("TextButton")o3.Name="Choice"o3.Size=UDim2.new(0,25,0,18)o3.BorderColor3=Color3.fromRGB(55,55,55)o3.Text=""o3.AutoButtonColor=false;local me=0;local nh=0;for Z,aB in pairs(nL)do local o0=o3:Clone()o0.BackgroundColor3=aB;o0.Position=UDim2.new(0,1+30*nh,0,21+23*me)o0.MouseButton1Click:Connect(function()nH,nI,nJ=aB.r,aB.g,aB.b;local o0=Color3.new(nH,nI,nJ)nF,nG,a7=Color3.toHSV(o0)nN()end)o0.Parent=nt;nh=nh+1;if nh==6 then me=me+1;nh=0 end end;me=0;nh=0;for Z=1,12 do local iN=nM[Z]or Color3.new(0,0,0)local o0=o3:Clone()o0.BackgroundColor3=iN;o0.Position=UDim2.new(0,1+30*nh,0,20+23*me)o0.MouseButton1Click:Connect(function()local o4=nM[Z]or Color3.new(0,0,0)nH,nI,nJ=o4.r,o4.g,o4.b;nF,nG,a7=Color3.toHSV(o4)nN()end)o0.MouseButton2Click:Connect(function()nM[Z]=nK;o0.BackgroundColor3=nK end)o0.Parent=nu;nh=nh+1;if nh==6 then me=me+1;nh=0 end end;nv.MouseButton1Click:Connect(function()nl.OnSelect:Fire(nK)dz:Close()end)nv.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then nv.BackgroundTransparency=0.4 end end)nv.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then nv.BackgroundTransparency=0 end end)fE.MouseButton1Click:Connect(function()nl.OnCancel:Fire()dz:Close()end)fE.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then fE.BackgroundTransparency=0.4 end end)fE.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then fE.BackgroundTransparency=0 end end)nN()nl.SetColor=function(self,iN)nH,nI,nJ=iN.r,iN.g,iN.b;nF,nG,a7=Color3.toHSV(iN)nN()end;nl.Show=function(self)self.Window:Show()end;return nl end;return{new=i5}end)()Lib.NumberSequenceEditor=(function()local function i5()local nl=setmetatable({},{})nl.OnSelect=Lib.Signal.new()nl.OnCancel=Lib.Signal.new()nl.OnPreview=Lib.Signal.new()local nm=create({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,210),Size=UDim2.new(0,60,0,20)}},{3,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={2},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{4,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={2},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Time",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{5,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,210),Size=UDim2.new(0,80,0,20),Text="Close",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{6,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,210),Size=UDim2.new(0,80,0,20),Text="Reset",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{7,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,380,0,210),Size=UDim2.new(0,80,0,20),Text="Delete",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{8,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="NumberLineOutlines",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170)}},{9,"Frame",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),Name="NumberLine",Parent={1},Position=UDim2.new(0,10,0,20),Size=UDim2.new(1,-20,0,170)}},{10,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Value",Parent={1},Position=UDim2.new(0,170,0,210),Size=UDim2.new(0,60,0,20)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Value",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{12,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={10},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{13,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Envelope",Parent={1},Position=UDim2.new(0,300,0,210),Size=UDim2.new(0,60,0,20)}},{14,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={13},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,58,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{15,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={13},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Envelope",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}}})local dz=Lib.Window.new()dz.Resizable=false;dz:Resize(680,265)dz:SetTitle("NumberSequence Editor")nl.Window=dz;nl.Gui=dz.Gui;for Z,aB in pairs(nm:GetChildren())do aB.Parent=dz.GuiElems.Content end;local hj=dz.Gui;local nn=hj.Main;local no=nn.TopBar;local np=nn.Content;local o5=np.NumberLine;local o6=np.NumberLineOutlines;local o7=np.Time.Input;local fS=np.Value.Input;local o8=np.Envelope.Input;local o9=np.Delete;local oa=np.Reset;local nw=np.Close;local ob=no.Close;local oc={{1,0,3},{8,0.05,1},{5,0.6,2},{4,0.7,4},{6,1,4}}local kF={}local od={}local oe=oc[1]local of=oc[#oc]local og=nil;local oh=nil;local oi=nil;local il=cloneref(game:GetService("UserInputService"))local aF=cloneref(game:GetService("Players")).LocalPlayer:GetMouse()for Z=2,10 do local ho=Instance.new("Frame")ho.BackgroundTransparency=0.5;ho.BackgroundColor3=Color3.new(96/255,96/255,96/255)ho.BorderSizePixel=0;ho.Size=UDim2.new(0,1,1,0)ho.Position=UDim2.new((Z-1)/(11-1),0,0,0)ho.Parent=o6 end;for Z=2,4 do local ho=Instance.new("Frame")ho.BackgroundTransparency=0.5;ho.BackgroundColor3=Color3.new(96/255,96/255,96/255)ho.BorderSizePixel=0;ho.Size=UDim2.new(1,0,0,1)ho.Position=UDim2.new(0,0,(Z-1)/(5-1),0)ho.Parent=o6 end;local oj=Instance.new("Frame")oj.BackgroundColor3=Color3.new(0,0,0)oj.BorderSizePixel=0;oj.Size=UDim2.new(0,1,0,1)local ok=Instance.new("Frame")ok.BackgroundColor3=Color3.new(0,0,0)ok.BorderSizePixel=0;ok.Size=UDim2.new(0,1,0,0)for Z=1,o5.AbsoluteSize.X do local l8=ok:Clone()od[Z]=l8;l8.Name="E"..tostring(Z)l8.BackgroundTransparency=0.5;l8.BackgroundColor3=Color3.new(199/255,44/255,28/255)l8.Position=UDim2.new(0,Z-1,0,0)l8.Parent=o5 end;for Z=1,o5.AbsoluteSize.X do local l8=ok:Clone()kF[Z]=l8;l8.Name=tostring(Z)l8.Position=UDim2.new(0,Z-1,0,0)l8.Parent=o5 end;local ol=Instance.new("Frame")ol.BackgroundTransparency=1;ol.BackgroundColor3=Color3.new(0,0,0)ol.BorderSizePixel=0;ol.Size=UDim2.new(0,7,0,20)ol.Visible=false;ol.ZIndex=2;local om=Instance.new("Frame",ol)om.Name="Line"om.BackgroundColor3=Color3.new(0,0,0)om.BorderSizePixel=0;om.Position=UDim2.new(0,3,0,0)om.Size=UDim2.new(0,1,0,20)om.ZIndex=2;local on,oo=ol:Clone(),ol:Clone()on.Parent=o5;oo.Parent=o5;local function op()local oq={}for Z,aB in pairs(oc)do table.insert(oq,NumberSequenceKeypoint.new(aB[2],aB[1],aB[3]))end;nl.Sequence=NumberSequence.new(oq)nl.OnSelect:Fire(nl.Sequence)end;local function h_(cc,ot)local ou=10^ot;return math.floor(cc*ou+0.5)/ou end;local function ov(ow)if ow then oh=ow;local ox,oy,oz=ow[2],ow[1],ow[3]o7.Text=h_(ox,ox<0.01 and 5 or ox<0.1 and 4 or 3)fS.Text=h_(oy,oy<0.01 and 5 or oy<0.1 and 4 or oy<1 and 3 or 2)o8.Text=h_(oz,oz<0.01 and 5 or oz<0.1 and 4 or oy<1 and 3 or 2)local oA=o5.AbsoluteSize.Y*ow[3]/10;on.Position=UDim2.new(0,ow[4].Position.X.Offset-1,0,ow[4].Position.Y.Offset-oA-17)on.Visible=true;oo.Position=UDim2.new(0,ow[4].Position.X.Offset-1,0,ow[4].Position.Y.Offset+oA+2)oo.Visible=true end end;on.InputBegan:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 or not oh or Lib.CheckMouseInGui(oh[4].Select)then return end;local aL,aM;local oB=o5.AbsoluteSize.Y;local oC=math.abs(on.AbsolutePosition.Y-aF.Y)on.Line.Position=UDim2.new(0,2,0,0)on.Line.Size=UDim2.new(0,3,0,20)aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aL:Disconnect()aM:Disconnect()on.Line.Position=UDim2.new(0,3,0,0)on.Line.Size=UDim2.new(0,1,0,20)end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local oD=oh[4].AbsolutePosition.Y+2-(aF.Y-oC)-19;local oE=10*math.max(oD,0)/oB;local oF=math.min(oh[1],10-oh[1])oh[3]=math.min(oE,oF)nl:Redraw()op()ov(oh)end end)end)oo.InputBegan:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 or not oh or Lib.CheckMouseInGui(oh[4].Select)then return end;local aL,aM;local oB=o5.AbsoluteSize.Y;local oC=math.abs(oo.AbsolutePosition.Y-aF.Y)oo.Line.Position=UDim2.new(0,2,0,0)oo.Line.Size=UDim2.new(0,3,0,20)aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aL:Disconnect()aM:Disconnect()oo.Line.Position=UDim2.new(0,3,0,0)oo.Line.Size=UDim2.new(0,1,0,20)end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local oG=aF.Y+20-oC-(oh[4].AbsolutePosition.Y+2)-19;local oE=10*math.max(oG,0)/oB;local oF=math.min(oh[1],10-oh[1])oh[3]=math.min(oE,oF)nl:Redraw()op()ov(oh)end end)end)local function oH(ow)local oI=Instance.new("Frame")oI.Name="Point"oI.BorderSizePixel=0;oI.Size=UDim2.new(0,5,0,5)oI.Position=UDim2.new(0,math.floor((o5.AbsoluteSize.X-1)*ow[2])-2,0,o5.AbsoluteSize.Y*(10-ow[1])/10-2)oI.BackgroundColor3=Color3.new(0,0,0)local oJ=Instance.new("Frame")oJ.Name="Select"oJ.BackgroundTransparency=1;oJ.BackgroundColor3=Color3.new(199/255,44/255,28/255)oJ.Position=UDim2.new(0,-2,0,-2)oJ.Size=UDim2.new(0,9,0,9)oJ.Parent=oI;oI.Parent=o5;oJ.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then for Z,aB in pairs(oc)do aB[4].Select.BackgroundTransparency=1 end;oJ.BackgroundTransparency=0;ov(ow)end;if aK.UserInputType==Enum.UserInputType.MouseButton1 and not og then oh=ow;local aL,aM;og=true;oJ.BackgroundColor3=Color3.new(249/255,191/255,59/255)local oK=ow[3]aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aL:Disconnect()aM:Disconnect()og=nil;oJ.BackgroundColor3=Color3.new(199/255,44/255,28/255)end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local a9=o5.AbsoluteSize.X-1;local nb=aF.X-o5.AbsolutePosition.X;if nb<0 then nb=0 end;if nb>a9 then nb=a9 end;local je=o5.AbsoluteSize.Y-1;local nc=aF.Y-o5.AbsolutePosition.Y;if nc<0 then nc=0 end;if nc>je then nc=je end;if ow~=oe and ow~=of then ow[2]=nb/a9 end;ow[1]=10-nc/je*10;local oF=math.min(ow[1],10-ow[1])ow[3]=math.min(oK,oF)nl:Redraw()ov(ow)for Z,aB in pairs(oc)do aB[4].Select.BackgroundTransparency=1 end;oJ.BackgroundTransparency=0;op()end end)end end)return oI end;local function oL()for Z,aB in pairs(oc)do aB[4]=oH(aB)end end;local function oM(self)local oN=o5.AbsoluteSize;table.sort(oc,function(ac,ad)return ac[2]<ad[2]end)for Z,aB in pairs(oc)do aB[4].Position=UDim2.new(0,math.floor((oN.X-1)*aB[2])-2,0,(oN.Y-1)*(10-aB[1])/10-2)end;kF[1].Size=UDim2.new(0,1,0,0)for Z=1,#oc-1 do local oO=oc[Z]local oP=oc[Z+1]local aV=oP[4].Position.Y.Offset-oO[4].Position.Y.Offset;local aU=oP[4].Position.X.Offset-oO[4].Position.X.Offset;local oQ=aV/aU;local oR=oO[3]local oS=oP[3]local oT=math.abs(oQ)local oU=0;local oV=math.abs(oP[4].Position.Y.Offset-oO[4].Position.Y.Offset)for oW=math.min(oO[4].Position.X.Offset+1,oP[4].Position.X.Offset),oP[4].Position.X.Offset do if aU==0 and aV==0 then return end;local oX=math.floor(oT)local l8=kF[oW+3]if l8 then if oU+oX>oV then oX=oV-oU end;if math.sign(oQ)==-1 then l8.Position=UDim2.new(0,oW+2,0,oO[4].Position.Y.Offset+-(oU+oX)+2)else l8.Position=UDim2.new(0,oW+2,0,oO[4].Position.Y.Offset+oU+2)end;l8.Size=UDim2.new(0,1,0,math.max(oX,1))end;oU=oU+oX;oT=oT-oX+math.abs(oQ)local oY=(oW-oO[4].Position.X.Offset)/(oP[4].Position.X.Offset-oO[4].Position.X.Offset)local oZ=oR+(oS-oR)*oY;local o_=oZ/10*oN.Y;local l8=od[oW+3]if l8 then l8.Position=UDim2.new(0,oW+2,0,kF[oW+3].Position.Y.Offset-math.floor(o_))l8.Size=UDim2.new(0,1,0,math.floor(o_*2))end end end end;nl.Redraw=oM;local function p0(self,fN)oi=fN;for Z,aB in pairs(oc)do if aB[4]then aB[4]:Destroy()end end;oc={}for Z,aB in pairs(fN.Keypoints)do local oF=math.min(aB.Value,10-aB.Value)local oI={aB.Value,aB.Time,math.min(aB.Envelope,oF)}oI[4]=oH(oI)table.insert(oc,oI)end;oe=oc[1]of=oc[#oc]og=nil;oM()on.Visible=false;oo.Visible=false end;nl.SetSequence=p0;o7.FocusLost:Connect(function()local ow=oh;local cc=tonumber(o7.Text)if ow and cc and ow~=oe and ow~=of then cc=math.clamp(cc,0,1)ow[2]=cc;oM()op()ov(ow)end end)fS.FocusLost:Connect(function()local ow=oh;local cc=tonumber(fS.Text)if ow and cc then local oK=ow[3]cc=math.clamp(cc,0,10)ow[1]=cc;local oF=math.min(ow[1],10-ow[1])ow[3]=math.min(oK,oF)oM()op()ov(ow)end end)o8.FocusLost:Connect(function()local ow=oh;local cc=tonumber(o8.Text)if ow and cc then cc=math.clamp(cc,0,5)local oF=math.min(ow[1],10-ow[1])ow[3]=math.min(cc,oF)oM()op()ov(ow)end end)local function p1(db,p2)db.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then db.BackgroundTransparency=p2 and 0.5 or 0.4 end end)db.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then db.BackgroundTransparency=p2 and 1 or 0 end end)end;o5.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and#oc<20 then if Lib.CheckMouseInGui(on)or Lib.CheckMouseInGui(oo)then return end;for Z,aB in pairs(oc)do if Lib.CheckMouseInGui(aB[4].Select)then return end end;local a9=o5.AbsoluteSize.X-1;local nb=aF.X-o5.AbsolutePosition.X;if nb<0 then nb=0 end;if nb>a9 then nb=a9 end;local je=o5.AbsoluteSize.Y-1;local nc=aF.Y-o5.AbsolutePosition.Y;if nc<0 then nc=0 end;if nc>je then nc=je end;local lM=nb/a9;local oI={10-nc/je*10,lM,0}oI[4]=oH(oI)table.insert(oc,oI)oM()op()end end)o9.MouseButton1Click:Connect(function()if oh and oh~=oe and oh~=of then for Z,aB in pairs(oc)do if aB==oh then aB[4]:Destroy()table.remove(oc,Z)break end end;og=nil;oM()op()ov(oc[1])end end)oa.MouseButton1Click:Connect(function()if oi then nl:SetSequence(oi)op()end end)nw.MouseButton1Click:Connect(function()dz:Close()end)p1(o9)p1(oa)p1(nw)oL()oM()nl.Show=function(self)dz:Show()end;return nl end;return{new=i5}end)()Lib.ColorSequenceEditor=(function()local function i5()local nl=setmetatable({},{})nl.OnSelect=Lib.Signal.new()nl.OnCancel=Lib.Signal.new()nl.OnPreview=Lib.Signal.new()nl.OnPickColor=Lib.Signal.new()local nm=create({{1,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Content",Position=UDim2.new(0,0,0,20),Size=UDim2.new(1,0,1,-20)}},{2,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorLine",Parent={1},Position=UDim2.new(0,10,0,5),Size=UDim2.new(1,-20,0,70)}},{3,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderSizePixel=0,Name="Gradient",Parent={2},Size=UDim2.new(1,0,1,0)}},{4,"UIGradient",{Parent={3}}},{5,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Name="Arrows",Parent={1},Position=UDim2.new(0,1,0,73),Size=UDim2.new(1,-2,0,16)}},{6,"Frame",{BackgroundColor3=Color3.new(0,0,0),BackgroundTransparency=0.5,BorderSizePixel=0,Name="Cursor",Parent={1},Position=UDim2.new(0,10,0,0),Size=UDim2.new(0,1,0,80)}},{7,"Frame",{BackgroundColor3=Color3.new(0.14901961386204,0.14901961386204,0.14901961386204),BorderColor3=Color3.new(0.12549020349979,0.12549020349979,0.12549020349979),Name="Time",Parent={1},Position=UDim2.new(0,40,0,95),Size=UDim2.new(0,100,0,20)}},{8,"TextBox",{BackgroundColor3=Color3.new(0.25098040699959,0.25098040699959,0.25098040699959),BackgroundTransparency=1,BorderColor3=Color3.new(0.37647062540054,0.37647062540054,0.37647062540054),ClipsDescendants=true,Font=3,Name="Input",Parent={7},Position=UDim2.new(0,2,0,0),Size=UDim2.new(0,98,0,20),Text="0",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=0}},{9,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={7},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Time",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{10,"Frame",{BackgroundColor3=Color3.new(1,1,1),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),Name="ColorBox",Parent={1},Position=UDim2.new(0,220,0,95),Size=UDim2.new(0,20,0,20)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Title",Parent={10},Position=UDim2.new(0,-40,0,0),Size=UDim2.new(0,34,1,0),Text="Color",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14,TextXAlignment=1}},{12,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Close",Parent={1},Position=UDim2.new(1,-90,0,95),Size=UDim2.new(0,80,0,20),Text="Close",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{13,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Reset",Parent={1},Position=UDim2.new(1,-180,0,95),Size=UDim2.new(0,80,0,20),Text="Reset",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{14,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderColor3=Color3.new(0.21568627655506,0.21568627655506,0.21568627655506),BorderSizePixel=0,Font=3,Name="Delete",Parent={1},Position=UDim2.new(0,280,0,95),Size=UDim2.new(0,80,0,20),Text="Delete",TextColor3=Color3.new(0.86274516582489,0.86274516582489,0.86274516582489),TextSize=14}},{15,"Frame",{BackgroundTransparency=1,Name="Arrow",Parent={1},Size=UDim2.new(0,16,0,16),Visible=false}},{16,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,8,0,3),Size=UDim2.new(0,1,0,2)}},{17,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,7,0,5),Size=UDim2.new(0,3,0,2)}},{18,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,2)}},{19,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,5,0,9),Size=UDim2.new(0,7,0,2)}},{20,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={15},Position=UDim2.new(0,4,0,11),Size=UDim2.new(0,9,0,2)}}})local dz=Lib.Window.new()dz.Resizable=false;dz:Resize(650,150)dz:SetTitle("ColorSequence Editor")nl.Window=dz;nl.Gui=dz.Gui;for Z,aB in pairs(nm:GetChildren())do aB.Parent=dz.GuiElems.Content end;local hj=dz.Gui;local nn=hj.Main;local no=nn.TopBar;local np=nn.Content;local p3=np.ColorLine;local fV=p3.Gradient.UIGradient;local hn=np.Arrows;local p4=np.Arrow;local kZ=np.Cursor;local o7=np.Time.Input;local p5=np.ColorBox;local o9=np.Delete;local oa=np.Reset;local nw=np.Close;local ob=no.Close;local il=cloneref(game:GetService("UserInputService"))local aF=cloneref(game:GetService("Players")).LocalPlayer:GetMouse()local mE={{Color3.new(1,0,1),0},{Color3.new(0.2,0.9,0.2),0.2},{Color3.new(0.4,0.5,0.9),0.7},{Color3.new(0.6,1,1),1}}local oi=nil;local oe=mE[1]local of=mE[#mE]local og=nil;local oh=nil;local ok=Instance.new("Frame")ok.BorderSizePixel=0;ok.Size=UDim2.new(0,1,1,0)nl.Sequence=ColorSequence.new(Color3.new(1,1,1))local function op(gd)local oq={}table.sort(mE,function(ac,ad)return ac[2]<ad[2]end)for Z,aB in pairs(mE)do table.insert(oq,ColorSequenceKeypoint.new(aB[2],aB[1]))end;nl.Sequence=ColorSequence.new(oq)if not gd then nl.OnSelect:Fire(nl.Sequence)end end;local function h_(cc,ot)local ou=10^ot;return math.floor(cc*ou+0.5)/ou end;local function ov(ow)if ow then oh=ow;local lM=ow[2]o7.Text=h_(lM,lM<0.01 and 5 or lM<0.1 and 4 or 3)p5.BackgroundColor3=ow[1]end end;local function p6(br,ow)local p7=p4:Clone()p7.Position=UDim2.new(0,br-1,0,0)p7.Visible=true;p7.Parent=hn;p7.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then kZ.Visible=true;kZ.Position=UDim2.new(0,9+p7.Position.X.Offset,0,0)end;if aK.UserInputType==Enum.UserInputType.MouseButton1 then ov(ow)if ow==oe or ow==of or og then return end;local aL,aM;og=true;aM=il.InputEnded:Connect(function(aK)if aK.UserInputType~=Enum.UserInputType.MouseButton1 then return end;aL:Disconnect()aM:Disconnect()og=nil;kZ.Visible=false end)aL=il.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local oB=p3.AbsoluteSize.X-1;local nb=aF.X-p3.AbsolutePosition.X;if nb<0 then nb=0 end;if nb>oB then nb=oB end;local lM=nb/oB;ow[2]=nb/oB;ov(ow)kZ.Visible=true;kZ.Position=UDim2.new(0,9+p7.Position.X.Offset,0,0)op()nl:Redraw()end end)end end)p7.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then kZ.Visible=false end end)return p7 end;local function p8()for Z,aB in pairs(mE)do aB[3]=p6(math.floor((p3.AbsoluteSize.X-1)*aB[2])+1,aB)end end;local function oM(self)fV.Color=nl.Sequence or ColorSequence.new(Color3.new(1,1,1))for Z=2,#mE do local ni=mE[Z]local mb=math.floor((p3.AbsoluteSize.X-1)*ni[2])+1;ni[3].Position=UDim2.new(0,mb,0,0)end end;nl.Redraw=oM;local function p0(self,fN)oi=fN;for Z,aB in pairs(mE)do if aB[3]then aB[3]:Destroy()end end;mE={}og=nil;for Z,aB in pairs(fN.Keypoints)do local oI={aB.Value,aB.Time}oI[3]=p6(aB.Time,oI)table.insert(mE,oI)end;oe=mE[1]of=mE[#mE]og=nil;ov(mE[1])op(true)oM()end;nl.SetSequence=p0;local function p1(db,p2)db.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then db.BackgroundTransparency=p2 and 0.5 or 0.4 end end)db.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then db.BackgroundTransparency=p2 and 1 or 0 end end)end;p3.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and#mE<20 then local oB=p3.AbsoluteSize.X-1;local nb=aF.X-p3.AbsolutePosition.X;if nb<0 then nb=0 end;if nb>oB then nb=oB end;local lM=nb/oB;local p9=nil;local pa=nil;for Z,fJ in pairs(mE)do if fJ[2]>=lM then p9=mE[math.max(Z-1,1)]pa=mE[Z]break end end;local pb=p9[1]:lerp(pa[1],(lM-p9[2])/(pa[2]-p9[2]))local oI={pb,lM}oI[3]=p6(oI[2],oI)table.insert(mE,oI)ov(oI)op()oM()end end)p3.InputChanged:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local oB=p3.AbsoluteSize.X-1;local nb=aF.X-p3.AbsolutePosition.X;if nb<0 then nb=0 end;if nb>oB then nb=oB end;kZ.Visible=true;kZ.Position=UDim2.new(0,10+nb,0,0)end end)p3.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then local pc=false;for Z,aB in pairs(mE)do if Lib.CheckMouseInGui(aB[3])then pc=aB[3]end end;kZ.Visible=pc and true or false;if pc then kZ.Position=UDim2.new(0,9+pc.Position.X.Offset,0,0)end end end)o7:GetPropertyChangedSignal("Text"):Connect(function()local ow=oh;local cc=tonumber(o7.Text)if ow and cc and ow~=oe and ow~=of then cc=math.clamp(cc,0,1)ow[2]=cc;op()oM()end end)p5.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 then local fK=nl.ColorPicker;if not fK then fK=Lib.ColorPicker.new()fK.Window:SetTitle("ColorSequence Color Picker")fK.OnSelect:Connect(function(fJ)if oh then oh[1]=fJ end;op()oM()end)nl.ColorPicker=fK end;fK.Window:ShowAndFocus()end end)o9.MouseButton1Click:Connect(function()if oh and oh~=oe and oh~=of then for Z,aB in pairs(mE)do if aB==oh then aB[3]:Destroy()table.remove(mE,Z)break end end;og=nil;ov(mE[1])op()oM()end end)oa.MouseButton1Click:Connect(function()if oi then nl:SetSequence(oi)end end)nw.MouseButton1Click:Connect(function()dz:Close()end)ob.MouseButton1Click:Connect(function()dz:Close()end)p1(o9)p1(oa)p1(nw)p8()oM()nl.Show=function(self)dz:Show()end;return nl end;return{new=i5}end)()Lib.ViewportTextBox=(function()local pd=cloneref(game:GetService("TextService"))local dD={OffsetX=0,TextBox=h9,CursorPos=-1,Gui=h9,View=h9}local funcs={}funcs.Update=function(self)local pe=self.CursorPos or-1;local kk=self.TextBox.Text;if kk==""then self.TextBox.Position=UDim2.new(0,0,0,0)return end;if pe==-1 then return end;local pf=kk:sub(1,pe-1)local pos=nil;local pg=-self.TextBox.Position.X.Offset;local ph=pg+self.View.AbsoluteSize.X;local pi=pd:GetTextSize(kk,self.TextBox.TextSize,self.TextBox.Font,Vector2.new(999999999,100)).X;local pj=pd:GetTextSize(pf,self.TextBox.TextSize,self.TextBox.Font,Vector2.new(999999999,100)).X;if pj>ph then pos=math.max(-1,pj-self.View.AbsoluteSize.X+2)elseif pj<pg then pos=math.max(-1,pj-2)elseif pi<ph then pos=math.max(-1,pi-self.View.AbsoluteSize.X+2)end;if pos then self.TextBox.Position=UDim2.new(0,-pos,0,0)self.TextBox.Size=UDim2.new(1,pos,1,0)end end;funcs.GetText=function(self)return self.TextBox.Text end;funcs.SetText=function(self,kk)self.TextBox.Text=kk end;local hc=hf(dD,funcs)local function pk(pl)local a0=hb(dD,hc)local pm=Instance.new("Frame")pm.BackgroundTransparency=pl.BackgroundTransparency;pm.BackgroundColor3=pl.BackgroundColor3;pm.BorderSizePixel=pl.BorderSizePixel;pm.BorderColor3=pl.BorderColor3;pm.Position=pl.Position;pm.Size=pl.Size;pm.ClipsDescendants=true;pm.Name=pl.Name;pl.BackgroundTransparency=1;pl.Position=UDim2.new(0,0,0,0)pl.Size=UDim2.new(1,0,1,0)pl.TextXAlignment=Enum.TextXAlignment.Left;pl.Name="Input"a0.TextBox=pl;a0.View=pm;a0.Gui=pm;pl.Changed:Connect(function(b1)if b1=="Text"or b1=="CursorPosition"or b1=="AbsoluteSize"then local pe=a0.TextBox.CursorPosition;if pe~=-1 then a0.CursorPos=pe end;a0:Update()end end)a0:Update()pm.Parent=pl.Parent;pl.Parent=pm;return a0 end;local function i5()local pn=Instance.new("TextBox")pn.Size=UDim2.new(0,100,0,20)pn.BackgroundColor3=Settings.Theme.TextBox;pn.BorderColor3=Settings.Theme.Outline3;pn.ClearTextOnFocus=false;pn.TextColor3=Settings.Theme.Text;pn.Font=Enum.Font.SourceSans;pn.TextSize=14;pn.Text=""return pk(pn)end;return{new=i5,convert=pk}end)()Lib.Label=(function()local dD,funcs={},{}local hc=hf(dD,funcs)local function i5()local gM=Instance.new("TextLabel")gM.BackgroundTransparency=1;gM.TextXAlignment=Enum.TextXAlignment.Left;gM.TextColor3=Settings.Theme.Text;gM.TextTransparency=0.1;gM.Size=UDim2.new(0,100,0,20)gM.Font=Enum.Font.SourceSans;gM.TextSize=14;local a0=setmetatable({Gui=gM},hc)return a0 end;return{new=i5}end)()Lib.Frame=(function()local dD,funcs={},{}local hc=hf(dD,funcs)local function i5()local po=Instance.new("Frame")po.BackgroundColor3=Settings.Theme.Main1;po.BorderColor3=Settings.Theme.Outline1;po.Size=UDim2.new(0,50,0,50)local a0=setmetatable({Gui=po},hc)return a0 end;return{new=i5}end)()Lib.Button=(function()local dD={Gui=h9,Anim=h9,Disabled=false,OnClick=ha,OnDown=ha,OnUp=ha,AllowedButtons={1}}local funcs={}local bO=table.find;funcs.Trigger=function(self,pp,db)if not self.Disabled and bO(self.AllowedButtons,db)then self["On"..pp]:Fire(db)end end;funcs.SetDisabled=function(self,pq)self.Disabled=pq;if pq then self.Anim:Disable()self.Gui.TextTransparency=0.5 else self.Anim.Enable()self.Gui.TextTransparency=0 end end;local hc=hf(dD,funcs)local function i5()local ad=Instance.new("TextButton")ad.AutoButtonColor=false;ad.TextColor3=Settings.Theme.Text;ad.TextTransparency=0.1;ad.Size=UDim2.new(0,100,0,20)ad.Font=Enum.Font.SourceSans;ad.TextSize=14;ad.BackgroundColor3=Settings.Theme.Button;ad.BorderColor3=Settings.Theme.Outline2;local a0=hb(dD,hc)a0.Gui=ad;a0.Anim=Lib.ButtonAnim(ad,{Mode=2,StartColor=Settings.Theme.Button,HoverColor=Settings.Theme.ButtonHover,PressColor=Settings.Theme.ButtonPress,OutlineColor=Settings.Theme.Outline2})ad.MouseButton1Click:Connect(function()a0:Trigger("Click",1)end)ad.MouseButton1Down:Connect(function()a0:Trigger("Down",1)end)ad.MouseButton1Up:Connect(function()a0:Trigger("Up",1)end)ad.MouseButton2Click:Connect(function()a0:Trigger("Click",2)end)ad.MouseButton2Down:Connect(function()a0:Trigger("Down",2)end)ad.MouseButton2Up:Connect(function()a0:Trigger("Up",2)end)return a0 end;return{new=i5}end)()Lib.DropDown=(function()local dD={Gui=h9,Anim=h9,Context=h9,Selected=h9,Disabled=false,CanBeEmpty=true,Options={},GuiElems={},OnSelect=ha}local funcs={}funcs.Update=function(self)local pr=self.Options;if#pr>0 then if not self.Selected then if not self.CanBeEmpty then self.Selected=pr[1]self.GuiElems.Label.Text=pr[1]else self.GuiElems.Label.Text="- Select -"end else self.GuiElems.Label.Text=self.Selected end else self.GuiElems.Label.Text="- Select -"end end;funcs.ShowOptions=function(self)local b6=self.Context;b6.Width=self.Gui.AbsoluteSize.X;b6.ReverseYOffset=self.Gui.AbsoluteSize.Y;b6:Show(self.Gui.AbsolutePosition.X,self.Gui.AbsolutePosition.Y+b6.ReverseYOffset)end;funcs.SetOptions=function(self,ps)self.Options=ps;local b6=self.Context;local pr=self.Options;b6:Clear()local c2=function(pt)self.Selected=pt;self.OnSelect:Fire(pt)self:Update()end;if self.CanBeEmpty then b6:Add({Name="- Select -",OnClick=function()self.Selected=nil;self.OnSelect:Fire(nil)self:Update()end})end;for Z=1,#pr do b6:Add({Name=pr[Z],OnClick=c2})end;self:Update()end;funcs.SetSelected=function(self,pu)self.Selected=type(pu)=="number"and self.Options[pu]or pu;self:Update()end;local hc=hf(dD,funcs)local function i5()local i1=Instance.new("TextButton")i1.AutoButtonColor=false;i1.Text=""i1.Size=UDim2.new(0,100,0,20)i1.BackgroundColor3=Settings.Theme.TextBox;i1.BorderColor3=Settings.Theme.Outline3;local gM=Lib.Label.new()gM.Position=UDim2.new(0,2,0,0)gM.Size=UDim2.new(1,-22,1,0)gM.TextTruncate=Enum.TextTruncate.AtEnd;gM.Parent=i1;local p4=create({{1,"Frame",{BackgroundTransparency=1,Name="EnumArrow",Position=UDim2.new(1,-16,0,2),Size=UDim2.new(0,16,0,16)}},{2,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,8,0,9),Size=UDim2.new(0,1,0,1)}},{3,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,7,0,8),Size=UDim2.new(0,3,0,1)}},{4,"Frame",{BackgroundColor3=Color3.new(0.86274510622025,0.86274510622025,0.86274510622025),BorderSizePixel=0,Parent={1},Position=UDim2.new(0,6,0,7),Size=UDim2.new(0,5,0,1)}}})p4.Parent=i1;local a0=hb(dD,hc)a0.Gui=i1;a0.Anim=Lib.ButtonAnim(i1,{Mode=2,StartColor=Settings.Theme.TextBox,LerpTo=Settings.Theme.Button,LerpDelta=0.15})a0.Context=Lib.ContextMenu.new()a0.Context.Iconless=true;a0.Context.MaxHeight=200;a0.Selected=nil;a0.GuiElems={Label=gM}i1.MouseButton1Down:Connect(function()a0:ShowOptions()end)a0:Update()return a0 end;return{new=i5}end)()Lib.ClickSystem=(function()local dD={LastItem=h9,OnDown=ha,OnRelease=ha,AllowedButtons={1},Combo=0,MaxCombo=2,ComboTime=0.5,Items={},ItemCons={},ClickId=-1,LastButton=""}local funcs={}local tostring=tostring;local i4=function(hW)local pos=table.find(hW.Signal.Connections,hW)if pos then table.remove(hW.Signal.Connections,pos)end end;funcs.Trigger=function(self,d9,db)if table.find(self.AllowedButtons,db)then if self.LastButton~=db or self.LastItem~=d9 or self.Combo==self.MaxCombo or tick()-self.ClickId>self.ComboTime then self.Combo=0;self.LastButton=db;self.LastItem=d9 end;self.Combo=self.Combo+1;self.ClickId=tick()local mX;mX=service.UserInputService.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType["MouseButton"..db]then mX:Disconnect()if Lib.CheckMouseInGui(d9)and self.LastButton==db and self.LastItem==d9 then self["OnRelease"]:Fire(d9,self.Combo,db)end end end)self["OnDown"]:Fire(d9,self.Combo,db)end end;funcs.Add=function(self,d9)if table.find(self.Items,d9)then return end;local pv={}pv[1]=d9.MouseButton1Down:Connect(function()self:Trigger(d9,1)end)pv[2]=d9.MouseButton2Down:Connect(function()self:Trigger(d9,2)end)self.ItemCons[d9]=pv;self.Items[#self.Items+1]=d9 end;funcs.Remove=function(self,d9)local br=table.find(self.Items,d9)if not br then return end;for Z,aB in pairs(self.ItemCons[d9])do aB:Disconnect()end;self.ItemCons[d9]=nil;table.remove(self.Items,br)end;local hc={__index=funcs}local function i5()local a0=hb(dD,hc)return a0 end;return{new=i5}end)()return Lib end;return{InitDeps=c,InitAfterMain=e,Main=f}end;local Main,Explorer,Properties,ScriptViewer,pw,Notebook,px,Lib;local API,RMD;pw=(function()local py=Color3.fromRGB;return{Explorer={_Recurse=true,Sorting=true,TeleportToOffset=Vector3.new(0,0,0),ClickToRename=true,AutoUpdateSearch=true,AutoUpdateMode=0,PartSelectionBox=true,GuiSelectionBox=true,CopyPathUseGetChildren=true},Properties={_Recurse=true,MaxConflictCheck=50,ShowDeprecated=false,ShowHidden=false,ClearOnFocus=false,LoadstringInput=true,NumberRounding=3,ShowAttributes=false,MaxAttributes=50,ScaleType=1},Theme={_Recurse=true,Main1=py(52,52,52),Main2=py(45,45,45),Outline1=py(33,33,33),Outline2=py(55,55,55),Outline3=py(30,30,30),TextBox=py(38,38,38),Menu=py(32,32,32),ListSelection=py(11,90,175),Button=py(60,60,60),ButtonHover=py(68,68,68),ButtonPress=py(40,40,40),Highlight=py(75,75,75),Text=py(255,255,255),PlaceholderText=py(100,100,100),Important=py(255,0,0),ExplorerIconMap="",MiscIconMap="",Syntax={Text=py(204,204,204),Background=py(36,36,36),Selection=py(255,255,255),SelectionBack=py(11,90,175),Operator=py(204,204,204),Number=py(255,198,0),String=py(173,241,149),Comment=py(102,102,102),Keyword=py(248,109,124),Error=py(255,0,0),FindBackground=py(141,118,0),MatchingWord=py(85,85,85),BuiltIn=py(132,214,247),CurrentLine=py(45,50,65),LocalMethod=py(253,251,172),LocalProperty=py(97,161,241),Nil=py(255,198,0),Bool=py(255,198,0),Function=py(248,109,124),Local=py(248,109,124),Self=py(248,109,124),FunctionName=py(253,251,172),Bracket=py(204,204,204)}}}end)()local Settings={}local Apps={}local env={}local service=setmetatable({},{__index=function(self,eU)local pz=cloneref(game:GetService(eU))self[eU]=pz;return pz end})local plr=service.Players.LocalPlayer or service.Players.PlayerAdded:wait()local create=function(d)local Y={}for Z,aB in pairs(d)do Y[aB[1]]=Instance.new(aB[2])end;for _,aB in pairs(d)do for b1,a7 in pairs(aB[3])do if type(a7)=="table"then Y[aB[1]][b1]=Y[a7[1]]else Y[aB[1]][b1]=a7 end end end;return Y[1]end;local createSimple=function(bc,dD)local bg=Instance.new(bc)for Z,aB in next,dD do bg[Z]=aB end;return bg end;Main=(function()local Main={}Main.ModuleList={"Explorer","Properties","ScriptViewer"}Main.Elevated=false;Main.MissingEnv={}Main.Version=""Main.Mouse=plr:GetMouse()Main.AppControls={}Main.Apps=Apps;Main.MenuApps={}Main.DisplayOrders={SideWindow=8,Window=10,Menu=100000,Core=101000}Main.GetInitDeps=function()return{Main=Main,Lib=Lib,Apps=Apps,Settings=Settings,API=API,RMD=RMD,env=env,service=service,plr=plr,create=create,createSimple=createSimple}end;Main.Error=function(bx)if rconsoleprint then rconsoleprint("DEX ERROR: "..tostring(bx).."\n")wait(9e9)else error(bx)end end;Main.LoadModule=function(eU)if Main.Elevated then local hN;if EmbeddedModules then hN=EmbeddedModules[eU]()if not hN then Main.Error("Missing Embedded Module: "..eU)end end;Main.AppControls[eU]=hN;hN.InitDeps(Main.GetInitDeps())local pA=hN.Main()Apps[eU]=pA;return pA else local module=script:WaitForChild("Modules"):WaitForChild(eU,2)if not module then Main.Error("CANNOT FIND MODULE "..eU)end;local hN=require(module)Main.AppControls[eU]=hN;hN.InitDeps(Main.GetInitDeps())local pA=hN.Main()Apps[eU]=pA;return pA end end;Main.LoadModules=function()for Z,aB in pairs(Main.ModuleList)do local bh,hI=pcall(Main.LoadModule,aB)if not bh then Main.Error("FAILED LOADING "+aB+" CAUSE "+hI)end end;Explorer=Apps.Explorer;Properties=Apps.Properties;ScriptViewer=Apps.ScriptViewer;Notebook=Apps.Notebook;local pB={Explorer=Explorer,Properties=Properties,ScriptViewer=ScriptViewer,Notebook=Notebook}Main.AppControls.Lib.InitAfterMain(pB)for Z,aB in pairs(Main.ModuleList)do local hN=Main.AppControls[aB]if hN then hN.InitAfterMain(pB)end end end;Main.InitEnv=function()setmetatable(env,{__newindex=function(self,eU,c_)if not c_ then Main.MissingEnv[#Main.MissingEnv+1]=eU;return end;rawset(self,eU,c_)end})env.readfile=readfile;env.writefile=writefile;env.appendfile=appendfile;env.makefolder=makefolder;env.listfiles=listfiles;env.loadfile=loadfile;env.movefileas=movefileas;env.saveinstance=saveinstance;env.getupvalues=debug and debug.getupvalues or getupvalues or getupvals;env.getconstants=debug and debug.getconstants or getconstants or getconsts;env.getinfo=debug and(debug.getinfo or debug.info)or getinfo;env.islclosure=islclosure or is_l_closure or is_lclosure;env.checkcaller=checkcaller;env.getgc=getgc or get_gc_objects;env.base64encode=crypt and crypt.base64 and crypt.base64.encode;env.getscriptbytecode=getscriptbytecode;env.request=syn and syn.request or http and http.request or http_request or fluxus and fluxus.request or request;env.decompile=decompile or env.getscriptbytecode and env.request and env.base64encode and function(bC)local bh,pC=pcall(env.getscriptbytecode,bC)if not bh then return"failed to get bytecode "..tostring(pC)end;local pD=env.request({Url="https://unluau.lonegladiator.dev/unluau/decompile",Method="POST",Headers={["Content-Type"]="application/json"},Body=service.HttpService:JSONEncode({version=5,bytecode=env.base64encode(pC)})})local pE=service.HttpService:JSONDecode(pD.Body)if pE.status~="ok"then return"decompilation failed: "..tostring(pE.status)end;return pE.output end;env.protectgui=protect_gui or syn and syn.protect_gui;env.gethui=gethui or get_hidden_gui;env.setclipboard=setclipboard or toclipboard or set_clipboard or Clipboard and Clipboard.set;env.getnilinstances=getnilinstances or get_nil_instances;env.getloadedmodules=getloadedmodules;Main.GuiHolder=Main.Elevated and service.CoreGui or plr:FindFirstChildWhichIsA("PlayerGui")setmetatable(env,nil)end;Main.LoadSettings=function()local bh,d=pcall(env.readfile or error,"DexSettings.json")if bh and d and d~=""then local bh,pE=service.HttpService:JSONDecode(d)if bh and pE then for Z,aB in next,pE do end else end else Main.ResetSettings()end end;Main.ResetSettings=function()local function a2(cx,hd)for jW,a7 in pairs(cx)do if type(a7)=="table"and a7._Recurse then if type(hd[jW])~="table"then hd[jW]={}end;a2(a7,hd[jW])else hd[jW]=a7 end end;return hd end;a2(pw,Settings)end;Main.FetchAPI=function()local pF,pG;if Main.Elevated then if Main.LocalDepsUpToDate()then local pH=Lib.ReadFile("dex/rbx_api.dat")if pH then pG=pH else Main.DepsVersionData[1]=""end end;pG=pG or game:HttpGet("http://setup.roblox.com/"..Main.RobloxVersion.."-API-Dump.json")else if script:FindFirstChild("API")then pG=require(script.API)else error("NO API EXISTS")end end;Main.RawAPI=pG;pF=service.HttpService:JSONDecode(pG)local c0,kB={},{}local dC,pI={},{}local function pJ(cx,d9,pK)local pL=table.find(cx,d9)if not pL then return end;table.remove(cx,pL)local pos=table.find(cx,pK)if not pos then return end;table.insert(cx,pos,d9)end;for _,bc in pairs(pF.Classes)do local pM={}pM.Name=bc.Name;pM.Superclass=bc.Superclass;pM.Properties={}pM.Functions={}pM.Events={}pM.Callbacks={}pM.Tags={}if bc.Tags then for bk,pN in pairs(bc.Tags)do pM.Tags[pN]=true end end;for pO,pP in pairs(bc.Members)do local pQ={}pQ.Name=pP.Name;pQ.Class=bc.Name;pQ.Security=pP.Security;pQ.Tags={}if pP.Tags then for bk,pN in pairs(pP.Tags)do pQ.Tags[pN]=true end end;local pR=pP.MemberType;if pR=="Property"then local pS=pP.Category or"Other"pS=pS:match("^%s*(.-)%s*$")if not pI[pS]then dC[#dC+1]=pS;pI[pS]=true end;pQ.ValueType=pP.ValueType;pQ.Category=pS;pQ.Serialization=pP.Serialization;table.insert(pM.Properties,pQ)elseif pR=="Function"then pQ.Parameters={}pQ.ReturnType=pP.ReturnType.Name;for bk,pT in pairs(pP.Parameters)do table.insert(pQ.Parameters,{Name=pT.Name,Type=pT.Type.Name})end;table.insert(pM.Functions,pQ)elseif pR=="Event"then pQ.Parameters={}for bk,pT in pairs(pP.Parameters)do table.insert(pQ.Parameters,{Name=pT.Name,Type=pT.Type.Name})end;table.insert(pM.Events,pQ)end end;c0[bc.Name]=pM end;for _,bc in pairs(c0)do bc.Superclass=c0[bc.Superclass]end;for _,fG in pairs(pF.Enums)do local pU={}pU.Name=fG.Name;pU.Items={}pU.Tags={}if fG.Tags then for bk,pN in pairs(fG.Tags)do pU.Tags[pN]=true end end;for pO,d9 in pairs(fG.Items)do local kj={}kj.Name=d9.Name;kj.Value=d9.Value;table.insert(pU.Items,kj)end;kB[fG.Name]=pU end;local function pV(bc,pP)if not c0[bc]or not c0[bc][pP]then return end;local e0={}local pW=c0[bc]while pW do for _,aJ in pairs(pW[pP])do e0[#e0+1]=aJ end;pW=pW.Superclass end;table.sort(e0,function(ac,ad)return ac.Name<ad.Name end)return e0 end;pJ(dC,"Behavior","Tuning")pJ(dC,"Appearance","Data")pJ(dC,"Attachments","Axes")pJ(dC,"Cylinder","Slider")pJ(dC,"Localization","Jump Settings")pJ(dC,"Surface","Motion")pJ(dC,"Surface Inputs","Surface")pJ(dC,"Part","Surface Inputs")pJ(dC,"Assembly","Surface Inputs")pJ(dC,"Character","Controls")dC[#dC+1]="Unscriptable"dC[#dC+1]="Attributes"local pX={}for Z=1,#dC do pX[dC[Z]]=Z end;return{Classes=c0,Enums=kB,CategoryOrder=pX,GetMember=pV}end;Main.FetchRMD=function()local pY;if Main.Elevated then if Main.LocalDepsUpToDate()then local pZ=Lib.ReadFile("dex/rbx_rmd.dat")if pZ then pY=pZ else Main.DepsVersionData[1]=""end end;pY=pY or game:HttpGet("https://raw.githubusercontent.com/CloneTrooper1019/Roblox-Client-Tracker/roblox/ReflectionMetadata.xml")else if script:FindFirstChild("RMD")then pY=require(script.RMD)else error("NO RMD EXISTS")end end;Main.RawRMD=pY;local p_=Lib.ParseXML(pY)local e6=p_.children[1].children[1].children;local q0=p_.children[1].children[2].children;local q1={}local c0,kB={},{}for _,bc in pairs(e6)do local bR=""for _,q2 in pairs(bc.children)do if q2.tag=="Properties"then local d={Properties={},Functions={}}local dD=q2.children;for _,b1 in pairs(dD)do local eU=b1.attrs.name;eU=eU:sub(1,1):upper()..eU:sub(2)d[eU]=b1.children[1].text end;bR=d.Name;c0[bR]=d elseif q2.attrs.class=="ReflectionMetadataProperties"then local q3=q2.children;for _,pP in pairs(q3)do if pP.attrs.class=="ReflectionMetadataMember"then local d={}if pP.children[1].tag=="Properties"then local dD=pP.children[1].children;for _,b1 in pairs(dD)do if b1.attrs then local eU=b1.attrs.name;eU=eU:sub(1,1):upper()..eU:sub(2)d[eU]=b1.children[1].text end end;if d.PropertyOrder then local q4=q1[bR]if not q4 then q4={}q1[bR]=q4 end;q4[d.Name]=tonumber(d.PropertyOrder)end;c0[bR].Properties[d.Name]=d end end end elseif q2.attrs.class=="ReflectionMetadataFunctions"then local q3=q2.children;for _,pP in pairs(q3)do if pP.attrs.class=="ReflectionMetadataMember"then local d={}if pP.children[1].tag=="Properties"then local dD=pP.children[1].children;for _,b1 in pairs(dD)do if b1.attrs then local eU=b1.attrs.name;eU=eU:sub(1,1):upper()..eU:sub(2)d[eU]=b1.children[1].text end end;c0[bR].Functions[d.Name]=d end end end end end end;for _,fG in pairs(q0)do local q5=""for _,q2 in pairs(fG.children)do if q2.tag=="Properties"then local d={Items={}}local dD=q2.children;for _,b1 in pairs(dD)do local eU=b1.attrs.name;eU=eU:sub(1,1):upper()..eU:sub(2)d[eU]=b1.children[1].text end;q5=d.Name;kB[q5]=d elseif q2.attrs.class=="ReflectionMetadataEnumItem"then local d={}if q2.children[1].tag=="Properties"then local dD=q2.children[1].children;for _,b1 in pairs(dD)do local eU=b1.attrs.name;eU=eU:sub(1,1):upper()..eU:sub(2)d[eU]=b1.children[1].text end;kB[q5].Items[d.Name]=d end end end end;return{Classes=c0,Enums=kB,PropertyOrders=q1}end;Main.ShowGui=function(hj)if env.gethui then hj.Parent=env.gethui()elseif env.protectgui then env.protectgui(hj)hj.Parent=Main.GuiHolder else hj.Parent=Main.GuiHolder end end;Main.CreateIntro=function(q6)local hj=create({{1,"ScreenGui",{Name="Intro"}},{2,"Frame",{Active=true,BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="Main",Parent={1},Position=UDim2.new(0.5,-175,0.5,-100),Size=UDim2.new(0,350,0,200)}},{3,"Frame",{BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,ClipsDescendants=true,Name="Holder",Parent={2},Size=UDim2.new(1,0,1,0)}},{4,"UIGradient",{Parent={3},Rotation=30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{5,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=4,Name="Title",Parent={3},Position=UDim2.new(0,-190,0,15),Size=UDim2.new(0,100,0,50),Text="Dex",TextColor3=Color3.new(1,1,1),TextSize=50,TextTransparency=1}},{6,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Desc",Parent={3},Position=UDim2.new(0,-230,0,60),Size=UDim2.new(0,180,0,25),Text="Ultimate Debugging Suite",TextColor3=Color3.new(1,1,1),TextSize=18,TextTransparency=1}},{7,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="StatusText",Parent={3},Position=UDim2.new(0,20,0,110),Size=UDim2.new(0,180,0,25),Text="Fetching API",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=1}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="ProgressBar",Parent={3},Position=UDim2.new(0,110,0,145),Size=UDim2.new(0,0,0,4)}},{9,"Frame",{BackgroundColor3=Color3.new(0.2392156869173,0.56078433990479,0.86274510622025),BorderSizePixel=0,Name="Bar",Parent={8},Size=UDim2.new(0,0,1,0)}},{10,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://2764171053",ImageColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),Parent={8},ScaleType=1,Size=UDim2.new(1,0,1,0),SliceCenter=Rect.new(2,2,254,254)}},{11,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Creator",Parent={2},Position=UDim2.new(1,-110,1,-20),Size=UDim2.new(0,105,0,20),Text="Developed by Moon",TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1}},{12,"UIGradient",{Parent={11},Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{13,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Version",Parent={2},Position=UDim2.new(1,-110,1,-35),Size=UDim2.new(0,105,0,20),Text=Main.Version,TextColor3=Color3.new(1,1,1),TextSize=14,TextXAlignment=1}},{14,"UIGradient",{Parent={13},Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{15,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Image="rbxassetid://1427967925",Name="Outlines",Parent={2},Position=UDim2.new(0,-5,0,-5),ScaleType=1,Size=UDim2.new(1,10,1,10),SliceCenter=Rect.new(6,6,25,25),TileSize=UDim2.new(0,20,0,20)}},{16,"UIGradient",{Parent={15},Rotation=-30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}},{17,"UIGradient",{Parent={2},Rotation=-30,Transparency=NumberSequence.new({NumberSequenceKeypoint.new(0,1,0),NumberSequenceKeypoint.new(1,1,0)})}}})Main.ShowGui(hj)local q7=hj.Main.UIGradient;local q8=hj.Main.Outlines.UIGradient;local q9=hj.Main.Holder.UIGradient;local qa=hj.Main.Holder.Title;local qb=hj.Main.Holder.Desc;local qc=hj.Main.Version;local qd=qc.UIGradient;local qe=hj.Main.Creator;local qf=qe.UIGradient;local qg=hj.Main.Holder.StatusText;local qh=hj.Main.Holder.ProgressBar;local qi=service.TweenService;local h7=service.RunService.RenderStepped;local h8=h7.wait;local qj=function(bh)if not bh then return h8(h7)end;local cE=tick()while tick()-cE<bh do h8(h7)end end;qg.Text=q6;local function qk(n,k5,c_)local ql=Instance.new("IntValue")ql.Value=0;ql.Changed:Connect(c_)local jE=qi:Create(ql,k5,{Value=n})jE:Play()jE.Completed:Connect(function()ql:Destroy()end)end;local k5=TweenInfo.new(0.4,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)qk(100,k5,function(a7)a7=a7/200;local cE=NumberSequenceKeypoint.new(0,0)local qm=NumberSequenceKeypoint.new(a7,0)local qn=NumberSequenceKeypoint.new(math.min(0.5,a7+math.min(0.05,a7)),1)if qm.Time==qn.Time then qn=qm end;local qo=NumberSequenceKeypoint.new(1-a7,0)local qp=NumberSequenceKeypoint.new(math.max(0.5,1-a7-math.min(0.05,a7)),1)if qo.Time==qp.Time then qp=qo end;local qq=NumberSequenceKeypoint.new(1,0)q7.Transparency=NumberSequence.new({cE,qm,qn,qp,qo,qq})q8.Transparency=NumberSequence.new({cE,qm,qn,qp,qo,qq})end)qj(0.4)qk(100,k5,function(a7)a7=a7/166.66;local cE=NumberSequenceKeypoint.new(0,0)local qm=NumberSequenceKeypoint.new(a7,0)local qn=NumberSequenceKeypoint.new(a7+0.01,1)local qq=NumberSequenceKeypoint.new(1,1)q9.Transparency=NumberSequence.new({cE,qm,qn,qq})end)qi:Create(qa,k5,{Position=UDim2.new(0,60,0,15),TextTransparency=0}):Play()qi:Create(qb,k5,{Position=UDim2.new(0,20,0,60),TextTransparency=0}):Play()local function qr(a0)qk(100,k5,function(a7)a7=a7/100;local qm=NumberSequenceKeypoint.new(1-a7,0)local qn=NumberSequenceKeypoint.new(math.max(0,1-a7-0.01),1)if qm.Time==qn.Time then qn=qm end;local cE=NumberSequenceKeypoint.new(0,qm==qn and 0 or 1)local qq=NumberSequenceKeypoint.new(1,0)a0.Transparency=NumberSequence.new({cE,qn,qm,qq})end)end;qr(qd)qr(qf)qj(0.9)local qs=TweenInfo.new(0.25,Enum.EasingStyle.Quad,Enum.EasingDirection.Out)qi:Create(qg,qs,{Position=UDim2.new(0,20,0,120),TextTransparency=0}):Play()qi:Create(qh,qs,{Position=UDim2.new(0,60,0,145),Size=UDim2.new(0,100,0,4)}):Play()qj(0.25)local function qt(kk,n)qg.Text=kk;qi:Create(qh.Bar,qs,{Size=UDim2.new(n,0,1,0)}):Play()end;local function qu()qi:Create(qa,qs,{TextTransparency=1}):Play()qi:Create(qb,qs,{TextTransparency=1}):Play()qi:Create(qc,qs,{TextTransparency=1}):Play()qi:Create(qe,qs,{TextTransparency=1}):Play()qi:Create(qg,qs,{TextTransparency=1}):Play()qi:Create(qh,qs,{BackgroundTransparency=1}):Play()qi:Create(qh.Bar,qs,{BackgroundTransparency=1}):Play()qi:Create(qh.ImageLabel,qs,{ImageTransparency=1}):Play()qk(100,TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.In),function(a7)a7=a7/250;local cE=NumberSequenceKeypoint.new(0,0)local qm=NumberSequenceKeypoint.new(0.6+a7,0)local qn=NumberSequenceKeypoint.new(math.min(1,0.601+a7),1)if qm.Time==qn.Time then qn=qm end;local qq=NumberSequenceKeypoint.new(1,qm==qn and 0 or 1)q9.Transparency=NumberSequence.new({cE,qm,qn,qq})end)qj(0.5)hj.Main.BackgroundTransparency=1;q8.Rotation=30;qk(100,k5,function(a7)a7=a7/100;local cE=NumberSequenceKeypoint.new(0,1)local qm=NumberSequenceKeypoint.new(a7,1)local qn=NumberSequenceKeypoint.new(math.min(1,a7+math.min(0.05,a7)),0)if qm.Time==qn.Time then qn=qm end;local qq=NumberSequenceKeypoint.new(1,qm==qn and 1 or 0)q8.Transparency=NumberSequence.new({cE,qm,qn,qq})q9.Transparency=NumberSequence.new({cE,qm,qn,qq})end)qj(0.45)hj:Destroy()end;return{SetProgress=qt,Close=qu}end;Main.CreateApp=function(d)if Main.MenuApps[d.Name]then return end;local hN={}local qv=Main.AppTemplate:Clone()local kq=d.Icon;if d.IconMap and kq then if type(kq)=="number"then d.IconMap:Display(qv.Main.Icon,kq)elseif type(kq)=="string"then d.IconMap:DisplayByKey(qv.Main.Icon,kq)end elseif type(kq)=="string"then qv.Main.Icon.Image=kq else qv.Main.Icon.Image=""end;local function qw()qv.Main.BackgroundTransparency=d.Open and 0 or(Lib.CheckMouseInGui(qv.Main)and 0 or 1)qv.Main.Highlight.Visible=d.Open end;local function qx(k3)if d.Open then return end;d.Open=true;qw()if not k3 then if d.Window then d.Window:Show()end;if d.OnClick then d.OnClick(d.Open)end end end;local function qy(k3)if not d.Open then return end;d.Open=false;qw()if not k3 then if d.Window then d.Window:Hide()end;if d.OnClick then d.OnClick(d.Open)end end end;qw()local qz=service.TextService:GetTextSize(d.Name,14,Enum.Font.SourceSans,Vector2.new(62,999999)).Y;qv.Main.Size=UDim2.new(1,0,0,math.clamp(46+qz,60,74))qv.Main.AppName.Text=d.Name;qv.Main.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then qv.Main.BackgroundTransparency=0;qv.Main.BackgroundColor3=Settings.Theme.ButtonHover end end)qv.Main.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then qv.Main.BackgroundTransparency=d.Open and 0 or 1;qv.Main.BackgroundColor3=Settings.Theme.Button end end)qv.Main.MouseButton1Click:Connect(function()if d.Open then qy()else qx()end end)local dz=d.Window;if dz then dz.OnActivate:Connect(function()qx(true)end)dz.OnDeactivate:Connect(function()qy(true)end)end;qv.Visible=true;qv.Parent=Main.AppsContainer;Main.AppsFrame.CanvasSize=UDim2.new(0,0,0,Main.AppsContainerGrid.AbsoluteCellCount.Y*82+8)hN.Enable=qx;hN.Disable=qy;Main.MenuApps[d.Name]=hN;return hN end;Main.SetMainGuiOpen=function(a7)Main.MainGuiOpen=a7;Main.MainGui.OpenButton.Text=a7 and"X"or"Dex"if a7 then Main.MainGui.OpenButton.MainFrame.Visible=true end;Main.MainGui.OpenButton.MainFrame:TweenSize(a7 and UDim2.new(0,224,0,200)or UDim2.new(0,0,0,0),Enum.EasingDirection.Out,Enum.EasingStyle.Quad,0.2,true)service.TweenService:Create(Main.MainGui.OpenButton,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=a7 and 0 or(Lib.CheckMouseInGui(Main.MainGui.OpenButton)and 0 or 0.2)}):Play()if Main.MainGuiMouseEvent then Main.MainGuiMouseEvent:Disconnect()end;if not a7 then local nU=tick()Main.MainGuiCloseTime=nU;coroutine.wrap(function()Lib.FastWait(0.2)if not Main.MainGuiOpen and nU==Main.MainGuiCloseTime then Main.MainGui.OpenButton.MainFrame.Visible=false end end)()else Main.MainGuiMouseEvent=service.UserInputService.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseButton1 and not Lib.CheckMouseInGui(Main.MainGui.OpenButton)and not Lib.CheckMouseInGui(Main.MainGui.OpenButton.MainFrame)then Main.SetMainGuiOpen(false)end end)end end;Main.CreateMainGui=function()local hj=create({{1,"ScreenGui",{IgnoreGuiInset=true,Name="MainMenu"}},{2,"TextButton",{AnchorPoint=Vector2.new(0.5,0),AutoButtonColor=false,BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),BorderSizePixel=0,Font=4,Name="OpenButton",Parent={1},Position=UDim2.new(0.5,0,0,2),Size=UDim2.new(0,32,0,32),Text="Dex",TextColor3=Color3.new(1,1,1),TextSize=16,TextTransparency=0.20000000298023}},{3,"UICorner",{CornerRadius=UDim.new(0,4),Parent={2}}},{4,"Frame",{AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(0.17647059261799,0.17647059261799,0.17647059261799),ClipsDescendants=true,Name="MainFrame",Parent={2},Position=UDim2.new(0.5,0,1,-4),Size=UDim2.new(0,224,0,200)}},{5,"UICorner",{CornerRadius=UDim.new(0,4),Parent={4}}},{6,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),Name="BottomFrame",Parent={4},Position=UDim2.new(0,0,1,-24),Size=UDim2.new(1,0,0,24)}},{7,"UICorner",{CornerRadius=UDim.new(0,4),Parent={6}}},{8,"Frame",{BackgroundColor3=Color3.new(0.20392157137394,0.20392157137394,0.20392157137394),BorderSizePixel=0,Name="CoverFrame",Parent={6},Size=UDim2.new(1,0,0,4)}},{9,"Frame",{BackgroundColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="Line",Parent={8},Position=UDim2.new(0,0,0,-1),Size=UDim2.new(1,0,0,1)}},{10,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Settings",Parent={6},Position=UDim2.new(1,-48,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{11,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578871732",ImageTransparency=0.20000000298023,Name="Icon",Parent={10},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16)}},{12,"TextButton",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Font=3,Name="Information",Parent={6},Position=UDim2.new(1,-24,0,0),Size=UDim2.new(0,24,1,0),Text="",TextColor3=Color3.new(1,1,1),TextSize=14}},{13,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6578933307",ImageTransparency=0.20000000298023,Name="Icon",Parent={12},Position=UDim2.new(0,4,0,4),Size=UDim2.new(0,16,0,16)}},{14,"ScrollingFrame",{Active=true,AnchorPoint=Vector2.new(0.5,0),BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderColor3=Color3.new(0.1294117718935,0.1294117718935,0.1294117718935),BorderSizePixel=0,Name="AppsFrame",Parent={4},Position=UDim2.new(0.5,0,0,0),ScrollBarImageColor3=Color3.new(0,0,0),ScrollBarThickness=4,Size=UDim2.new(0,222,1,-25)}},{15,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="Container",Parent={14},Position=UDim2.new(0,7,0,8),Size=UDim2.new(1,-14,0,2)}},{16,"UIGridLayout",{CellSize=UDim2.new(0,66,0,74),Parent={15},SortOrder=2}},{17,"Frame",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Name="App",Parent={1},Size=UDim2.new(0,100,0,100),Visible=false}},{18,"TextButton",{AutoButtonColor=false,BackgroundColor3=Color3.new(0.2352941185236,0.2352941185236,0.2352941185236),BorderSizePixel=0,Font=3,Name="Main",Parent={17},Size=UDim2.new(1,0,0,60),Text="",TextColor3=Color3.new(0,0,0),TextSize=14}},{19,"ImageLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,Image="rbxassetid://6579106223",ImageRectSize=Vector2.new(32,32),Name="Icon",Parent={18},Position=UDim2.new(0.5,-16,0,4),ScaleType=4,Size=UDim2.new(0,32,0,32)}},{20,"TextLabel",{BackgroundColor3=Color3.new(1,1,1),BackgroundTransparency=1,BorderSizePixel=0,Font=3,Name="AppName",Parent={18},Position=UDim2.new(0,2,0,38),Size=UDim2.new(1,-4,1,-40),Text="Explorer",TextColor3=Color3.new(1,1,1),TextSize=14,TextTransparency=0.10000000149012,TextTruncate=1,TextWrapped=true,TextYAlignment=0}},{21,"Frame",{BackgroundColor3=Color3.new(0,0.66666668653488,1),BorderSizePixel=0,Name="Highlight",Parent={18},Position=UDim2.new(0,0,1,-2),Size=UDim2.new(1,0,0,2)}}})Main.MainGui=hj;Main.AppsFrame=hj.OpenButton.MainFrame.AppsFrame;Main.AppsContainer=Main.AppsFrame.Container;Main.AppsContainerGrid=Main.AppsContainer.UIGridLayout;Main.AppTemplate=hj.App;Main.MainGuiOpen=false;local qA=hj.OpenButton;qA.BackgroundTransparency=0.2;qA.MainFrame.Size=UDim2.new(0,0,0,0)qA.MainFrame.Visible=false;qA.MouseButton1Click:Connect(function()Main.SetMainGuiOpen(not Main.MainGuiOpen)end)qA.InputBegan:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then service.TweenService:Create(Main.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=0}):Play()end end)qA.InputEnded:Connect(function(aK)if aK.UserInputType==Enum.UserInputType.MouseMovement then service.TweenService:Create(Main.MainGui.OpenButton,TweenInfo.new(0,Enum.EasingStyle.Quad,Enum.EasingDirection.Out),{BackgroundTransparency=Main.MainGuiOpen and 0 or 0.2}):Play()end end)Main.CreateApp({Name="Explorer",IconMap=Main.LargeIcons,Icon="Explorer",Open=true,Window=Explorer.Window})Main.CreateApp({Name="Properties",IconMap=Main.LargeIcons,Icon="Properties",Open=true,Window=Properties.Window})Main.CreateApp({Name="Script Viewer",IconMap=Main.LargeIcons,Icon="Script_Viewer",Window=ScriptViewer.Window})local qB=nil;Main.CreateApp({Name="Click part to select",IconMap=Main.LargeIcons,Icon=6,OnClick=function(qC)if qC then local aF=Main.Mouse;qB=aF.Button1Down:Connect(function()pcall(function()local mM=aF.Target;if a[mM]then b:Set(a[mM])Explorer.ViewNode(a[mM])end end)end)else if qB~=nil then qB:Disconnect()qB=nil end end end})Lib.ShowGui(hj)end;Main.SetupFilesystem=function()if not env.writefile or not env.makefolder then return end;local writefile,makefolder=env.writefile,env.makefolder;makefolder("dex")makefolder("dex/assets")makefolder("dex/saved")makefolder("dex/plugins")makefolder("dex/ModuleCache")end;Main.LocalDepsUpToDate=function()return Main.DepsVersionData and Main.ClientVersion==Main.DepsVersionData[1]end;function Main.Init()Main.Elevated=pcall(function()local ac=cloneref(game:GetService("CoreGui")):GetFullName()end)Main.InitEnv()Main.LoadSettings()Main.SetupFilesystem()local qD=Main.CreateIntro("Initializing Library")Lib=Main.LoadModule("Lib")Lib.FastWait()Main.MiscIcons=Lib.IconMap.new("rbxassetid://6511490623",256,256,16,16)Main.MiscIcons:SetDict({Reference=0,Cut=1,Cut_Disabled=2,Copy=3,Copy_Disabled=4,Paste=5,Paste_Disabled=6,Delete=7,Delete_Disabled=8,Group=9,Group_Disabled=10,Ungroup=11,Ungroup_Disabled=12,TeleportTo=13,Rename=14,JumpToParent=15,ExploreData=16,Save=17,CallFunction=18,CallRemote=19,Undo=20,Undo_Disabled=21,Redo=22,Redo_Disabled=23,Expand_Over=24,Expand=25,Collapse_Over=26,Collapse=27,SelectChildren=28,SelectChildren_Disabled=29,InsertObject=30,ViewScript=31,AddStar=32,RemoveStar=33,Script_Disabled=34,LocalScript_Disabled=35,Play=36,Pause=37,Rename_Disabled=38})Main.LargeIcons=Lib.IconMap.new("rbxassetid://6579106223",256,256,32,32)Main.LargeIcons:SetDict({Explorer=0,Properties=1,Script_Viewer=2})qD.SetProgress("Fetching Roblox Version",0.2)if Main.Elevated then local qE=Lib.ReadFile("dex/deps_version.dat")Main.ClientVersion=Version()if qE then Main.DepsVersionData=string.split(qE,"\n")if Main.LocalDepsUpToDate()then Main.RobloxVersion=Main.DepsVersionData[2]end end;Main.RobloxVersion=Main.RobloxVersion or game:HttpGet("http://setup.roblox.com/versionQTStudio")end;qD.SetProgress("Fetching API",0.35)API=Main.FetchAPI()Lib.FastWait()qD.SetProgress("Fetching RMD",0.5)RMD=Main.FetchRMD()Lib.FastWait()if Main.Elevated and env.writefile and not Main.LocalDepsUpToDate()then env.writefile("dex/deps_version.dat",Main.ClientVersion.."\n"..Main.RobloxVersion)env.writefile("dex/rbx_api.dat",Main.RawAPI)env.writefile("dex/rbx_rmd.dat",Main.RawRMD)end;qD.SetProgress("Loading Modules",0.75)Main.AppControls.Lib.InitDeps(Main.GetInitDeps())Main.LoadModules()Lib.FastWait()qD.SetProgress("Initializing Modules",0.9)Explorer.Init()Properties.Init()ScriptViewer.Init()Lib.FastWait()qD.SetProgress("Complete",1)coroutine.wrap(function()Lib.FastWait(1.25)qD.Close()end)()Lib.Window.Init()Main.CreateMainGui()Explorer.Window:Show({Align="right",Pos=1,Size=0.5,Silent=true})Properties.Window:Show({Align="right",Pos=2,Size=0.5,Silent=true})Lib.DeferFunc(function()Lib.Window.ToggleSide("right")end)end;return Main end)()end;Main.Init()
